(()=>{var e={463:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(489),n(2419),n(4819),n(5003),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948);var h=n(927),p=n(6663),d=function(e){"use strict";!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(h,e);var t,n,r,u=s(h);function h(e,t){var n,r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),n=u.call(this,e,t),r=l(n),a=!0,(o="isBot")in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,n}return t=h,(n=[{key:"message",value:function(e,t,n){this.suppressed||(this.websocket&&a(c(h.prototype),"message",this).call(this,e,t,n),p.call(this,{type:e,message:t,status:n}))}}])&&o(t.prototype,n),r&&o(t,r),h}(h);e.exports=d},4497:(e,t,n)=>{n(1249),n(5735),n(3753),n(7327),n(7042),n(4553),n(561),n(4747),n(2222),n(9826);n(2946),n(2169),n(9458),n(4810),n(502);var r=n(2976),o=n(7905);e.exports=function(e){var t,n,a,i,s=e.botConfig,u=this.getRoom();if(!1!==u.inGame){var l=u.gameData,c=l.playerHands[this.clientId];if(!l.currentTurn.turnChoices[this.clientId]){var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;e instanceof Array||(e=[e]),u.onPlace({mahjong:t||void 0,swapJoker:!0,type:"roomActionPlaceTiles",message:e=e.map((function(e){return e.toJSON()}))},this.clientId)}.bind(this),p={botDifficulty:null!==(t=s.botDifficulty)&&void 0!==t?t:u.state.settings.americanBotDifficulty};p.cardPercentage=2*Math.pow(50,p.botDifficulty/100),p.maxAnalysisRounds=1/0,p.botDifficulty<100&&(p.maxAnalysisRounds=Math.max(1,100*Math.pow(.7,100-p.botDifficulty))),p.averageAnalyzedCharlestonTiles=3-1.5*(100-p.botDifficulty)/100;var d=this._cardToUse,f=this.clientId+u.state.seed;if(!d||d.seed!==f){d=l.card.combos;if(p.cardPercentage=p.cardPercentage/Math.max(1,d.length/1e3),p.cardPercentage<100){var v=o(f);d=d.filter((function(e,t){return!t||100*v()<p.cardPercentage}))}d.seed=f,this._cardToUse=d,setTimeout(function(){delete this._cardToUse}.bind(this),36e5)}var m=f+(null==u||null===(n=u.gameData)||void 0===n||null===(a=n.wall)||void 0===a||null===(i=a.readFirst())||void 0===i?void 0:i.getTileName()),g=o(m),y=Math.floor(p.averageAnalyzedCharlestonTiles+g()),w=r.getTileDifferential(d,c.contents);if(l.charleston){var b=l.charleston.directions[0][0];if(b.blind)h(O(w,y,!0));else if(b.allAgree&&O(w,3,!0).length<3)h([]);else{var S=[];for(O(w,y,!0).forEach((function(e){S.push(e),c.remove(e)}));S.length<3;){var E=c.contents[Math.floor(g()*c.contents.length)];"joker"!==E.type&&(S.push(E),c.remove(E))}S.forEach((function(e){c.add(e)})),h(S)}}else if(l.currentTurn.userTurn===this.clientId){var T,x,C;if((null===(T=w[0])||void 0===T||null===(x=T.notUsed)||void 0===x?void 0:x.length)>0){var k=O(w,1);h(k)}else{if(0!==(null===(C=w[0])||void 0===C?void 0:C.diff))throw console.error("Bot hand appears to be dead. Initiating emergency pick. "),"Hand is Dead";h([],!0)}}else if(l.currentTurn.thrown){if("joker"===l.currentTurn.thrown.type)return h([]);var M=r.getTileDifferential(d,c.contents.concat(l.currentTurn.thrown));if(!M[0])throw"Bot Hand is Dead";if(M[0].handOption.concealed&&0!==M[0].diff);else if(M.some((function(e){if(e.diff<w[0].diff){var t=e.handOption.tiles.find((function(e){if(e[0].matches(l.currentTurn.thrown))return!0}));if(t){var n=[];if(c.contents.forEach((function(e){t[0].matches(e)&&n.push(e)})),t.length>2){if(c.contents.forEach((function(e){n.length!==t.length-1&&"joker"===e.type&&n.push(e)})),n.length===t.length-1)return h(n.concat(l.currentTurn.thrown)),!0}else if(0===e.diff){if(n.length===t.length-1)return h(n.concat(l.currentTurn.thrown),!0),!0;console.warn("Continuing Needs Mahjong")}}else console.warn(l.currentTurn.thrown,c.contents,w[0],e),console.warn("Something odd happened, probably in sorting, causing a match not including the thrown tile to be provided. ")}})))return void console.warn("Returned");h([])}}}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=Math.max(1,t);var r=e[0].notUsed.slice(0);n&&(r=r.filter((function(e){return"joker"!==e.type})));e:for(var o=0;o<e.length;o++)for(var a=e[o],i=function(e){if(r.length<=t)return s=e,"break|analysisLoop";if(e>p.maxAnalysisRounds)return s=e,"break|analysisLoop";var n=r[e];-1===("joker"===n.type?-1:a.notUsed.findIndex((function(t){return s=e,t.matches(n)})))&&(r.splice(e,1),e--),s=e},s=0;s<r.length;s++){var u=i(s);if("break|analysisLoop"===u)break e}for(;t<r.length;)r.splice(Math.floor(g()*r.length),1);return r}}},5681:(e,t,n)=>{function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(1249),n(5735),n(3753),n(7327),n(9601),n(4747),n(6699),n(2707),n(7941),n(2222),n(3290),n(7042),n(5827),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(1038),n(8309);var a=n(2946),i=n(2169),s=n(9458),u=n(4810),l=n(7905);e.exports=function(){var e,t,n,o=this.getRoom();if(!1!==o.inGame){var c=o.gameData,h=c.playerHands[this.clientId];if(!c.currentTurn.turnChoices[this.clientId]){var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.isMahjong(o.state.settings.maximumSequences);e instanceof Array||(e=[e]),o.onPlace({mahjong:t||void 0,type:"roomActionPlaceTiles",message:e=e.map((function(e){return e.toJSON()}))},this.clientId)}.bind(this);if(h.isMahjong(o.state.settings.maximumSequences))return p();var d=this.clientId+o.state.seed+(null==o||null===(e=o.gameData)||void 0===e||null===(t=e.wall)||void 0===t||null===(n=t.readFirst())||void 0===n?void 0:n.getTileName()),f=l(d);if(c.charleston)p(b());else if(c.currentTurn.userTurn===this.clientId){var v=w(h.contents,h.wind,{chooseSecondarySuit:!1,looseTileCost:5});if("east"===h.wind&&o.state.settings.charleston.length>0&&!1!==c.charleston&&o.state.settings.botSettings.canCharleston){var m=["circle","character","bamboo","honor"].map((function(e){var t;return(null===(t=v[e])||void 0===t?void 0:t.value)||0}));p(Math.max.apply(Math,r(m))>55?v.strategy.throw:b())}else p(v.strategy.throw)}else if(c.currentTurn.thrown){h.add(c.currentTurn.thrown);var g=h.isMahjong(o.state.settings.maximumSequences),y=c.currentTurn.thrown;if(g)return console.log("Naked Mahjong"),h.remove(c.currentTurn.thrown),p([c.currentTurn.thrown],g);if(h.removeMatchingTilesFromHand(y,4,!0))return h.remove(c.currentTurn.thrown),p(new Array(4).fill(c.currentTurn.thrown),g);if(h.removeMatchingTilesFromHand(y,3,!0))return h.remove(c.currentTurn.thrown),p(new Array(3).fill(c.currentTurn.thrown),g);if(g&&h.removeMatchingTilesFromHand(y,2,!0))return h.remove(c.currentTurn.thrown),p(new Array(2).fill(c.currentTurn.thrown),g);h.remove(c.currentTurn.thrown),p([])}}}function w(e,t){var n,r,o=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=e.filter((function(e){return!(e instanceof u)}));var c={looseTileCost:5,possibleDoubleRatio:.4,chooseSecondarySuit:!1,charleston:!1};Object.assign(c,l);var h={};function p(e){return e.forEach((function(e){e instanceof a&&(e.sortValue=f()),e.sortValue=e.amount})),e.sort((function(e,t){return e.sortValue-t.sortValue})),e.forEach((function(e){delete e.sortValue})),e=e.filter((function(e){return!(!e.isGenerated&&e instanceof s)}))}e.forEach((function(e){var t=e.type;["wind","dragon"].includes(e.type)&&(t="honor"),h[t]=h[t]||[],h[t].push(e)}));var d=function(e){var n=h[e],r=new i;r.contents=n.slice(0);for(var u=function(e){var t=r.contents[e];if(!(t instanceof a))return l=e,"continue";[4,3,2].forEach(function(n){if(r.removeMatchingTilesFromHand(t,n)){e--;var o=new s({amount:n,type:t.type,value:t.value,exposed:!1});o.isGenerated=!0,r.contents.push(o)}}.bind(o)),l=e},l=0;l<r.contents.length;l++)u(l);var d=r.contents.reduce((function(e,n){return e.weight+=c.looseTileCost*(n.amount||1),n.isDouble(t)?e.valueMult+=1:n.isDouble(t,!0)&&(Math.round(e.valueMult)===e.valueMult?e.valueMult+=c.possibleDoubleRatio:e.valueMult+=1),2===n.amount?e.value+=10:3===n.amount?e.value+=25:4===n.amount&&(e.value+=40),e}),{weight:0,value:0,valueMult:0});d.value*=Math.pow(2,d.valueMult),delete d.valueMult,Object.assign(d,{tiles:n,contents:r.contents}),d.contents=p(d.contents),h[e]=d};for(var v in h)d(v);var m=Object.assign({},h);delete m.honor;var g={honors:!1},y=Object.keys(m);if(y.length>1&&(g.honors=!0),1===y.length)g.suit=y[0];else{var w=[];for(var b in m)0!==m[b].contents.length&&w.push([b,m[b].value+m[b].weight]);0!==w.length?(g.results=w,w.sort((function(e,t){return t[1]-e[1]})),g.suit=w[0][0],g.throwSuit=w[w.length-1][0],c.chooseSecondarySuit&&3===w.length&&(g.throwSuit=w[1][0])):(g.suit="honor",g.throwSuit="honor")}for(var S in"honor"!==g.suit&&h.honor&&h.honor.value+h.honor.weight>m[g.suit].value/2&&(g.honors=!0),g.throwSuit===g.suit&&!1===g.honors&&(g.throwSuit="honor"),g.throw=null===(n=h[g.throwSuit])||void 0===n||null===(r=n.contents)||void 0===r?void 0:r[0],h.tiles=[],h.contents=[],h)h[S].tiles&&(h.tiles=h.tiles.concat(h[S].tiles),h.contents=h.contents.concat(h[S].contents));return g.throw||(console.warn("WARNING: A throw was not found through normal measures. Picking tile to avoid crash. "),h.contents=p(h.contents),g.throw=h.contents[0]),g.throw instanceof s&&(g.throw=g.throw.getComponentTile()),!1===c.charleston&&h.contents.forEach((function(e){4===e.amount&&(g.throw=new Array(4).fill(e.getComponentTile()))})),h.strategy=g,h}function b(){for(var e=[],t=0;t<3;t++){var n=w(h.contents,h.wind,{chooseSecondarySuit:Boolean(t%2),looseTileCost:2,charleston:!0}).strategy;h.removeMatchingTile(n.throw),e.push(n.throw)}return e.forEach((function(e){h.add(e)})),e}}},6663:(e,t,n)=>{n(2222),n(6699),n(2023);var r=n(5681),o=n(4497);e.exports=function(e){var t=e.type,n=e.message,a=e.status,i=e.botConfig,s=void 0===i?{}:i;if("roomActionState"===t){var u,l,c,h,p,d,f,v,m,g,y,w;if(null!==(u=this.getRoom())&&void 0!==u&&null!==(l=u.gameData)&&void 0!==l&&l.isMahjong||null!==(c=this.getRoom())&&void 0!==c&&null!==(h=c.gameData)&&void 0!==h&&null!==(p=h.wall)&&void 0!==p&&p.isEmpty)return;var b=null===(d=this.getRoom())||void 0===d||null===(f=d.gameData)||void 0===f||null===(v=f.currentTurn)||void 0===v||null===(m=v.turnChoices)||void 0===m?void 0:m[this.clientId],S=null===(g=this.getRoom())||void 0===g||null===(y=g.gameData)||void 0===y||null===(w=y.playerHands)||void 0===w?void 0:w[this.clientId];try{var E,T,x;"american"===(null===(E=this.getRoom())||void 0===E||null===(T=E.state)||void 0===T||null===(x=T.settings)||void 0===x?void 0:x.gameStyle)?o.call(this,{botConfig:s}):r.call(this,{botConfig:s})}catch(e){b&&(this.getRoom().gameData.currentTurn.turnChoices[this.clientId]=b),S&&(this.getRoom().gameData.playerHands[this.clientId]=S),console.log("FATAL BOT ERROR: "+e),console.log(e.stack),this.getRoom().messageAll([this.clientId],"displayMessage",{title:"Bot Error",body:"".concat(this.getNickname(),' has encountered an error. You can manually control the bot <a target="_blank" href="#clientId=').concat(this.clientId,'">here</a>. ')})}}"error"===a&&n.includes&&!n.includes("higher priority placement")&&(this.getRoom().messageAll([this.clientId],"displayMessage",{title:"Bot Error",body:"".concat(this.getNickname(),' has received an error message. If it is not functioning, you can manually control the bot <a target="_blank" href="#clientId=').concat(this.clientId,'">here</a>. ')}),console.error("Bot received an error message",n))}},927:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o;n(7042),n(5837),n(9600),n(8309),n(7327),n(1249),n(4747),n(5735),n(3753),n(5827),n(9653),n(3210),n(6699),n(2023);var a=function(){"use strict";function e(t,n){var r,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a=!1,(o="suppressed")in(r=this)?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,this.clientId=t,this.nickname=t.slice(0,7),this.websocket=n,this.clearMessageHistory()}var t,a,i;return t=e,i=[{key:"fromJSON",value:function(t){var r,a=JSON.parse(t);return a.isBot?(o||(o=n(463)),r=new o(a.clientId)):r=new e(a.clientId),r.setNickname(a.nickname),r.setRoomId(a.roomId),r}}],(a=[{key:"message",value:function(e,t,r){if("roomActionGameplayAlert"===e&&this.addMessageToHistory(t),"roomActionStartGame"===e&&this.clearMessageHistory(),!this.suppressed){if(globalThis.runBotClientAutoPlay){var o,a;try{o=n(Object(function(){var e=new Error("Cannot find module 'fs'");throw e.code="MODULE_NOT_FOUND",e}())),a=n(Object(function(){var e=new Error("Cannot find module 'path'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){console.warn(e)}if(this.lastSent||(this.lastSent=Date.now()),null!=t&&t.isGameOver){var i;if(this.getRoom().logFileSaveId===this.lastSaveId)return;this.lastSaveId=this.getRoom().logFileSaveId,this.games||(this.games=[]);var s={tilesLeft:null!==(i=t.wallTiles.length)&&void 0!==i?i:t.wallTiles,mahjongPlayer:1===t.isGameOver?t.currentTurn.userTurn:void 0,runTime:Date.now()-this.startedLastGame};console.error(s),this.games.push(s);var u=s.mahjongPlayer===this.clientId;s.weWon=u;var l=a.join(globalThis.serverStateManager.serverDataDirectory,this.getRoom().gameData.card.name);if(o.existsSync(l)||o.mkdirSync(l,{recursive:!0}),u){var c=n(2976).getTileDifferential(this.getRoom().gameData.card,this.getRoom().gameData.playerHands[this.clientId].contents);s.analysis=c;var h=s.analysis.filter((function(e){return 0===e.diff}));h=h.map((function(e){return{section:e.handOption.section,index:e.handOption.cardIndex+1}})),s.cards=h,s.cards.forEach((function(e){var t=a.join(l,e.section,String(e.index));o.existsSync(t)||o.mkdirSync(t,{recursive:!0});for(var n=1;;n++){var r=a.join(t,n+".server.json");if(!o.existsSync(r)){o.writeFileSync(r,globalThis.serverStateManager.toJSON());break}}}))}var p=a.join(l,"log.txt");o.appendFileSync(p,"Game: "+(this.games.length-1)+"\n"),o.appendFileSync(p,"Average Runtime: "+this.games.slice(1).reduce((function(e,t){return e+t.runTime}),0)/(this.games.length-1)+"\n"),o.appendFileSync(p,"Win Percentage: "+this.games.slice(1).reduce((function(e,t){return e+Number(t.weWon)}),0)/(this.games.length-1)+"\n"),o.appendFileSync(p,"Any Win Percentage: "+this.games.slice(1).reduce((function(e,t){return e+Number(!!t.mahjongPlayer)}),0)/(this.games.length-1)+"\n"),this.games.length>(globalThis.simulatedGamesToRun||500)?console.error(this.games):(this.startedLastGame=Date.now(),setTimeout(function(){this.endGame({}),this.startGame({type:"roomActionStartGame",settings:this.state.settings})}.bind(this.getRoom()),300))}else{if("roomActionState"===e){if(Math.random()<1&&this.getRoom().inGame&&Date.now()-this.lastSent<5e3);else if(console.log("Sent"),this.lastSent=Date.now(),this.websocket)try{return this.websocket.send(JSON.stringify({type:e,message:t,status:r}))}catch(e){console.error(e)}return n(6663).call(this,{type:e,message:t,status:r,botConfig:{botDifficulty:100}})}if("roomActionGameplayAlert"===e)return}}if(this.websocket)try{return this.websocket.send(JSON.stringify({type:e,message:t,status:r}))}catch(e){console.error(e)}}}},{key:"clearMessageHistory",value:function(){this.messageHistory=[],this.messageHistory.push({message:"Game Started",move:0})}},{key:"addMessageToHistory",value:function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.messageHistory.push({message:e,move:(null==this||null===(t=this.getRoom())||void 0===t||null===(n=t.state)||void 0===n||null===(r=n.moves)||void 0===r?void 0:r.length)+o})}},{key:"setWebsocket",value:function(e){this.websocket=e}},{key:"setNickname",value:function(e){e.trim()&&(this.nickname=e.slice(0,14))}},{key:"getNickname",value:function(){return this.nickname}},{key:"suppress",value:function(){this.suppressed=!0}},{key:"unsuppress",value:function(){this.suppressed=!1}},{key:"setRoomId",value:function(e){this.roomId=e}},{key:"getRoomId",value:function(){var e=globalThis.serverStateManager.getRoom(this.roomId);if(e&&e.clientIds.includes(this.clientId))return this.roomId}},{key:"getRoom",value:function(){return globalThis.serverStateManager.getRoom(this.getRoomId())}},{key:"delete",value:function(e){try{this.websocket.close(1e3)}catch(e){}globalThis.serverStateManager.deleteClient(this.clientId)}},{key:"toJSON",value:function(){var e={clientId:this.clientId,nickname:this.nickname,roomId:this.roomId,isBot:this.isBot};return JSON.stringify(e)}}])&&r(t.prototype,a),i&&r(t,i),e}();e.exports=a},8258:(e,t,n)=>{function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(4747),n(6699),n(2023),n(5837),n(7042),n(5069),n(2772),n(9653),n(2222),n(9826),n(4553),n(561),n(5827),n(4916),n(3123),n(3210),n(1249),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(1038),n(8309);n(6212);var s=n(2169),u=n(2946),l=n(9458),c=(n(4810),n(7793)),h=n(502),p=function(){"use strict";function e(t){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.state=i,this.roomId=this.state.roomId=t,this.state.settings=this.state.settings||{},console.log(i),this.clientIds=this.state.clientIds=this.state.clientIds||[],this.inGame=!1,this.gameData={},this.setInstructions=function(e,t){var n;null!=this&&null!==(n=this.gameData)&&void 0!==n&&n.instructions||(this.gameData.instructions={}),this.gameData.instructions[e]=t}.bind(this),this.setAllInstructions=function(e,t){var n=this;this.clientIds.forEach((function(r){e.includes(r)||n.setInstructions(r,t)}))}.bind(this),Object.defineProperty(this,"hostClientId",{set:function(e){o=e,this.state.hostClientId=e},get:function(){return o}}),this.hostClientId=this.state.hostClientId,this.state.moves=this.state.moves||[];var p=function(){var e=this;if(this.state.seed){console.time("Loading Room State... "),this.clientIds.forEach(function(t){var n=globalThis.serverStateManager.getClient(t);n.suppress(),void 0===n.getRoomId()&&n.setRoomId(e.roomId)}.bind(this));var t=this.state.moves.slice(0);this.startGame({type:"roomActionStartGame",settings:this.state.settings}),console.log(t),t.forEach((function(t){e.onPlace.apply(e,r(t))})),this.clientIds.forEach((function(e){globalThis.serverStateManager.getClient(e).unsuppress()})),this.sendStateToClients(),delete this.init,console.timeEnd("Loading Room State... ")}}.bind(this);this.init=p,this.startGame=n(3449).bind(this),this.addBot=n(8312).bind(this),this.onIncomingMessage=n(4116).bind(this),this.getSummary=n(4403).bind(this),this.turnChoicesProxyHandler={set:n(5392).bind(this)},this.getState=n(7203).bind(this),this.removeClient=n(7571).bind(this),this.drawTile=n(3945).bind(this),this.goMahjong=n(8308).bind(this),this.shouldRotateWinds=!0,this.rotateWinds=function(){var e=["north","east","south","west"].reverse();for(var t in this.state.settings.windAssignments){var n=this.state.settings.windAssignments[t];this.state.settings.windAssignments[t]=e[(e.indexOf(n)+1)%4]}},this.revertState=function(t,n){if(n=Number(n),isNaN(n)||n<0)return t.message("roomActionGameplayAlert","Revert Error: Invalid Revert turnNumber","success");this.messageAll([],"roomActionGameplayAlert","".concat(t.getNickname()," reverted to move ").concat(n," (").concat(this.state.moves.length-1-n," moves)")),globalThis.serverStateManager.deleteRoom(this.roomId),this.state.moves=this.state.moves.slice(0,n);var r=new e(this.roomId,this.state);globalThis.serverStateManager.createRoom(this.roomId,r),r.init()}.bind(this),this.sendStateToClients=function(){var e=this;this.clientIds.forEach((function(t){var n=globalThis.serverStateManager.getClient(t),r=e.getState(t);n.message("roomActionState",r,"success")}))}.bind(this),this.addClient=function(e){var t=globalThis.serverStateManager.getClient(e);return this.clientIds.includes(e)?t.message("joinRoom","Already In Room","error"):(t.setRoomId(this.roomId),t.message("joinRoom",this.roomId,"success"),this.hostClientId||(this.hostClientId=e),this.clientIds.push(e),this.sendStateToClients(),!0)}.bind(this),this.messageAll=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.clientIds.forEach((function(t){if(!e.includes(t)){var r=globalThis.serverStateManager.getClient(t);r.message.apply(r,n)}}))}.bind(this),this.endGame=function(e,t){var n="The Game Has Ended";t&&(n="The game has been ended by "+globalThis.serverStateManager.getClient(t).getNickname()+".");this.shouldRotateWinds&&this.rotateWinds(),this.shouldRotateWinds=!0,this.inGame=!1,delete this.state.seed,delete this.state.wall,this.state.moves=[],this.gameData={},this.messageAll([t],e.type,n,"success"),this.sendStateToClients()}.bind(this);var d=!1,f=!1;this.onPlace=function(e,t){var n=this,r=[e,t];if(this.state.moves.push(r),this.logFile)try{this.logFile.write(JSON.stringify(r)+"\n")}catch(e){console.error("ERROR WRITING TO ROOM LOGFILE: ",e)}var o,a=globalThis.serverStateManager.getClient(t),i=this.gameData.playerHands[t];if(this.gameData.isMahjong)return a.message("displayMessage",{title:"Mahjong!",body:this.lastSummary});if(this.gameData.wall.isEmpty)return a.message("displayMessage",{title:"Game Over - Wall Empty",body:this.lastSummary});if(!i)return a.message("displayMessage",{title:"Access Denied",body:"It appears that you spectating. "});try{if(o=s.convertStringsToTiles(e.message),this.state.settings.charleston.length>0&&void 0===this.gameData.charleston&&1!==o.length&&"east"===i.wind)if(3===o.length){this.gameData.charleston={directions:this.state.settings.charleston.slice(0)};var p=this.gameData.charleston.directions[0][0].direction;this.setAllInstructions([],"Welcome to the Charleston. Select 3 tiles you would like to pass "+p+", then hit Proceed. ","success"),this.messageAll([t],"roomActionGameplayAlert","The first Charleston pass is "+p,"success")}else{if(!e.mahjong)return a.message(e.type,"The very first throw must be either 1 tile, to initiate the game, or 3 tiles, to initiate charleston. ","error");e.mahjong&&(o=void 0)}else if(this.gameData.charleston);else if(o.length>1)if("american"===this.state.settings.gameStyle)o=new h({tiles:o});else if(l.isValidMatch(o))o=new l({exposed:!0,amount:o.length,type:o[0].type,value:o[0].value});else{if(!c.isValidSequence(o))return a.message(e.type,"Unable to create a sequence, or match. Please check your tiles. ","error");o=new c({exposed:!0,tiles:o})}else o=o[0],this.gameData.charleston=this.gameData.charleston||!1}catch(t){return a.message(e.type,"Error: "+t.message,"error")}if(o instanceof Array){if(this.gameData.currentTurn.turnChoices[t])return a.message(e.type,"You have already passed tiles for this charleston round. ","error");this.gameData.currentTurn.turnChoices[t]=o,this.sendStateToClients()}else if(!1===this.gameData.currentTurn.thrown||void 0===this.gameData.currentTurn.thrown){if(t!==this.gameData.currentTurn.userTurn)return a.message(e.type,"Can't place after draw before throw","error");if(o instanceof u){if(e.mahjong)return a.message(e.type,"You can't discard and go mahjong. ","error");if(!i.removeMatchingTilesFromHand(o))return a.message(e.type,"You can't place a tile you do not possess - try reloading the page or restarting the app","error");if(i.contents.some(function(e){return e instanceof l&&e.type===o.type&&e.value===o.value&&(e.amount=4,n.drawTile(t),!0)}.bind(this)))return this.messageAll([t],"roomActionGameplayAlert",a.getNickname()+" has upgraded an exposed pong into a kong. ",{clientId:t,speech:"Make that a kong",durationMultiplier:1.1}),void this.sendStateToClients();if(e.swapJoker){var v;if(!0===e.swapJoker)v=[t].concat(this.clientIds);else{if(-1===this.clientIds.indexOf(e.swapJoker))return a.message(e.type,"Unable to identify which player you want to swap with. ","error");v=[e.swapJoker]}if(v.some((function(e){return n.gameData.playerHands[e].contents.some((function(e){if(e.exposed){var t=e.tiles.find((function(e){return"joker"!==e.type})),n=e.tiles.findIndex((function(e){return"joker"===e.type}));if(-1!==n&&t.matches(o))return i.add(e.tiles[n]),e.tiles.splice(n,1),e.tiles.push(o),!0}}))})))return a.message("roomActionGameplayAlert","Successfully Swapped",{clientId:t,speech:"Swapped",durationMultiplier:.5}),this.messageAll([t],"roomActionGameplayAlert",a.getNickname()+" swapped a "+o.getTileName(this.state.settings.gameStyle)+" for a joker",{clientId:t,speech:"Swap",durationMultiplier:1}),this.sendStateToClients();if(!0!==e.swapJoker)return i.add(o),a.message(e.type,"Could not find a joker to swap with. ","error")}if(!e.swapJoker||!0===e.swapJoker){var m=o.getTileName(this.state.settings.gameStyle),g=a.getNickname()+" threw a "+m,y=1;this.state.settings.checkForCalling&&!i.calling&&i.isCalling(this.gameData.discardPile,this.state.settings.maximumSequences)&&(i.calling=!0,g+=", and is calling",y=1.5),this.gameData.currentTurn.thrown=o,delete this.lastDrawn,this.gameData.currentTurn.turnChoices[t]="Next",d=!1,this.messageAll([t],"roomActionGameplayAlert",g,{clientId:t,speech:m,durationMultiplier:y,optional:!i.calling}),this.setAllInstructions([t],g+". To skip, press Proceed. To claim this tile, select the tiles you are placing it with, and press Proceed (or Mahjong if this tile makes you Mahjong). "),a.addMessageToHistory(g),this.sendStateToClients()}}else{if(o instanceof l&&4===o.amount)return e.mahjong?a.message(e.type,"You can't go mahjong while placing a kong. ","error"):i.removeMatchingTilesFromHand(o.getComponentTile(),4)?(i.contents.push(o),o.exposed=!1,this.drawTile(t),this.sendStateToClients(),this.messageAll([t],"roomActionGameplayAlert",a.getNickname()+" has placed an in-hand kong of "+o.getTileName(this.state.settings.gameStyle)+"s",{clientId:t,speech:"kong"}),void console.log("Kong")):a.message(e.type,"You can't place tiles you do not possess - try reloading the page or restarting the app","error");if(!e.mahjong)return!e.mahjong&&o instanceof l||o instanceof c?a.message(e.type,"Can't expose in hand pong, sequence, or pair, except for mahjong.","error"):a.message(e.type,"Invalid placement attempt for current game status","error");this.goMahjong(t,{drewOwnTile:!this.gameData.previousTurnPickedUp,override:d}),globalThis.serverStateManager.getClient(t).isBot?console.log("Bots are not allowed to obtain override power"):d=!0}}else if(void 0===o){if(this.gameData.charleston)return globalThis.serverStateManager.getClient(t).message("roomActionPlaceTiles","You must choose 3 tiles to pass during charleston. ","error");this.gameData.currentTurn.turnChoices[t]="Next",this.sendStateToClients()}else{if(e.mahjong)o.mahjong=e.mahjong;else{if(!(o instanceof l||o instanceof c||o instanceof h))return a.message(e.type,"You can't discard when it is not your turn","error");if(o instanceof c&&!f&&i.contents.reduce((function(e,t){return t instanceof c?++e:e}),0)>=this.state.settings.maximumSequences)return f=!0,a.message(e.type,"Host game settings allow only "+this.state.settings.maximumSequences+" sequence(s). Repeat your same move to ignore this setting, and place this sequence. Overriding this setting may cause minor issues in scoring, and may require a Mahjong override. ","error")}this.gameData.currentTurn.turnChoices[t]=o,this.sendStateToClients()}}.bind(this)}var t,o,p;return t=e,p=[{key:"fromJSON",value:function(t){var n=t.trim().split("\n"),r=JSON.parse(n[0]),o=n.slice(1);return o=o.map((function(e){return JSON.parse(e)})),r.moves=o,new e(r.roomId,r)}}],(o=[{key:"toJSON",value:function(){var e=this.state.moves;delete this.state.moves;var t=JSON.stringify(this.state);return this.state.moves=e,t+="\n",this.state.moves.forEach((function(e){t+=JSON.stringify(e)+"\n"})),t}}])&&i(t.prototype,o),p&&i(t,p),e}();e.exports=p},8312:(e,t,n)=>{n(5837),e.exports=function(e){var t=globalThis.serverStateManager.createBot();e.botName&&t.setNickname(e.botName),t.setRoomId(this.roomId),this.addClient(t.clientId),this.sendStateToClients()}},3945:(e,t,n)=>{n(5837);var r=n(2946);e.exports=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=-1;!(t instanceof r);){if(o++,!(t=this.gameData.wall.drawFirst()))return console.log("Wall Empty"),this.messageAll([],"displayMessage",{title:"Game Over - Wall Empty",body:this.getSummary()},"success"),this.setInstructions([this.hostClientId],"The Wall is empty. \nPress End Game to return everybody to the room screen. "),this.setInstructions(this.hostClientId,"The Wall is empty. \nPress End Game to return everybody to the room screen. Press New Game to play again with the same settings. "),this.gameData.wall.isEmpty=!0,void this.sendStateToClients();this.gameData.playerHands[e].add(t)}var a=globalThis.serverStateManager.getClient(e);if(n)o>0&&a.message("roomActionGameplayAlert","You drew a pretty!","success");else{this.lastDrawn=t;var i="You drew "+(o>0?1===o?"a pretty and a ":o+" prettys and a ":"a ")+t.getTileName(this.state.settings.gameStyle);this.setInstructions(a.clientId,i+". To discard, select a tile and press proceed. To kong, select 4 matching tiles and press Proceed. If you are Mahjong, press Mahjong. "),a.addMessageToHistory(i),o>0&&this.messageAll([e],"roomActionGameplayAlert",a.getNickname()+" drew "+(1===o?"a pretty!":o+" prettys!"),{clientId:e,speech:"I'm pretty!"})}}},7203:(e,t,n)=>{n(7941),n(4747),n(7042),n(5837),e.exports=function(e){var t,n,r,o,a,i=this,s={};return s.inGame=this.inGame,s.isHost=e===this.hostClientId,this.gameData.wall&&(s.wallTiles=this.gameData.wall.tiles,this.gameData.isMahjong||(s.wallTiles=s.wallTiles.length)),s.isGameOver=0,null!=this&&null!==(t=this.gameData)&&void 0!==t&&t.isMahjong?s.isGameOver=1:null!=this&&null!==(n=this.gameData)&&void 0!==n&&null!==(r=n.wall)&&void 0!==r&&r.isEmpty&&(s.isGameOver=2),s.settings=this.state.settings,s.instructions=(null==this||null===(o=this.gameData)||void 0===o||null===(a=o.instructions)||void 0===a?void 0:a[e])||"",s.discardPile=this.gameData.discardPile,this.gameData.currentTurn&&(s.currentTurn={thrown:this.gameData.currentTurn.thrown,userTurn:this.gameData.currentTurn.userTurn,playersReady:Object.keys(this.gameData.currentTurn.turnChoices||{})},e===this.gameData.currentTurn.userTurn&&(s.currentTurn.lastDrawn=this.lastDrawn),this.gameData.charleston&&(s.currentTurn.charleston=!0)),s.clients=[],this.clientIds.slice(0,s.inGame?4:1/0).forEach((function(t){var n={id:t,nickname:globalThis.serverStateManager.getClient(t).getNickname(),isHost:t===i.hostClientId};if(i.inGame){var r=i.gameData.playerHands[t];e===t?n.hand=r:(i.gameData.isMahjong||i.gameData.wall.isEmpty?n.visibleHand=r.contents:n.visibleHand=r.getExposedTiles(!0),n.wind=r.wind)}s.clients.push(n)})),s}},4403:(e,t,n)=>{n(5837),n(2222),n(561),n(9600),n(1249),e.exports=function(e){this.gameScores||(this.gameScores=[]);var t=[],n={};for(var r in this.gameData.playerHands){var o=this.gameData.playerHands[r];if(n[r]={netpoints:0,points:0},n[r].text=globalThis.serverStateManager.getClient(r).getNickname()+": "+o.wind,"chinese"===this.state.settings.gameStyle){var a,i;"east"===o.wind&&(n[r].text+=" (pay(s) double)"),n[r].points+=r===e?o.score({isMahjong:!0,drewOwnTile:!this.gameData.previousTurnPickedUp}):o.score(),n[r].text+=", ".concat(n[r].points," points");var s=null==this||null===(a=this.state)||void 0===a||null===(i=a.settings)||void 0===i?void 0:i.tableLimit;n[r].points>s&&(n[r].points=s,n[r].text+=" (limit ".concat(s,")"))}else if("american"===this.state.settings.gameStyle&&r===e){var u=o.score({type:"american",card:this.gameData.card});n[r].points+=u.score,n[r].text+=" - ".concat(u.handName,", ").concat(n[r].points," points"),n[r].text+=u.noJokers?" - No Jokers (Double)":""}r===e&&(n[r].text+=" - Mahjong",this.gameData.previousTurnPickedUp?n[r].text+=" - With "+this.gameData.previousTurnPickedUp.getTileName(this.state.settings.gameStyle):(n[r].text+=" - Drew Own Tile","american"===this.state.settings.gameStyle&&(n[r].text+=" (double)",n[r].points*=2)))}for(var l in this.gameData.playerHands){if("chinese"===this.state.settings.gameStyle)for(var c in l===this.gameData.previousTurnThrower&&(n[l].text+=" - Threw Last Tile"),this.gameData.playerHands){var h=1;"east"!==this.gameData.playerHands[l].wind&&"east"!==this.gameData.playerHands[c].wind||(h*=2),l!==e&&(n[l].netpoints-=n[c].points*h,n[c].netpoints+=n[c].points*h)}else if("american"===this.state.settings.gameStyle&&e){var p=1;l===this.gameData.previousTurnThrower&&(n[l].text+=" - Threw Last Tile (Pay Double)",p*=2),n[l].netpoints-=n[e].points*p,n[e].netpoints+=n[e].points*p}l!==e?t.push(n[l]):t.splice(0,0,n[l])}function d(e){for(var t=0,n=0;n<this.gameScores.length;n++){var r=this.gameScores[n];r[e]&&(t+=r[e].netpoints)}return t}for(var f in this.gameScores.push(n),this.gameData.playerHands)if(n[f].text+=" (Net ".concat(n[f].netpoints>0?"+":"").concat(n[f].netpoints," points"),this.gameScores.length>1){var v=d.call(this,f);n[f].text+=", ".concat(v>0?"+":"").concat(v," room total)")}else n[f].text+=")";return this.lastSummary=t.map((function(e){return e.text})).join("\n"),this.lastSummary}},8308:(e,t,n)=>{n(5837);var r=n(2169);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=globalThis.serverStateManager.getClient(e),o=this.gameData.playerHands[e];if("chinese"===this.state.settings.gameStyle){var a=o.isMahjong(t.override?4:this.state.settings.maximumSequences,{thrownTile:t.autoExpose&&this.gameData.previousTurnPickedUp});if(a instanceof r&&(o.contents=a.contents),!a&&!t.override)return n.message("roomActionPlaceTiles","Unable to go mahjong with this hand. If you play by different rules, try again to override. ","error")}else this.state.settings.gameStyle;this.gameData.currentTurn.userTurn=e,this.gameData.isMahjong=!0,this.sendStateToClients(),"east"===this.state.settings.windAssignments[e]&&(this.shouldRotateWinds=!1),this.messageAll([e],"roomActionGameplayAlert",n.getNickname()+" has gone mahjong",{clientId:e,speech:"Mahjong"}),this.setAllInstructions([this.hostClientId],n.getNickname()+" has gone mahjong!\nPress End Game to return everybody to the room screen. "),this.setInstructions(this.hostClientId,n.getNickname()+" has gone mahjong!\nPress End Game to return everybody to the room screen. "),this.messageAll([],"displayMessage",{title:"Mahjong!",body:this.getSummary(e,t)},"success"),this.sendStateToClients()}},4116:(e,t,n)=>{n(5837),n(2772),n(4747),n(7042),e.exports=function(e,t){var n=this,r=globalThis.serverStateManager.getClient(e),o=e===this.hostClientId;if("roomActionLeaveRoom"===t.type)return this.removeClient(e);if("roomActionGetMessageHistory"===t.type)return r.message(t.type,r.messageHistory);if("roomActionKickFromRoom"===t.type)return o?this.inGame?r.message(t.type,"Can't Kick During Game","error"):(this.removeClient(t.id,"You have been kicked from the room. "),r.message(t.type,"Kicked Client","success")):(console.log(r),console.log(r.message),r.message(t.type,"Only Host Can Kick","error"));if("roomActionStartGame"===t.type){if(!o)return r.message("displayMessage",{title:"Error Starting Game",body:"Only Host Can Start"});if(this.inGame)return r.message("displayMessage",{title:"Error Starting Game",body:"Already in Game"});var a=this.startGame(t);return"string"==typeof a?r.message("displayMessage",{title:"Error Starting Game",body:a}):void 0}if("roomActionEndGame"===t.type){if(!this.inGame)return r.message(t.type,"No Game In Progress","error");if(this.clientIds.indexOf(e)>3)return this.removeClient(e);this.endGame(t,e)}else if("roomActionCloseRoom"===t.type){if(!o)return r.message(t.type,"Only Host Can Close Room","error");var i=this.hostClientId;this.clientIds.slice(0).forEach((function(e){e!==i&&n.removeClient(e,"The room has been closed. ")})),this.removeClient(i,"You closed the room. "),globalThis.serverStateManager.deleteRoom(this.roomId)}else{if("roomActionPlaceTiles"===t.type)return this.onPlace(t,e);if("roomActionAddBot"===t.type)return o?this.addBot(t):r.message(t.type,"Only Host Can Add Bots","error");if("roomActionRevertState"===t.type)return this.clientIds.indexOf(e)>3?r.message("displayMessage",{title:"Access Denied",body:"It appears that you spectating. "}):this.revertState(r,t.message);if("roomActionState"===t.type)return r.message(t.type,this.getState(e),"success");if("roomActionChangeNickname"===t.type){var s,u=globalThis.serverStateManager.getClient(t.targetId);return t.targetId===e?s=u.getNickname()+" renamed to "+t.nickname:o&&(s="The host renamed "+u.getNickname()+" to "+t.nickname),void(s&&(u.setNickname(t.nickname),this.messageAll([e],"roomActionGameplayAlert",s,"success"),this.sendStateToClients()))}}}},7571:(e,t,n)=>{n(4553),n(561),n(4747),n(5837),e.exports=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"You left the room. ",r=this.clientIds.findIndex((function(t){return t===e}));if(-1===r)return"Client Not Found";this.clientIds.splice(r,1),this.hostClientId===e&&(this.hostClientId=null,this.clientIds.forEach(function(e){t.hostClientId||globalThis.serverStateManager.getClient(e).isBot||(t.hostClientId=e)}.bind(this))),this.sendStateToClients();var o=globalThis.serverStateManager.getClient(e);o&&(o.message("roomActionLeaveRoom",n,"success"),globalThis.serverStateManager.deleteClient(e)),null===this.hostClientId&&globalThis.serverStateManager.deleteRoom(this.roomId)}},3449:(e,t,n)=>{n(6699),n(9653),n(7042),n(5837),n(9600),n(2023),n(2772),n(561),n(4747),n(2707),n(2222);var r,o,a=n(6212),i=n(2169),s=n(6587);try{r=n(Object(function(){var e=new Error("Cannot find module 'fs'");throw e.code="MODULE_NOT_FOUND",e}())),o=n(Object(function(){var e=new Error("Cannot find module 'path'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){console.warn(e)}e.exports=function(e){if(this.clientIds.length<4)return"Not Enough Clients";var t,n,u,l,c,h,p,d,f,v,m;if(!["chinese","american"].includes(null==e||null===(t=e.settings)||void 0===t?void 0:t.gameStyle))return"You must select either Chinese or American Mahjong in Game Settings (scroll down if not visible). ";if(this.state.settings.gameStyle=null==e||null===(v=e.settings)||void 0===v?void 0:v.gameStyle,this.inGame=!0,this.messageAll([],e.type,"Game Started","success"),this.state.settings.charleston=[[{direction:"right"},{direction:"across"},{direction:"left"}]],this.state.settings.botSettings=this.state.settings.botSettings||{},this.state.settings.disableHints=(null==e||null===(n=e.settings)||void 0===n?void 0:n.disableHints)||!1,this.state.settings.botSettings.canCharleston=null!==(u=null==e||null===(l=e.settings)||void 0===l||null===(c=l.botSettings)||void 0===c?void 0:c.canCharleston)&&void 0!==u&&u,this.state.settings.windAssignments=this.state.settings.windAssignments||{},this.state.settings.checkForCalling=null===(h=null==e||null===(p=e.settings)||void 0===p?void 0:p.checkForCalling)||void 0===h||h,this.state.settings.tableLimit=Number(null==e||null===(d=e.settings)||void 0===d?void 0:d.tableLimit)||1/0,isNaN(null==e||null===(f=e.settings)||void 0===f?void 0:f.maximumSequences)?this.state.settings.maximumSequences=4:this.state.settings.maximumSequences=Math.max(0,Math.round(Number(null==e||null===(m=e.settings)||void 0===m?void 0:m.maximumSequences))),this.state.seed=this.state.seed||Math.random(),"chinese"===this.state.settings.gameStyle)this.gameData.wall=new a(this.state.seed);else{if("american"!==this.state.settings.gameStyle)throw"Unknown gameStyle";var g,y,w,b;this.gameData.wall=new a(this.state.seed,{prettysAsTiles:!0,includeJokers:8}),this.state.settings.checkForCalling=!1,this.state.settings.charleston=[[{direction:"right"},{direction:"across"},{direction:"left",blind:!0}],[{direction:"left",allAgree:!0},{direction:"across"},{direction:"right",blind:!0}],[{direction:"across",blind:!0}]],s[null==e||null===(g=e.settings)||void 0===g?void 0:g.card]?this.state.settings.card=null==e||null===(w=e.settings)||void 0===w?void 0:w.card:(console.error("Unknown Card",null==e||null===(b=e.settings)||void 0===b?void 0:b.card),this.state.settings.card="2021 National Mahjongg League");this.gameData.card=s[this.state.settings.card],this.gameData.charleston={directions:this.state.settings.charleston.slice(0)},this.state.settings.americanBotDifficulty=Math.max(0,Number(null==e||null===(y=e.settings)||void 0===y?void 0:y.americanBotDifficulty)),isNaN(this.state.settings.americanBotDifficulty)&&(this.state.settings.americanBotDifficulty=50)}this.state.hostClientId=this.hostClientId,this.state.moves=[],this.logFileSaveId=this.roomId+"-"+Date.now(),r&&!globalThis.avoidFSWrites&&(this.logFile=r.createWriteStream(o.join(globalThis.serverStateManager.serverDataDirectory,this.logFileSaveId+".room"))),this.gameData.discardPile=[],this.gameData.playerHands={};var S=["north","east","south","west"],E=S.slice(0),T={};for(var x in this.state.settings.windAssignments){var C=this.state.settings.windAssignments[x];if(this.clientIds.includes(x)){var k=S.indexOf(C);-1!==k&&(S.splice(k,1),T[x]=C)}}var M=[],O=[],A=[];this.clientIds.slice(0,4).forEach((function(e){T[e]||(T[e]=S.splice(Math.floor(Math.random()*S.length),1)[0]);var t=globalThis.serverStateManager.getClient(e);t.isBot?(M.push(t.getNickname()),O.push(e)):A.push(e)})),A=A.slice(0,4).sort(),M=M.sort();var I,L=E.indexOf(T[A[0]]);for(var P in-1===L&&(L=0),E=E.slice(L).concat(E.slice(0,L)),(O=O.sort((function(e,t){return E.indexOf(T[e])-E.indexOf(T[t])}))).forEach((function(e,t){globalThis.serverStateManager.getClient(e).setNickname(M[t])})),T){var j=T[P],R=new i({wind:j});this.gameData.playerHands[P]=R;var D=13;"east"===j&&(I=P,D=14);for(var N=0;N<D;N++)this.drawTile(P,!0)}this.state.settings.windAssignments=T,this.gameData.currentTurn={thrown:!1,userTurn:I},this.gameData.currentTurn.turnChoices=new Proxy({},this.turnChoicesProxyHandler),this.logFile&&this.logFile.write(JSON.stringify(this.state)+"\n");var H=this.state.settings.charleston[0][0].direction;"chinese"===this.state.settings.gameStyle?(this.setInstructions(this.gameData.currentTurn.userTurn,"As East wind, you get to make the first throw. Select one tile and press Proceed.\n\nTo initiate a Charleston (first pass ".concat(H,"), select 3 tiles and hit Proceed.")),this.setAllInstructions([this.gameData.currentTurn.userTurn],"Waiting on East Wind to make a play. ")):"american"===this.state.settings.gameStyle&&(this.setAllInstructions([],"Welcome to the Charleston. Select 3 tiles you would like to pass "+H+", then hit Proceed. ","success"),this.messageAll([],"roomActionGameplayAlert","The first pass is "+H,"success")),this.sendStateToClients()}},5392:(e,t,n)=>{n(2772),n(5837),n(6699),n(4747),n(7042),n(1249),n(5735),n(3753),n(2023),n(2222),n(2707),n(7941),n(9600);var r=n(9458),o=n(7793),a=n(2946),i=n(2169),s=n(502),u=n(6212),l=["north","east","south","west"];function c(e,t){for(var n=l.indexOf(e),r=0;l[n]!==t;)r++,-1===--n&&(n=l.length-1);return r}function h(e,t){var n=this,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("Next"===e[t])return!0;var l,h=globalThis.serverStateManager.getClient(t),p=this.gameData.playerHands[this.gameData.currentTurn.userTurn].wind,d=this.gameData.playerHands[t],f=d.wind;if(this.gameData.charleston){if(e[t].length>3)return h.message("roomActionPlaceTiles","You can pass no more than 3 tiles during one Charleston round. ","error"),!1;var v=this.gameData.charleston.directions[0][0];if(v.allAgree){if(![0,3].includes(e[t].length))return h.message("roomActionPlaceTiles","Pass zero tiles (press proceed on nothing) to veto this round. Pass three tiles to vote in favor. ","error"),!1;if(0===e[t].length)return this.messageAll([t],"roomActionGameplayAlert","Charleston Round Vetoed by "+h.getNickname(),"success"),h.message("roomActionGameplayAlert","Charleston Round Vetoed","success"),this.clientIds.slice(0,4).forEach((function(t){e[t]||(e[t]=[])})),!0}else if(v.blind){if("across"===v.direction);else if(e[t].length<1)return h.message("roomActionPlaceTiles","You must pass at least one tile during the blind pass. ","error"),!1}else if(3!==e[t].length)return h.message("roomActionPlaceTiles","This Charleston round requires exactly three tiles. ","error"),!1;if(e[t].some((function(e){return"joker"===e.type})))return h.message("roomActionPlaceTiles","Jokers may not be passed during Charleston. ","error"),!1;if(d.removeTilesFromHand(e[t])){var m="You Passed ",g=e[t].map((function(e){return e.getTileName(n.state.settings.gameStyle)}));if(0===g.length)m+="Nothing";else{m+="a "+g.shift();var y=g.pop();g.forEach((function(e){m+=", a "+e})),y&&(g.length>0&&(m+=","),m+=" and a "+y)}return h.addMessageToHistory(m,-1),!0}return h.message("roomActionPlaceTiles","You can't pass tiles you don't possess. ","error"),!1}if(e[t]instanceof s||"american"===this.state.settings.gameStyle&&e[t].mahjong){if("joker"===this.gameData.currentTurn.thrown.type)return h.message("roomActionPlaceTiles","You can't pick up a joker! Jokers are dead when thrown! ","error"),!1;if(e[t]instanceof s){if(!e[t].mahjong){if(e[t].tiles.length<3)return h.message("roomActionPlaceTiles","Except for Mahjong, you can only call for matches of 3+ tiles and/or jokers. ","error"),!1;if(!e[t].isValidMatch(!0))return h.message("roomActionPlaceTiles","Except for Mahjong, you can only call for matches. ","error"),!1}}else{var w=new s({tiles:[e[t]]});w.mahjong=e[t].mahjong,e[t]=w}if(2===e[t].tiles.length&&!1===e[t].isValidMatch()&&e[t].isValidMatch(!0))return h.message("roomActionPlaceTiles","Jokers can't be used to make a pair. ","error"),!1;l=89-c(f,p),e[t].mahjong&&(l+=20)}else{d.add(this.gameData.currentTurn.thrown);var b=d.isMahjong(this.state.settings.maximumSequences),S=!!b;if(d.remove(this.gameData.currentTurn.thrown),b instanceof i&&!u){var E=b.getStringContents(),T=e[t].exposed;e[t].exposed=!1;var x=e[t].toJSON();e[t].exposed=!0;var C=e[t].toJSON();e[t].exposed=T,E.includes(x)||E.includes(C)||(S=!1)}var k=!1;if(e[t]instanceof a&&e[t].mahjong&&b)console.log("Naked Mahjong Bypassing Checks"),k=!0;else if(e[t].mahjong&&!S&&!u)return h.message("roomActionPlaceTiles","Unable to detect a mahjong in your hand. (Press 'Mahjong' again to override). ","error"),!1;if((S||k)&&e[t].mahjong){l=109;var M=c(f,p);console.log(M),l-=M}else if(e[t]instanceof r){if(2===e[t].amount){if(!S&&!u)return h.message("roomActionPlaceTiles","You can't place a pair when it will not make you mahjong. (Press 'Proceed' or 'Mahjong' again to override)","error"),!1;u||(e[t].mahjong=!0)}l=104-c(f,p)}else if(e[t]instanceof o){if(c(f,p)>1&&!u)return h.message("roomActionPlaceTiles","You can only take a sequence from the player before you, except with mahjong. (Press 'Proceed' again to override) ","error"),!1;l=99-c(f,p)}else console.error("Unknown Placement in turnChoicesProxyHandler"),l=89-c(f,p)}return[l,t]}function p(e,t){var n=this;if(this.gameData.charleston){var a;this.sendStateToClients();var i=[],c=[];for(var p in this.gameData.playerHands){var d=this.gameData.playerHands[p],f=l.indexOf(d.wind);i[f]=d,c[f]=e[p]}var v,m=this.gameData.charleston.directions[0].shift();switch(m.allAgree&&!c.every((function(e){return 3===e.length}))&&(this.gameData.charleston.directions.shift(),m.direction="none"),0===this.gameData.charleston.directions[0].length&&this.gameData.charleston.directions.shift(),m.direction){case"right":v=1;break;case"across":v=2;break;case"left":v=3;break;case"none":v=0;break;default:throw"Unknown Direction"+m}if(2===v)[0,1].forEach((function(e){for(var t=c[e],n=i[e],r=e+2,o=i[r],a=c[r],s=0;s<Math.max(t.length,a.length);s++)t[s]&&a[s]?(o.add(t[s]),n.add(a[s])):t[s]?n.add(t[s]):a[s]&&o.add(a[s])}));else{var g=[];c.forEach((function(e){var t,r=n.roomId+(null===(t=e[0])||void 0===t?void 0:t.type);u.shuffleArray(e,r),e.forEach((function(e){g.push(e)}))})),c.forEach((function(e,t){for(var n=(t+v)%4,r=c[n].length,o=i[n],a=0;a<r;a++)o.add(g.shift())}))}var y=null===(a=this.gameData.charleston.directions[0])||void 0===a?void 0:a[0];if(y)if(y.allAgree)this.messageAll([],"roomActionGameplayAlert","Round vote - passing "+y.direction,"success"),this.setAllInstructions([],"Round Vote - Pass 3 tiles "+y.direction+" for another Charleston round. Pass 0 to block it. Tap tiles to add/remove from placemat. Hit Proceed when ready. ","success");else if(y.blind){var w="Blind";"across"===y.direction&&(w="Courtesy"),this.messageAll([],"roomActionGameplayAlert","The next pass is ".concat(w.toLowerCase()," ").concat(y.direction),"success"),this.setAllInstructions([],"".concat(w," Pass - Pass ").concat("Blind"===w?1:0,"-3 tiles ").concat(y.direction," ").concat("Blind"===w?"in order of preference":"",". Tap tiles to add/remove from placemat. Hit Proceed when ready."),"success")}else this.messageAll([],"roomActionGameplayAlert","The next pass is "+y.direction,"success"),this.setAllInstructions([],"The next pass is "+y.direction+". The tiles passed to you are in the placemat - tap to move tiles between the placemat and your hand. Hit Proceed when ready. ","success");else this.messageAll([],"roomActionGameplayAlert","The Charleston is Over","success"),this.setInstructions(this.gameData.currentTurn.userTurn,"The Charleston is over. \n\nAs East wind, you get to make the first throw. Select one tile and press Proceed."),this.setAllInstructions([this.gameData.currentTurn.userTurn],"The Charleston is over. Waiting on East Wind to make a play. "),this.gameData.charleston=!1}else{this.gameData.previousTurnPickedUp=this.gameData.currentTurn.thrown,this.gameData.previousTurnThrower=this.gameData.currentTurn.userTurn;var b=[];for(var S in e){var E=h.call(this,e,S,t.includes(S));E instanceof Array&&b.push(E)}var T=!1;if(0!==b.length){b.sort((function(e,t){return t[0]-e[0]}));for(var x=0;x<b.length;x++){var C=b[x][1],k=globalThis.serverStateManager.getClient(C);if(!0!==T){var M=e[C],O=this.gameData.playerHands[C];if(M instanceof o){var A=!1;if(M.tiles.forEach((function(e){e.value===n.gameData.currentTurn.thrown.value&&e.type===n.gameData.currentTurn.thrown.type&&(A=!0)})),console.log(A),A)if(O.add(this.gameData.currentTurn.thrown),O.removeTilesFromHand(M)){T=!0,O.add(M),M.exposed=!0;var I=k.getNickname()+" has placed a sequence of "+M.tiles[0].type+"s";this.messageAll([C],"roomActionGameplayAlert",I,{clientId:C,speech:"Chow"}),k.addMessageToHistory(I),M.mahjong&&this.goMahjong(C,{override:t.includes(C)}),this.gameData.currentTurn.userTurn=C}else O.remove(this.gameData.currentTurn.thrown),k.message("roomActionPlaceTiles","You can't place a sequence of tiles you do not possess - try reloading the page or restarting the app","error");else k.message("roomActionPlaceTiles","Are you trying to hack? You must use the thrown tile when attempting to place off turn. ","error")}else if(M instanceof r)if(M.value===this.gameData.currentTurn.thrown.value&&M.type===this.gameData.currentTurn.thrown.type)if(O.removeMatchingTilesFromHand(M.getComponentTile(),M.amount-1)){T=!0,O.add(M),M.exposed=!0;var L=[,,"pair","pong","kong"][M.amount],P=k.getNickname()+" placed a "+L+" of "+M.getTileName(this.state.settings.gameStyle)+"s";this.messageAll([C],"roomActionGameplayAlert",P,{clientId:C,speech:L}),k.addMessageToHistory(P),M.mahjong&&this.goMahjong(C,{override:t.includes(C)}),4===M.amount&&this.drawTile(C),this.gameData.currentTurn.userTurn=C}else console.log("Attempted to place invalid match"),k.message("roomActionPlaceTiles","You can't place a match of tiles you do not possess - try reloading the page or restarting the app","error");else k.message("roomActionPlaceTiles","Are you trying to hack? You must use the thrown tile when attempting to place off turn. ","error");else if(M instanceof s&&M.tiles.length>1){var j=!1;if(M.tiles.forEach((function(e){e.value===n.gameData.currentTurn.thrown.value&&e.type===n.gameData.currentTurn.thrown.type&&(j=!0)})),j)if(O.add(this.gameData.currentTurn.thrown),O.removeTilesFromHand(M)){T=!0,O.add(M);var R="match",D=M.isValidMatch(!0);D&&(R=[,,"pair","pong","kong","quint","sextet"][M.tiles.length],R+=" of "+D.getTileName(this.state.settings.gameStyle)+"s"),R=k.getNickname()+" placed a "+R,this.messageAll([C],"roomActionGameplayAlert",R,{clientId:C,speech:"I'll take that"}),k.addMessageToHistory(R),M.mahjong&&this.goMahjong(C,{override:t.includes(C)}),this.gameData.currentTurn.userTurn=C}else O.remove(this.gameData.currentTurn.thrown),k.message("roomActionPlaceTiles","You can't place tiles you do not possess - try reloading the page or restarting the app","error");else k.message("roomActionPlaceTiles","Are you trying to hack? You must use the thrown tile when attempting to place off turn. ","error")}else M.mahjong?(console.log("Attempting Naked Mahjong"),O.add(this.gameData.currentTurn.thrown),this.goMahjong(C,{override:t.includes(C),autoExpose:!0}),T=!0):console.error("No known operation to perform when processing turn. ")}else k.message("roomActionPlaceTiles","Placing tiles failed because another player had a higher priority placement (mahjong>match>sequence, and by order within category).","error")}}if(!1===T){this.gameData.previousTurnThrower=this.gameData.previousTurnPickedUp=void 0;var N=l[(l.indexOf(this.gameData.playerHands[this.gameData.currentTurn.userTurn].wind)+1)%4];for(var H in this.gameData.playerHands){var _=this.gameData.playerHands[H];_.wind===N&&(_.contents.forEach((function(e){e instanceof r&&e.type===n.gameData.currentTurn.thrown.type&&e.value===n.gameData.currentTurn.thrown.value&&(T=!0,e.amount=4)})),!1===T?(this.gameData.discardPile.push(this.gameData.currentTurn.thrown),this.drawTile(H)):this.drawTile(H),this.gameData.currentTurn.userTurn=H)}}if(!this.gameData.isMahjong&&!this.gameData.wall.isEmpty){var F=globalThis.serverStateManager.getClient(this.gameData.currentTurn.userTurn);this.setAllInstructions([F.clientId],"Waiting on ".concat(F.getNickname()," to make a move. \n\nIs someone's game frozen? Clicking the sync icon (below this message) might fix that! "))}this.gameData.currentTurn.thrown=!1}for(var B in e)delete e[B];this.sendStateToClients()}var d=[];e.exports=function(e,t,n){if(e[t]=n,!1===h.call(this,e,t,d.includes(t))&&(delete e[t],globalThis.serverStateManager.getClient(t).isBot?console.log("Bots are not allowed to obtain override power. "):d.push(t)),this.gameData.charleston||(e[this.gameData.currentTurn.userTurn]="Next"),4===Object.keys(e).length)p.call(this,e,d),d=[];else{var r="Waiting on: ",o=[];this.clientIds.slice(0,4).forEach((function(t){e[t]||o.push(t)})),r+=o.map((function(e){return globalThis.serverStateManager.getClient(e).getNickname()})).join(", "),r+="\n\nIs someone's game frozen? Clicking the sync icon (below this message) might fix that! ",this.setAllInstructions(o,r)}return!0}},3093:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(3210),n(7941),n(5837),n(5735),n(3753);var a=n(8258),i=n(927),s=n(463);try{n(Object(function(){var e=new Error("Cannot find module 'fs'");throw e.code="MODULE_NOT_FOUND",e}())),n(Object(function(){var e=new Error("Cannot find module 'path'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){console.warn(e)}var u=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var o=t;t=new Proxy(o,{get:function(e,t){var n=e[t];return n instanceof String?n.trim():n},set:function(e,t,n){return n instanceof String&&(n=n.trim()),e[t]=n,!0}}),this.getRoom=function(e){return t[e]},this.createRoom=function(e,n){return!t[e]&&(t[e]=n||new a(e))},this.deleteRoom=function(e){delete t[e]},this.getClient=function(e){return n[e]},this.createClient=function(e,t){return n[e]=new i(e,t),n[e]},this.createBot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.findUniqueId(n,"bot"),r=arguments.length>1?arguments[1]:void 0;return n[t]=new s(t,r),n[t]},this.deleteClient=function(e){delete n[e]},this.getAllClients=function(){var e=[];for(var t in n)e.push(n[t]);return e},this.getAllRoomIds=function(){return Object.keys(o)},this.init=function(e){console.time("Initializing server state... ");var r=JSON.parse(e),o=r.clients,s=r.rooms;for(var u in o)n[u]=i.fromJSON(o[u]);for(var l in s)t[l]=a.fromJSON(s[l]),t[l].init(),console.log(globalThis.serverStateManager.getRoom(l));console.timeEnd("Initializing server state... ")}.bind(this),this.toJSON=function(){return JSON.stringify({rooms:t,clients:n})}.bind(this)}var t,n,u;return t=e,u=[{key:"findUniqueId",value:function(e){for(var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(2,9);!n||e[r+t];)n=r+(t=Math.floor(Math.random()*o)),o=Math.min(Math.pow(2,53),2*o);return n}}],(n=null)&&o(t.prototype,n),u&&o(t,u),e}();e.exports=u},3205:(e,t,n)=>{n(2222);var r=n(2976);var o,a={name:"2020 National Mahjongg League"};Object.defineProperty(a,"combos",{get:function(){return o||(console.time("Generate "+a.name),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=[]).concat(n(6533))).concat(n(2289))).concat(n(805))).concat(n(4554))).concat(n(7541))).concat(n(8942))).concat(n(7255))).concat(n(5014))).concat(n(6)),o=r.outputExpander(e),console.timeEnd("Generate "+a.name),o);var e}}),e.exports=a},7255:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:1,amount:2})),n.push(o({type:t,value:3,amount:2})),n.push(o({type:t,value:5,amount:3})),n.push(o({type:t,value:7,amount:3})),n.push(o({type:t,value:9,amount:4}))})),i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:1,amount:2})),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[1],value:5,amount:3})),n.push(o({type:t[1],value:7,amount:3})),n.push(o({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:4})),n.push(o({type:t[0],value:3,amount:4})),n.push(o({type:t[1],value:5,amount:4})),n.push(o({type:t[2],value:1,amount:1})),n.push(o({type:t[2],value:5,amount:1}))})),i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:4})),n.push(o({type:t[0],value:5,amount:4})),n.push(o({type:t[1],value:7,amount:4})),n.push(o({type:t[2],value:3,amount:1})),n.push(o({type:t[2],value:5,amount:1}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:1,amount:3})),n.push(o({type:t[0],value:3,amount:3})),n.push(o({type:t[1],value:3,amount:4})),n.push(o({type:t[1],value:5,amount:4}))})),i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:5,amount:3})),n.push(o({type:t[0],value:7,amount:3})),n.push(o({type:t[1],value:7,amount:4})),n.push(o({type:t[1],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:1,amount:4})),n.push(o({type:t[1],value:3,amount:2})),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[2],value:3,amount:2})),n.push(o({type:t[0],value:5,amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:5,amount:4})),n.push(o({type:t[1],value:7,amount:2})),n.push(o({type:t[0],value:7,amount:2})),n.push(o({type:t[2],value:7,amount:2})),n.push(o({type:t[0],value:9,amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"dragon",value:s[n],amount:4})),r.push(o({type:n,value:t,amount:3})),r.push(o({type:n,value:t+2,amount:4})),r.push(o({type:n,value:t+4,amount:3}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t[0],value:1,amount:1})),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[0],value:5,amount:3})),n.push(o({type:t[1],value:5,amount:1})),n.push(o({type:t[1],value:7,amount:2})),n.push(o({type:t[1],value:9,amount:3}))})),{tiles:e,score:35,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="13579",n}))},8942:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements;r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:t[1],value:2,amount:4})),n.push(o({type:t[2],value:2,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:"dragon",value:"green",amount:4})),n.push(o({type:"dragon",value:"red",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:5})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:t[1],value:2,amount:3})),n.push(o({type:t[2],value:2,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:2})),n.push(o({type:"wind",value:"east",amount:3})),n.push(o({type:"wind",value:"west",amount:3})),n.push(o({type:"wind",value:"south",amount:2})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:t,value:2,amount:2}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2020",n}))},7541:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:4})),n.push(o({type:t,value:2,amount:1})),n.push(o({type:t,value:4,amount:2})),n.push(o({type:t,value:6,amount:3})),n.push(o({type:t,value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:t[0],value:4,amount:2})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[1],value:8,amount:3})),n.push(o({type:"dragon",value:s[t[2]],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:2,amount:4})),n.push(o({type:t,value:4,amount:4})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:3})),n.push(o({type:t[0],value:4,amount:3})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[1],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:4})),n.push(o({type:t[0],value:4,amount:4})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[2],value:2,amount:1})),n.push(o({type:t[2],value:4,amount:1}))})),i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:4})),n.push(o({type:t[0],value:6,amount:4})),n.push(o({type:t[1],value:8,amount:4})),n.push(o({type:t[2],value:4,amount:1})),n.push(o({type:t[2],value:8,amount:1}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:t[0],value:4,amount:3})),n.push(o({type:t[1],value:4,amount:2})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[2],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"dragon",value:s[t],amount:4})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:t,value:4,amount:3})),n.push(o({type:t,value:6,amount:3})),n.push(o({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t[0],value:2,amount:3})),n.push(o({type:t[0],value:8,amount:3})),n.push(o({type:t[1],value:4,amount:3})),n.push(o({type:t[1],value:6,amount:3}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2468",n}))},5014:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:3})),n.push(o({type:t[0],value:6,amount:3})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[1],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[3,6,9].forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:3,amount:2})),r.push(o({type:n[0],value:6,amount:2})),r.push(o({type:n[0],value:9,amount:2})),r.push(o({type:n[1],value:t,amount:4})),r.push(o({type:n[2],value:t,amount:4}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:3,amount:3})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:9,amount:3})),n.push(o({type:"dragon",value:s[t],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[0],value:6,amount:3})),n.push(o({type:t[1],value:3,amount:2})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t,value:3,amount:4})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:9,amount:4}))})),i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t[0],value:3,amount:4})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t[0],value:3,amount:1})),n.push(o({type:t[0],value:6,amount:2})),n.push(o({type:t[0],value:9,amount:3})),n.push(o({type:t[1],value:3,amount:1})),n.push(o({type:t[1],value:6,amount:2})),n.push(o({type:t[1],value:9,amount:3}))})),{tiles:e,score:35,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="369",n}))},4554:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions,r.allOptions),u=(r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),a.forEach((function(e){n.push(o({type:e,value:t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:2})),r.push(o({type:n[0],value:t,amount:4})),r.push(o({type:"dragon",value:u[n[0]],amount:2})),r.push(o({type:n[1],value:t,amount:4})),r.push(o({type:"dragon",value:u[n[1]],amount:2}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:5})),r.push(o({type:n[0],value:t,amount:2})),r.push(o({type:n[1],value:t,amount:3})),r.push(o({type:n[2],value:t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Any Like Numbers",n}))},2289:(e,t,n)=>{n(1249),n(4747),n(7042);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions,r.allOptions),u=(r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){[0,4].forEach((function(n){var r=[];e.push(r),r.push(o({type:t,value:1+n,amount:2})),r.push(o({type:t,value:2+n,amount:2})),r.push(o({type:t,value:3+n,amount:3})),r.push(o({type:t,value:4+n,amount:3})),r.push(o({type:t,value:5+n,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:4})),r.push(o({type:n[0],value:t,amount:4})),r.push(o({type:n[1],value:1+t,amount:2})),r.push(o({type:n[2],value:2+t,amount:4}))})),a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:4})),r.push(o({type:n,value:t,amount:4})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:3})),r.push(o({type:n[0],value:1+t,amount:3})),r.push(o({type:n[1],value:2+t,amount:4})),r.push(o({type:n[1],value:3+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n,value:t,amount:3})),r.push(o({type:n,value:1+t,amount:4})),r.push(o({type:n,value:2+t,amount:3})),r.push(o({type:"dragon",value:u[n],amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-4).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:2})),r.push(o({type:n[0],value:1+t,amount:2})),r.push(o({type:n[0],value:2+t,amount:2})),r.push(o({type:n[1],value:3+t,amount:4})),r.push(o({type:n[2],value:4+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:4})),r.push(o({type:n,value:t,amount:1})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:3})),r.push(o({type:n,value:3+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:3})),r.push(o({type:n[0],value:1+t,amount:2})),r.push(o({type:n[0],value:2+t,amount:3})),r.push(o({type:"dragon",value:u[n[1]],amount:3})),r.push(o({type:"dragon",value:u[n[2]],amount:3}))}))})),{tiles:e,score:30,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:3})),r.push(o({type:n[0],value:1+t,amount:3})),r.push(o({type:n[1],value:t,amount:3})),r.push(o({type:n[1],value:1+t,amount:3})),r.push(o({type:n[2],value:2+t,amount:2}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Consecutive Run",n}))},805:(e,t,n)=>{n(1249),n(4747),n(7042);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions,r.allOptions),u=r.dragonOptions;r.dragonArrangments,r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){s.forEach((function(n){u.forEach((function(r){var a=[];e.push(a),a.push(o({type:"dragon",value:r,amount:4})),a.push(o({type:t,value:n,amount:5})),a.push(o({type:"flower",amount:5}))}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:2})),r.push(o({type:n[0],value:1+t,amount:2})),r.push(o({type:n[1],value:2+t,amount:5})),r.push(o({type:n[2],value:2+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n,value:t,amount:5})),r.push(o({type:n,value:2+t,amount:4})),r.push(o({type:n,value:4+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n,value:t,amount:5})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:2})),r.push(o({type:n,value:3+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Quints",n}))},6:(e,t,n)=>{n(1249),n(4747),n(7042);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions,r.allOptions),u=(r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"wind",value:"north",amount:2})),r.push(o({type:"wind",value:"east",amount:2})),r.push(o({type:"wind",value:"west",amount:2})),r.push(o({type:"wind",value:"south",amount:2})),r.push(o({type:n,value:t,amount:2})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-4).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:2})),r.push(o({type:"dragon",value:u[n],amount:2})),r.push(o({type:n,value:t,amount:2})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:2})),r.push(o({type:n,value:3+t,amount:2})),r.push(o({type:n,value:4+t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-1).forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:a[0],value:t,amount:2})),n.push(o({type:a[0],value:1+t,amount:2})),n.push(o({type:a[1],value:t,amount:2})),n.push(o({type:a[1],value:1+t,amount:2})),n.push(o({type:a[2],value:t,amount:2})),n.push(o({type:a[2],value:1+t,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t[0],value:2,amount:1})),n.push(o({type:t[0],value:4,amount:1})),n.push(o({type:t[0],value:6,amount:1})),n.push(o({type:t[0],value:8,amount:1})),n.push(o({type:"dragon",value:u[t[0]],amount:2})),n.push(o({type:t[1],value:2,amount:1})),n.push(o({type:t[1],value:4,amount:1})),n.push(o({type:t[1],value:6,amount:1})),n.push(o({type:t[1],value:8,amount:1})),n.push(o({type:"dragon",value:u[t[1]],amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[0],value:6,amount:1})),n.push(o({type:t[1],value:3,amount:2})),n.push(o({type:t[1],value:6,amount:2})),n.push(o({type:t[1],value:9,amount:1})),n.push(o({type:t[2],value:3,amount:2})),n.push(o({type:t[2],value:6,amount:2})),n.push(o({type:t[2],value:9,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:1,amount:2})),n.push(o({type:t[0],value:3,amount:1})),n.push(o({type:t[0],value:5,amount:1})),n.push(o({type:t[0],value:7,amount:1})),n.push(o({type:t[0],value:9,amount:2})),n.push(o({type:t[1],value:1,amount:2})),n.push(o({type:t[1],value:3,amount:1})),n.push(o({type:t[1],value:5,amount:1})),n.push(o({type:t[1],value:7,amount:1})),n.push(o({type:t[1],value:9,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:"dragon",value:"white",amount:4})),n.push(o({type:"wind",value:"north",amount:1})),n.push(o({type:"wind",value:"east",amount:1})),n.push(o({type:"wind",value:"west",amount:1})),n.push(o({type:"wind",value:"south",amount:1})),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:t[1],value:2,amount:2}))})),{tiles:e,score:85,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Singles and Pairs",n}))},6533:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=r.allSuits,i=(r.allSuitArrangements,r.oddOptions),s=r.evenOptions,u=(r.allOptions,r.dragonOptions),l=r.dragonArrangments;r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:"wind",value:"east",amount:3})),n.push(o({type:"wind",value:"west",amount:3})),n.push(o({type:"wind",value:"south",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:1})),n.push(o({type:"wind",value:"east",amount:1})),n.push(o({type:"wind",value:"west",amount:1})),n.push(o({type:"wind",value:"south",amount:1})),n.push(o({type:"flower",amount:2})),n.push(o({type:"dragon",value:t[0],amount:4})),n.push(o({type:"dragon",value:t[1],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:"wind",value:"south",amount:4})),a.forEach((function(e){n.push(o({type:e,value:t,amount:2}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"east",amount:4})),n.push(o({type:"wind",value:"west",amount:4})),a.forEach((function(e){n.push(o({type:e,value:t,amount:2}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:2})),n.push(o({type:"wind",value:"east",amount:3})),n.push(o({type:"wind",value:"west",amount:3})),n.push(o({type:"wind",value:"south",amount:2})),n.push(o({type:"dragon",value:t,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:"wind",value:"south",amount:4}))})),a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:"wind",value:"east",amount:4})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:"wind",value:"west",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:"wind",value:"north",amount:3})),n.push(o({type:"wind",value:"east",amount:3})),n.push(o({type:"wind",value:"west",amount:3})),n.push(o({type:"wind",value:"south",amount:3}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Winds and Dragons",n}))},7338:(e,t,n)=>{n(2222);var r=n(2976);var o,a={name:"2021 National Mahjongg League"};Object.defineProperty(a,"combos",{get:function(){return o||(console.time("Generate "+a.name),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=[]).concat(n(6224))).concat(n(2550))).concat(n(3058))).concat(n(5076))).concat(n(7998))).concat(n(8174))).concat(n(4827))).concat(n(3148))).concat(n(7111)),o=r.outputExpander(e),console.timeEnd("Generate "+a.name),o);var e}}),e.exports=a},3058:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:1,amount:2})),n.push(o({type:t,value:3,amount:3})),n.push(o({type:t,value:5,amount:4})),n.push(o({type:t,value:7,amount:3})),n.push(o({type:t,value:9,amount:2}))})),i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:1,amount:2})),n.push(o({type:t[0],value:3,amount:3})),n.push(o({type:t[1],value:5,amount:4})),n.push(o({type:t[2],value:7,amount:3})),n.push(o({type:t[2],value:9,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:2})),r.push(o({type:n,value:0+t,amount:2})),r.push(o({type:n,value:2+t,amount:3})),r.push(o({type:n,value:4+t,amount:4})),r.push(o({type:"dragon",value:s[n],amount:3}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:3})),r.push(o({type:n[0],value:2+t,amount:4})),r.push(o({type:n[1],value:2+t,amount:3})),r.push(o({type:n[1],value:4+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:2})),r.push(o({type:n[0],value:2+t,amount:3})),r.push(o({type:n[1],value:2+t,amount:3})),r.push(o({type:n[1],value:4+t,amount:2})),r.push(o({type:"dragon",value:s[n[2]],amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:4})),r.push(o({type:n,value:0+t,amount:4})),r.push(o({type:n,value:2+t,amount:2})),r.push(o({type:n,value:4+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1].forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:2})),r.push(o({type:n[0],value:2+t,amount:2})),r.push(o({type:n[0],value:4+t,amount:2})),r.push(o({type:n[1],value:6+t,amount:4})),r.push(o({type:n[2],value:8+t,amount:4}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:3})),r.push(o({type:n[0],value:2+t,amount:3})),r.push(o({type:n[1],value:0+t,amount:3})),r.push(o({type:n[1],value:2+t,amount:3})),r.push(o({type:n[2],value:4+t,amount:2}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="13579",n}))},8174:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements;r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:"dragon",value:"white",amount:1})),n.push(o({type:t[0],value:1,amount:1})),n.push(o({type:t[1],value:2,amount:4})),n.push(o({type:t[2],value:1,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:3})),n.push(o({type:"dragon",value:"white",amount:4})),n.push(o({type:t[1],value:2,amount:3})),n.push(o({type:t[1],value:1,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:4})),n.push(o({type:"dragon",value:"white",amount:4})),n.push(o({type:t,value:2,amount:4})),n.push(o({type:t,value:2,amount:1})),n.push(o({type:t,value:1,amount:1}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:3})),n.push(o({type:"wind",value:"east",amount:2})),n.push(o({type:"wind",value:"west",amount:2})),n.push(o({type:"wind",value:"south",amount:3})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:"dragon",value:"white",amount:1})),n.push(o({type:t,value:1,amount:1}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2021",n}))},7998:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions),u=(r.allOptions,r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:4})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:t,value:4,amount:3})),n.push(o({type:t,value:6,amount:3})),n.push(o({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:3})),n.push(o({type:t[0],value:4,amount:4})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[1],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"dragon",value:u[t],amount:4})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:t,value:4,amount:2})),n.push(o({type:t,value:6,amount:3})),n.push(o({type:t,value:8,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t[0],value:2,amount:4})),n.push(o({type:t[1],value:4,amount:2})),n.push(o({type:t[1],value:6,amount:2})),n.push(o({type:t[0],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:3})),n.push(o({type:t[0],value:4,amount:3})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[2],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:2,amount:4})),n.push(o({type:t,value:4,amount:4})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t[0],value:2,amount:1})),n.push(o({type:t[0],value:4,amount:1})),n.push(o({type:t[0],value:6,amount:1})),n.push(o({type:t[0],value:8,amount:1})),n.push(o({type:"dragon",value:u[t[1]],amount:4})),n.push(o({type:"dragon",value:u[t[2]],amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){s.forEach((function(n){var r=[];e.push(r),r.push(o({type:t[0],value:2,amount:3})),r.push(o({type:t[0],value:4,amount:1})),r.push(o({type:t[0],value:6,amount:1})),r.push(o({type:t[0],value:8,amount:3})),r.push(o({type:t[1],value:n,amount:3})),r.push(o({type:t[2],value:n,amount:3}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2468",n}))},3148:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:3})),n.push(o({type:t[0],value:6,amount:4})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[1],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:3,amount:3})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:9,amount:3})),n.push(o({type:"dragon",value:s[t],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:4})),n.push(o({type:t[0],value:6,amount:4})),n.push(o({type:t[1],value:9,amount:3})),n.push(o({type:t[2],value:9,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:5})),n.push(o({type:t,value:3,amount:2})),n.push(o({type:t,value:6,amount:3})),n.push(o({type:t,value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[0],value:6,amount:2})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[1],value:9,amount:3})),n.push(o({type:"dragon",value:s[t[2]],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t,value:3,amount:4})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:9,amount:4}))})),i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t[0],value:3,amount:4})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:3})),n.push(o({type:t[0],value:6,amount:3})),n.push(o({type:t[1],value:3,amount:3})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[2],value:9,amount:2}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="369",n}))},5076:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=(r.allSuits,r.allSuitArrangements),i=(r.oddOptions,r.evenOptions,r.allOptions),s=(r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:2})),r.push(o({type:n[0],value:t,amount:4})),r.push(o({type:n[1],value:t,amount:4})),r.push(o({type:"wind",value:"north",amount:1})),r.push(o({type:"wind",value:"east",amount:1})),r.push(o({type:"wind",value:"west",amount:1})),r.push(o({type:"wind",value:"south",amount:1}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:4})),r.push(o({type:n[0],value:t,amount:4})),r.push(o({type:n[1],value:t,amount:2})),r.push(o({type:n[2],value:t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:3})),r.push(o({type:"dragon",value:s[n[0]],amount:4})),r.push(o({type:n[1],value:t,amount:3})),r.push(o({type:"dragon",value:s[n[1]],amount:4}))}))})),{tiles:e,score:25,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Any Like Numbers",n}))},2550:(e,t,n)=>{n(1249),n(4747),n(7042);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions,r.allOptions),u=(r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){[0,4].forEach((function(n){var r=[];e.push(r),r.push(o({type:t,value:1+n,amount:2})),r.push(o({type:t,value:2+n,amount:3})),r.push(o({type:t,value:3+n,amount:4})),r.push(o({type:t,value:4+n,amount:3})),r.push(o({type:t,value:5+n,amount:2}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:3})),r.push(o({type:n[0],value:1+t,amount:4})),r.push(o({type:n[1],value:2+t,amount:3})),r.push(o({type:n[1],value:3+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n,value:t,amount:1})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:3})),r.push(o({type:n,value:3+t,amount:4})),r.push(o({type:"dragon",value:u[n],amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:5})),r.push(o({type:n,value:t,amount:2})),r.push(o({type:n,value:1+t,amount:3})),r.push(o({type:n,value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:2})),r.push(o({type:n[0],value:t,amount:4})),r.push(o({type:n[1],value:1+t,amount:4})),r.push(o({type:n[2],value:2+t,amount:4}))})),a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:2})),r.push(o({type:n,value:t,amount:4})),r.push(o({type:n,value:1+t,amount:4})),r.push(o({type:n,value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:2})),r.push(o({type:n[0],value:1+t,amount:3})),r.push(o({type:n[1],value:0+t,amount:2})),r.push(o({type:n[1],value:1+t,amount:3})),r.push(o({type:n[2],value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:2})),r.push(o({type:n[0],value:1+t,amount:2})),r.push(o({type:n[0],value:2+t,amount:2})),r.push(o({type:n[1],value:3+t,amount:4})),r.push(o({type:n[2],value:3+t,amount:4}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-1).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:2})),r.push(o({type:n[0],value:0+t,amount:3})),r.push(o({type:n[0],value:1+t,amount:3})),r.push(o({type:"dragon",value:u[n[1]],amount:3})),r.push(o({type:"dragon",value:u[n[2]],amount:3}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Consecutive Run",n}))},6224:(e,t,n)=>{n(1249),n(4747),n(7042);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions,r.allOptions),u=(r.dragonOptions,r.dragonArrangments,r.windOptions);r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){s.forEach((function(n){u.forEach((function(r){var a=[];e.push(a),a.push(o({type:"wind",value:r,amount:5})),a.push(o({type:t,value:n,amount:4})),a.push(o({type:"flower",amount:5}))}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:5})),r.push(o({type:n[1],value:1+t,amount:2})),r.push(o({type:n[1],value:2+t,amount:2})),r.push(o({type:n[0],value:3+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:5})),r.push(o({type:n[1],value:1+t,amount:4})),r.push(o({type:n[2],value:2+t,amount:5}))}))})),s.slice(0,-2).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n,value:t,amount:5})),r.push(o({type:n,value:1+t,amount:4})),r.push(o({type:n,value:2+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-1).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:2})),r.push(o({type:n[0],value:1+t,amount:5})),r.push(o({type:n[1],value:t,amount:2})),r.push(o({type:n[1],value:1+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Quints",n}))},7111:(e,t,n)=>{n(1249),n(4747),n(7042);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=(r.oddOptions,r.evenOptions),u=r.allOptions;r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:"wind",value:"north",amount:2})),n.push(o({type:"wind",value:"east",amount:1})),n.push(o({type:"wind",value:"west",amount:1})),n.push(o({type:"wind",value:"south",amount:2})),a.forEach((function(e){n.push(o({type:e,value:t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){[0,4].forEach((function(n){var r=[];e.push(r),r.push(o({type:t[0],value:n+1,amount:2})),r.push(o({type:t[0],value:n+3,amount:1})),r.push(o({type:t[1],value:n+1,amount:2})),r.push(o({type:t[1],value:n+3,amount:2})),r.push(o({type:t[1],value:n+5,amount:1})),r.push(o({type:t[2],value:n+1,amount:2})),r.push(o({type:t[2],value:n+3,amount:2})),r.push(o({type:t[2],value:n+5,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-5).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:2})),r.push(o({type:n,value:t,amount:2})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:2})),r.push(o({type:n,value:3+t,amount:2})),r.push(o({type:n,value:4+t,amount:2})),r.push(o({type:n,value:5+t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){s.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",amount:2})),r.push(o({type:t[0],value:2,amount:2})),r.push(o({type:t[0],value:4,amount:2})),r.push(o({type:t[0],value:6,amount:2})),r.push(o({type:t[0],value:8,amount:2})),r.push(o({type:t[1],value:n,amount:2})),r.push(o({type:t[2],value:n,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:t[1],value:3,amount:2})),n.push(o({type:t[1],value:6,amount:2})),n.push(o({type:t[1],value:9,amount:2})),n.push(o({type:t[2],value:3,amount:2})),n.push(o({type:t[2],value:6,amount:2})),n.push(o({type:t[2],value:9,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),a.forEach((function(e){n.push(o({type:e,value:2,amount:2})),n.push(o({type:e,value:1,amount:1})),n.push(o({type:"dragon",value:"white",amount:1}))}))})),{tiles:e,score:75,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Singles and Pairs",n}))},4827:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.createTiles,a=r.allSuits,i=r.allSuitArrangements,s=r.oddOptions,u=r.evenOptions,l=(r.allOptions,r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:"wind",value:"east",amount:3})),n.push(o({type:"wind",value:"west",amount:3})),n.push(o({type:"wind",value:"south",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){s.forEach((function(n){var r=[];e.push(r),r.push(o({type:"wind",value:"north",amount:3})),r.push(o({type:"wind",value:"south",amount:3})),r.push(o({type:t[0],value:n,amount:2})),r.push(o({type:t[1],value:n,amount:2})),r.push(o({type:t[2],value:n,amount:4}))})),u.forEach((function(n){var r=[];e.push(r),r.push(o({type:"wind",value:"east",amount:3})),r.push(o({type:"wind",value:"west",amount:3})),r.push(o({type:t[0],value:n,amount:2})),r.push(o({type:t[1],value:n,amount:2})),r.push(o({type:t[2],value:n,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:4})),n.push(o({type:"wind",value:"north",amount:3})),n.push(o({type:"wind",value:"east",amount:2})),n.push(o({type:"wind",value:"west",amount:2})),n.push(o({type:"wind",value:"south",amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:"dragon",value:"red",amount:4})),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:"wind",value:"south",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:"dragon",value:"green",amount:4})),n.push(o({type:"wind",value:"east",amount:4})),n.push(o({type:"wind",value:"west",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:"wind",value:"south",amount:4})),n.push(o({type:"dragon",value:"white",amount:1})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:t,value:1,amount:1}))})),a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",amount:2})),n.push(o({type:"wind",value:"east",amount:4})),n.push(o({type:"wind",value:"west",amount:4})),n.push(o({type:"dragon",value:"white",amount:1})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:t,value:1,amount:1}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:3})),n.push(o({type:"wind",value:"east",amount:1})),n.push(o({type:"wind",value:"west",amount:1})),n.push(o({type:"wind",value:"south",amount:3})),n.push(o({type:"dragon",value:l[t[0]],amount:3})),n.push(o({type:"dragon",value:l[t[1]],amount:3}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Winds and Dragons",n}))},6587:(e,t,n)=>{n(7941);var r={"2020 National Mahjongg League":n(3205),"2021 National Mahjongg League":n(7338)},o=Object.keys(r);r["2021 Marvelous Mahjongg"]=n(418),Object.defineProperty(r,"Other Card - Bots Use Random Card",{get:function(){return r[o[Math.floor(Math.random()*o.length)]]}}),e.exports=r},418:(e,t,n)=>{function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309);var a=n(2976);var i,s={name:"2021 Marvelous Mahjongg"};Object.defineProperty(s,"combos",{get:function(){return i||(console.time("Generate "+s.name),(e=[]).push.apply(e,r(n(7487))),e.push.apply(e,r(n(8091))),e.push.apply(e,r(n(6817))),e.push.apply(e,r(n(8591))),i=a.outputExpander(e),console.timeEnd("Generate "+s.name),i);var e}}),e.exports=s},6817:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.nonJokerTiles,a=r.createTiles,i=r.allSuits,s=r.allSuitArrangements;r.oddOptions,r.evenOptions,r.allOptions,r.windOptions,r.dragonOptions,r.dragonArrangments,r.suitDragonConversion,r.outputExpander,r.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){var n=[];e.push(n),n.push(a({type:t[0],value:3,amount:1})),n.push(a({type:t[1],value:3,amount:1})),n.push(a({type:t[1],value:6,amount:1})),n.push(a({type:t[1],value:9,amount:3})),n.push(a({type:t[2],value:3,amount:2})),n.push(a({type:t[2],value:6,amount:3})),n.push(a({type:t[2],value:9,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){o.forEach((function(n){o.forEach((function(r){var o=[];e.push(o),o.push(a({type:t,value:3,amount:3})),o.push(a({type:t,value:6,amount:3})),o.push(a({type:t,value:9,amount:1})),o.push(a({type:n.type,value:n.value,amount:4})),o.push(a({type:r.type,value:r.value,amount:3}))}))}))})),{tiles:e,score:25,concealed:!1,skipDuplicateRemoval:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){var n=[];e.push(n),n.push(a({type:t[0],value:3,amount:3})),n.push(a({type:t[0],value:6,amount:1})),n.push(a({type:t[1],value:6,amount:3})),n.push(a({type:t[1],value:9,amount:2})),n.push(a({type:t[2],value:3,amount:3})),n.push(a({type:t[2],value:9,amount:2}))})),{tiles:e,score:30,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="3 More Miles",n}))},7487:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.nonJokerTiles,a=r.createTiles,i=r.allSuits,s=r.allSuitArrangements;r.oddOptions,r.evenOptions,r.allOptions,r.windOptions,r.dragonOptions,r.dragonArrangments,r.suitDragonConversion,r.outputExpander,r.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[2,4].forEach((function(t){s.forEach((function(n){o.forEach((function(r){o.forEach((function(o){var i=[];e.push(i),i.push(a({type:"flower",amount:1})),i.push(a({type:n[0],value:0+t,amount:1})),i.push(a({type:n[1],value:2+t,amount:2})),i.push(a({type:n[2],value:4+t,amount:3})),i.push(a({type:r.type,value:r.value,amount:4})),i.push(a({type:o.type,value:o.value,amount:3}))}))}))})),i.forEach((function(n){o.forEach((function(r){o.forEach((function(o){var i=[];e.push(i),i.push(a({type:"flower",amount:1})),i.push(a({type:n,value:0+t,amount:1})),i.push(a({type:n,value:2+t,amount:2})),i.push(a({type:n,value:4+t,amount:3})),i.push(a({type:r.type,value:r.value,amount:4})),i.push(a({type:o.type,value:o.value,amount:3}))}))}))}))})),{tiles:e,score:25,concealed:!1,skipDuplicateRemoval:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){var n=[];e.push(n),n.push(a({type:t[0],value:2,amount:3})),n.push(a({type:t[0],value:4,amount:3})),n.push(a({type:t[1],value:6,amount:1})),n.push(a({type:t[1],value:8,amount:1})),n.push(a({type:t[2],value:6,amount:3})),n.push(a({type:t[2],value:8,amount:3}))})),{tiles:e,score:25,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Double Harness",n}))},8091:(e,t,n)=>{n(1249),n(4747);var r=n(2976),o=r.nonJokerTiles,a=r.createTiles,i=r.allSuits,s=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions,r.windOptions,r.dragonOptions);r.dragonArrangments,r.suitDragonConversion,r.outputExpander,r.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){o.forEach((function(n){o.forEach((function(r){var o=[];e.push(o),o.push(a({type:t[0],value:1,amount:1})),o.push(a({type:t[1],value:3,amount:1})),o.push(a({type:t[1],value:5,amount:1})),o.push(a({type:t[1],value:7,amount:1})),o.push(a({type:t[2],value:9,amount:3})),o.push(a({type:n.type,value:n.value,amount:4})),o.push(a({type:r.type,value:r.value,amount:3}))}))}))})),i.forEach((function(t){o.forEach((function(n){o.forEach((function(r){var o=[];e.push(o),o.push(a({type:t,value:1,amount:1})),o.push(a({type:t,value:3,amount:1})),o.push(a({type:t,value:5,amount:1})),o.push(a({type:t,value:7,amount:1})),o.push(a({type:t,value:9,amount:3})),o.push(a({type:n.type,value:n.value,amount:4})),o.push(a({type:r.type,value:r.value,amount:3}))}))}))})),{tiles:e,score:25,concealed:!1,skipDuplicateRemoval:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(a({type:"flower",amount:2})),n.push(a({type:t,value:1,amount:1})),n.push(a({type:t,value:3,amount:3})),n.push(a({type:t,value:5,amount:2})),n.push(a({type:t,value:7,amount:3})),n.push(a({type:t,value:9,amount:3}))})),s.forEach((function(t){var n=[];e.push(n),n.push(a({type:"flower",amount:2})),n.push(a({type:t[0],value:1,amount:1})),n.push(a({type:t[0],value:3,amount:3})),n.push(a({type:t[0],value:5,amount:1})),n.push(a({type:t[1],value:5,amount:1})),n.push(a({type:t[1],value:7,amount:3})),n.push(a({type:t[1],value:9,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0,2,4].forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(a({type:n,value:t+1,amount:3})),r.push(a({type:n,value:t+3,amount:3})),r.push(a({type:n,value:t+5,amount:3})),r.push(a({type:n,value:1,amount:1})),r.push(a({type:n,value:3,amount:1})),r.push(a({type:n,value:5,amount:1})),r.push(a({type:n,value:7,amount:1})),r.push(a({type:n,value:9,amount:1}))})),s.forEach((function(n){var r=[];e.push(r),r.push(a({type:n[0],value:t+1,amount:3})),r.push(a({type:n[1],value:t+3,amount:3})),r.push(a({type:n[2],value:t+5,amount:3})),r.push(a({type:n[0],value:1,amount:1})),r.push(a({type:n[0],value:3,amount:1})),r.push(a({type:n[0],value:5,amount:1})),r.push(a({type:n[0],value:7,amount:1})),r.push(a({type:n[0],value:9,amount:1}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){s.forEach((function(n){var r=[];e.push(r),r.push(a({type:"flower",amount:4})),r.push(a({type:"dragon",value:t,amount:3})),r.push(a({type:n[0],value:2,amount:1})),r.push(a({type:n[0],value:1,amount:1})),r.push(a({type:n[1],value:1,amount:1})),r.push(a({type:n[1],value:3,amount:1})),r.push(a({type:n[1],value:5,amount:1})),r.push(a({type:n[1],value:7,amount:1})),r.push(a({type:n[1],value:9,amount:1}))}))})),{tiles:e,score:30,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Oddly Matched",n}))},8591:(e,t,n)=>{n(1249),n(4747),n(7042);var r=n(2976),o=r.nonJokerTiles,a=r.createTiles,i=r.allSuits,s=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions);r.windOptions,r.dragonOptions,r.dragonArrangments,r.suitDragonConversion,r.outputExpander,r.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){o.forEach((function(n){u.slice(0,-4).forEach((function(r){var o=[];e.push(o),o.push(a({type:t,value:r+0,amount:1})),o.push(a({type:t,value:r+1,amount:3})),o.push(a({type:t,value:r+2,amount:1})),o.push(a({type:t,value:r+3,amount:4})),o.push(a({type:t,value:r+4,amount:1})),o.push(a({type:n.type,value:n.value,amount:4}))}))}))})),{tiles:e,score:25,concealed:!1,skipDuplicateRemoval:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-3).forEach((function(t){s.forEach((function(n){var r=[];e.push(r),r.push(a({type:n[0],value:0+t,amount:4})),r.push(a({type:n[1],value:1+t,amount:3})),r.push(a({type:n[1],value:2+t,amount:3})),r.push(a({type:n[2],value:3+t,amount:4}))})),i.forEach((function(n){var r=[];e.push(r),r.push(a({type:n,value:0+t,amount:4})),r.push(a({type:n,value:1+t,amount:3})),r.push(a({type:n,value:2+t,amount:3})),r.push(a({type:n,value:3+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-4).forEach((function(t){s.forEach((function(n){var r=[];e.push(r),r.push(a({type:n[0],value:0+t,amount:3})),r.push(a({type:n[1],value:1+t,amount:2})),r.push(a({type:n[2],value:2+t,amount:4})),r.push(a({type:n[1],value:3+t,amount:2})),r.push(a({type:n[0],value:4+t,amount:3}))})),i.forEach((function(n){var r=[];e.push(r),r.push(a({type:n,value:0+t,amount:3})),r.push(a({type:n,value:1+t,amount:2})),r.push(a({type:n,value:2+t,amount:4})),r.push(a({type:n,value:3+t,amount:2})),r.push(a({type:n,value:4+t,amount:3}))}))})),{tiles:e,score:30,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Running With The Bulls",n}))},2976:(e,t,n)=>{function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(6535),n(9244),n(1249),n(7327),n(2222),n(3290),n(2707),n(4747),n(4553),n(561),n(9601),n(4944),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309);var a=n(2946),i=n(502),s=n(6212);function u(e){return e.length?e.flatMap((function(t,n){return u(e.filter((function(e,t){return n!==t}))).map((function(e){return[t].concat(r(e))}))})):[[]]}var l=["bamboo","character","circle"],c=u(l),h=[1,3,5,7,9],p=[2,4,6,8],d=h.concat(p).sort(),f=["red","green","white"],v=u(f);function m(e,t){e.combos&&(e=e.combos);for(var n=[],o=function(o){var s=e[o],u=[],l=[];s.tiles.forEach((function(e){e.length<=2?l.push.apply(l,r(e)):u.push.apply(u,r(e))}));var c=0,h=void 0,p=[];function d(e){if("joker"===e.type)return++c,!0;var t=l.findIndex((function(t){return t.matches(e)}));if(-1!==t)return l.splice(t,1),!0;var n=u.findIndex((function(t){return t.matches(e)}));return-1!==n&&(u.splice(n,1),!0)}var f=function(e){var n=t[e];if(n instanceof i&&(n=n.tiles),n instanceof Array){!0===s.concealed&&0;var r=i.isValidMatch(n,!0);if(!s.tiles.some((function(e){return!r||!(e.length!==n.length||!r.matches(i.findNonJoker(e)))})))return h=1/0,"break|processHandItems";for(var o=0;o<n.length;o++){var a=n[o];if("joker"===a.type&&(a=r),!d(a))return h=1/0,"break|processHandItems"}}};e:for(var v=0;v<t.length;v++){if("break|processHandItems"===f(v))break e}if(h!==1/0){for(var m=0;m<t.length;m++){var g=t[m];g instanceof i||g instanceof Array||d(g)||p.push(g)}h=l.length+Math.max(0,u.length-c),c>u.length&&(p.push(new a({type:"joker",value:""})),c--),n.push({diff:h,handOption:s,noFillJoker:l,canFillJoker:u,notUsed:p,jokerCount:c})}},s=0;s<e.length;s++)o(s);return n=n.sort((function(e,t){var n=e.diff,r=t.diff;function o(e){if(e.handOption.concealed)return Math.max(0,e.diff-1);if(void 0===e.uncallableTiles){var t=function(e){for(var t=0,r=function(r){var o=e[r];n.some((function(e){return o.matches(e[0])}))&&t++},o=0;o<e.length;o++)r(o);return t},n=e.handOption.tiles.filter((function(e){return e.length<3})),r=t(e.noFillJoker)+Math.max(0,t(e.canFillJoker)-e.jokerCount);e.uncallableTiles=Math.max(0,r-1)}return e.uncallableTiles}return n+=.15*o(e),r+=.15*o(t),n+=.15*e.noFillJoker.length,r+=.15*t.noFillJoker.length,e.weightedDiff=n,t.weightedDiff=r,n!==r?n-r:t.handOption.score-e.handOption.score}))}var g=s.getNonPrettyTiles(1);g.push(new a({type:"flower"})),e.exports={nonJokerTiles:g,createTiles:function(e){var t=e.type,n=e.value,r=e.amount,o=new a({type:t,value:n});return new Array(r).fill(o)},allSuits:l,allSuitArrangements:c,oddOptions:h,evenOptions:p,allOptions:d,windOptions:["north","east","west","south"],dragonOptions:f,dragonArrangments:v,suitDragonConversion:{character:"red",bamboo:"green",circle:"white"},outputExpander:function(e){console.time("Expand");var t=[],n=0;return e.forEach((function(e){var r=[];if(e.tiles.forEach((function(t){var n=Object.assign({},e);if(n.tiles=t,14!==n.tiles.flat().length)throw"Invalid Combo";r.push(n)})),e.skipDuplicateRemoval)console.warn("Skipping Duplicate Removal"),delete e.skipDuplicateRemoval,t.push.apply(t,r);else{for(var o=[],a=0;a<r.length;a++){var i,s=r[a];0===(null===(i=m(o,s.tiles)[0])||void 0===i?void 0:i.diff)?n++:o.push(s)}t.push.apply(t,o)}})),console.timeEnd("Expand"),n&&console.warn("Removed "+n+" Duplicate Combos"),t},getTileDifferential:m}},5025:(e,t,n)=>{n(5837),n(4747),n(9600),n(6755),n(3210),n(6699),n(2023);var r,o,a,i=n(8258);n(927);try{r=n(Object(function(){var e=new Error("Cannot find module 'path'");throw e.code="MODULE_NOT_FOUND",e}())),o=n(Object(function(){var e=new Error("Cannot find module 'fs'");throw e.code="MODULE_NOT_FOUND",e}())),a=n(Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){console.warn(e)}function s(e,t,n){return JSON.stringify({type:e,message:t,status:n})}e.exports=function(e){var t;e.on("message",(function(n){try{var u,l;try{u=JSON.parse(n)}catch(t){return e.send(s("error","Message must be valid JSON"))}if("callServerSave"===u.type||"messageAllServerClients"===u.type)return u.auth?"014eea3157474ede4dccc818d1a84efff650b82b8d67d3470f46e4ecc2f5d829"!==a.createHash("sha256").update(u.auth).digest("hex")?e.send(s("displayMessage",{title:"Auth Error",body:"Invalid Admin Password"})):"callServerSave"===u.type?e.send(s("displayMessage",{title:"Server Save",body:globalThis.saveServerState(u.saveName)})):void("messageAllServerClients"===u.type&&globalThis.serverStateManager.getAllClients().forEach((function(e){e.message("displayMessage",{title:u.title,body:u.body,onlineOnly:u.onlineOnly})}))):e.send(s("displayMessage",{title:"Auth Error",body:"This command must be authed"}));if("uploadOfflineSave"===u.type){var c=globalThis.serverStateManager.serverDataDirectory,h=r.join(c,u.saveId+".server.json");return void(h.startsWith(c)&&o.promises.writeFile(h,u.message))}if(console.log("received: "+JSON.stringify(u)),!t&&!u.clientId)return e.send(s("error","No clientId specified"));if(t=u.clientId,globalThis.serverStateManager.getClient(t)?(l=globalThis.serverStateManager.getClient(t)).setWebsocket(e):l=t.startsWith("bot")?globalThis.serverStateManager.createBot(t,e):globalThis.serverStateManager.createClient(t,e),"createRoom"===u.type)return"string"!=typeof u.roomId||0===u.roomId.trim().length?e.send(s("createRoom","roomId must be a string with at least one character","error")):globalThis.serverStateManager.getRoom(u.roomId)?e.send(s("createRoom","Room Already Exists","error")):(l.setNickname(u.nickname),globalThis.serverStateManager.createRoom(u.roomId).addClient(t),l.setRoomId(u.roomId),e.send(s("createRoom",u.roomId,"success")));if("joinRoom"===u.type)return globalThis.serverStateManager.getRoom(u.roomId)?(l.setNickname(u.nickname),globalThis.serverStateManager.getRoom(u.roomId).addClient(t)):e.send(s("joinRoom","Room Does Not Exist","error"));if("getCurrentRoom"===u.type){console.log(l.getRoomId());var p=l.getRoomId();return l.message(u.type,p,"success"),e.send(s(u.type,p,"success"))}if("createRoomFromState"===u.type){try{var d=r.join(globalThis.serverStateManager.serverDataDirectory,u.saveId+".room");if(o.existsSync(d)){var f=i.fromJSON(o.readFileSync(d,{encoding:"utf8"})),v=f.roomId;if(!globalThis.serverStateManager.createRoom(v,f))return console.warn("Room already exists. ");f.init()}else console.warn("Invalid save path")}catch(e){console.error(e)}return}if(u.type.includes("roomAction")){var m=globalThis.serverStateManager.getRoom(u.roomId)||l.getRoom();if(!m)return e.send(s(u.type,"Room Does Not Exist","error"));try{return m.onIncomingMessage(t,u)}catch(e){return console.error(e),void console.error(e.stack)}}console.log("Nothing happened. ")}catch(e){console.error(e)}}))}},4696:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,u,"next",e)}function u(e){o(i,r,a,s,u,"throw",e)}s(void 0)}))}}n(5666),n(1539),n(8674),n(4747),n(2222),n(9653),n(7327),n(4944),n(9600),n(4916),n(3123),n(6699),n(2023),n(1249),n(3290),n(2772),n(7042),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var i=n(2946),s=n(2169),u=n(6212),l=n(4376),c=(n(7793),n(9458),document.createElement("div"));function h(e){var t=document.createElement("div");return t.id=e,c.appendChild(t),t}function p(e,t){var n=h(e),r=document.createElement("div");return r.id=t,n.appendChild(r),r}c.id="gameBoard",document.body.appendChild(c);var d=new function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.id=e.id||"compass",this.compass=document.createElement("img"),this.compass.id=e.id,c.appendChild(this.compass),this.setDirectionForUserWind=function(e){this.compass.src="assets/compass-"+e+".svg"}}({id:"compass"});var f=new function(e){if(!document.fullscreenEnabled&&document.webkitFullscreenEnabled&&(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.webkitFullscreenElement}}),document.documentElement.requestFullscreen=function(){document.documentElement.webkitRequestFullScreen()},document.exitFullscreen=function(){document.webkitExitFullscreen()},document.addEventListener("webkitfullscreenchange",(function(){document.dispatchEvent(new Event("fullscreenchange"))}))),void 0!==document.fullscreenElement){this.toggleElement=document.createElement("img"),this.toggleElement.id=e,this.toggleElement.title="Toggle Full Screen",this.toggleElement.addEventListener("click",(function(){var e,t,n,r;document.fullscreenElement?(document.exitFullscreen(),null!==(e=window)&&void 0!==e&&null!==(t=e.Capacitor)&&void 0!==t&&t.Plugins&&Capacitor.Plugins.StatusBar.show()):(document.documentElement.requestFullscreen(),null!==(n=window)&&void 0!==n&&null!==(r=n.Capacitor)&&void 0!==r&&r.Plugins&&Capacitor.Plugins.StatusBar.hide())}));var t=function(){document.fullscreenElement?this.toggleElement.src="assets/exit-full-screen.svg":this.toggleElement.src="assets/go-full-screen.svg"}.bind(this);document.addEventListener("fullscreenchange",t),t()}}("fullscreenControls");f.toggleElement&&c.appendChild(f.toggleElement);var v=document.createElement("img");v.src="assets/reload-icon.svg",v.id="syncButton",v.title="Sync (Reload)",c.appendChild(v),v.addEventListener("click",a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e,t){window.saveOfflineGame().then(e),setTimeout(t,500,"Ran Out Of Time to Save")}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:window.location.reload();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))),window.Tile=i,window.Sequence=n(7793),window.Match=n(9458);var m=function(){var e=document.createElement("div");return e.id="tilePlacemat",e}();c.appendChild(m);var g=document.createElement("button");g.id="revertStateButton",g.innerHTML="History",c.appendChild(g),g.addEventListener("click",(function(){var e=document.createElement("div"),t=document.createElement("p");t.innerHTML="Loading Game History... (This should only take a second or two - otherwise, close menu and try again)",e.appendChild(t);var n=new l.Notification("History",e);n.show(),stateManager.getMessageHistory().then((function(r){var o=r.message;t.innerHTML="Click to reset the game back in history: ";var a=document.createElement("div");a.className="historyMenuButtonContainer",e.appendChild(a),o.forEach((function(e){var t=document.createElement("button");t.innerHTML="Move ".concat(e.move," - ").concat(e.message),a.appendChild(t),t.addEventListener("click",(function(){confirm("Are you sure you would like to revert the game state to move ".concat(e.move,"? This will affect ALL players, and can't be undone!"))&&(window.stateManager.revertState(e.move),n.dismiss())}))})),a.scrollTo(0,999999)}))}));var y=document.createElement("button");y.id="swapJokerButton",y.innerHTML="Swap Joker",c.appendChild(y),y.addEventListener("click",(function(){if(1===I.inPlacemat.length){var e,t=document.createElement("div"),n=document.createElement("p");n.innerHTML="Who would you like to try and swap with?",t.appendChild(n),stateManager.lastState.message.clients.forEach((function(n,r){var o=document.createElement("button");o.innerHTML=n.nickname,o.className="swapJokerOptionMenuButton",n.id===window.clientId&&(o.innerHTML+=" (You)"),t.appendChild(o),o.addEventListener("click",(function(){window.stateManager.placeTiles(I.inPlacemat,!1,{swapJoker:n.id}),e.dismiss()}))})),(e=new l.Notification("Swap Tile For Joker",t)).show()}else new l.Notification("Error With Swap","You must have exactly one tile in your placemat to swap - act like you are going to discard the tile, but hit Swap Joker instead of proceed. ").show()}));var w=document.createElement("button");w.id="proceedButton",w.innerHTML="Proceed",c.appendChild(w),w.addEventListener("click",(function(){var e=I.inPlacemat;e.length!==Number(e.some((function(e){return e.evicting})))?(console.log(e),window.stateManager.placeTiles(e)):window.stateManager.placeTiles([])})),window.stateManager.onPlaceTiles=function(e){"error"===e.status&&new l.Notification("Error Placing Tiles",e.message).show()};var b=document.createElement("button");b.id="hintButton",b.innerHTML="Suggested Hands",c.appendChild(b),b.addEventListener("click",(function(){var e;try{var t=stateManager.lastState.message.settings.card;if("Other Card - Bots Use Random Card"===t)e=new l.Notification("Suggested Hands","This card does not support Suggested Hands. ");else{var r=n(6587),o=n(2976),a=r[t],i=I.contents.concat(I.inPlacemat.filter((function(e){return!e.evicting}))),s=o.getTileDifferential(a,i);if(0===s.length)e=new l.Notification("No Hands Found"," - Your hand might be dead<br> - You might have selected the wrong card (using ".concat(t,"). <br> - Bots might only support a portion of your card"));else{var u=document.createElement("div"),c=document.createElement("p");c.innerHTML="(Sorted by Bot - Scroll to see more)",u.appendChild(c);var h=document.createElement("table");s.forEach((function(e,t){if(t<100){var n=document.createElement("tr");h.appendChild(n);var r=document.createElement("td");r.innerHTML="".concat(e.handOption.section," #").concat(e.handOption.cardIndex+1," - ").concat(e.diff," Tiles Away (").concat(e.handOption.concealed?"C":"X",")"),n.appendChild(r);var o=document.createElement("tr");h.appendChild(o),e.handOption.tiles.flat().forEach((function(e){var t=document.createElement("img");t.src=e.getImageUrl(),o.appendChild(t)}))}})),u.appendChild(h),h.className="suggestedHandsTable",console.log(u),e=new l.Notification("Suggested Hands",u)}}}catch(t){console.error(t),e=new l.Notification("Suggested Hands","There was an error displaying suggested hands. Sorry. ")}e.show()}));var S=document.createElement("div");S.id="instructionBubble",S.style.display="none",c.appendChild(S),window.stateManager.addEventListener("onStateUpdate",(function(e){S.style.display="",S.innerHTML=e.message.instructions.split("\n").join("<br>")})),window.stateManager.onGameplayAlert=function(e){var t,n,r=document.createElement("audio"),o=[];e.message.includes("thrown")?r.volume=.5:e.message.includes("mahjong")&&(r.volume=1),o.length>0&&(r.src="assets/sounds/"+o[Math.floor(Math.random()*o.length)],r.setAttribute("preload","auto"),r.setAttribute("controls","none"),r.style.display="none",document.body.appendChild(r),r.play(),setTimeout((function(){r.remove()}),2e3)),console.log(e),console.log(e.message);var a=new l.BlocklessAlert(e.message,4e3*((null==e||null===(t=e.status)||void 0===t?void 0:t.durationMultiplier)||1),{optional:null==e||null===(n=e.status)||void 0===n?void 0:n.optional});console.log(a),a.onStart.then((function(){var t,n;if(window.voiceChoices[null==e||null===(t=e.status)||void 0===t?void 0:t.clientId]&&null!=e&&null!==(n=e.status)&&void 0!==n&&n.speech){var r=new SpeechSynthesisUtterance(e.status.speech),o=window.voiceChoices[e.status.clientId].get();if(console.log(window.voiceChoices[e.status.clientId]),console.log(window.voiceChoices[e.status.clientId].get()),console.log(o),"string"!=typeof o)try{r.voice=o}catch(e){console.error(e)}"none"!==o&&speechSynthesis.speak(r)}}))};var E=document.createElement("button");E.id="endGameButton",c.appendChild(E);var T=document.createElement("button");T.id="newGameNoLobbyButton",T.innerHTML="New Game",c.appendChild(T);var x=!0;E.addEventListener("click",(function(){if("Leave Room"===E.innerHTML||!x||confirm("Are you absolutely sure you want to end the game?")){var e=stateManager.lastState.message;window.stateManager.endGame();try{var t,n;"ios"===(null===(t=window)||void 0===t||null===(n=t.Capacitor)||void 0===n?void 0:n.getPlatform())&&(console.log("Analyzing"),e.currentTurn.userTurn===window.clientId&&1===e.isGameOver&&(console.log("Calling"),AppRate.promptForRating(!1)))}catch(e){console.error(e)}}})),T.addEventListener("click",(function(){E.click(),document.getElementById("startGameButton").click()}));var C=document.createElement("button");C.id="goMahjongButton",c.appendChild(C),C.addEventListener("click",(function(){var e=I.inPlacemat;console.log(e),window.stateManager.placeTiles(e,{mahjong:!0})}));var k=document.createElement("div");k.id="wallAndDiscardContainer",c.appendChild(k);var M=document.createElement("div");M.className="wall",k.appendChild(M);var O=document.createElement("div");O.id="discardPile",k.appendChild(O);var A=h("userHand"),I=(h("userHandExposed"),new s({handToRender:A,handForExposed:userHandExposed,interactive:!0,tilePlacemat:m}));window.userHand=I;var L=p("rightHand","rightHandContainer"),P=new s({handToRender:L}),j=h("topHand"),R=new s({handToRender:j}),D=p("leftHand","leftHandContainer"),N=new s({handToRender:D}),H=["bottomNametag","rightNametag","topNametag","leftNametag"].map((function(e){var t=document.createElement("p");return t.id=e,c.appendChild(t),t})),_=!0,F=!1;function B(){R.renderTiles(),N.renderTiles(),P.renderTiles(),I.renderTiles()}window.stateManager.addEventListener("onStateUpdate",(function(e){var t,n,o,a,h,p;C.innerHTML="Mahjong",window.stateManager.isHost?T.style.display="":T.style.display="none",c.className=null==e||null===(t=e.message)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.gameStyle;var f=e.message;if(x=!f.isGameOver,b.style.display="",w.classList.add("shrinkForHintButton"),null!=f&&null!==(o=f.settings)&&void 0!==o&&o.disableHints&&(b.style.display="none",w.classList.remove("shrinkForHintButton")),!f.inGame)return document.body.style.overflow="",void(F=!1);document.body.style.overflow="hidden",void 0!==f.wallTiles&&("object"===r(f.wallTiles)?f.wallTiles=s.convertStringsToTiles(f.wallTiles):f.wallTiles=new Array(f.wallTiles).fill(new i({faceDown:!0})),u.renderWall(M,f.wallTiles)),f.discardPile&&function(e){for(;O.firstChild;)O.firstChild.remove();var t=e.map((function(e){return i.fromJSON(e)}));(t=s.sortTiles(t)).forEach((function(e){var t,n,r,o,a=document.createElement("img");a.src=e.getImageUrl(),a.title=e.getTileName(null===(t=stateManager)||void 0===t||null===(n=t.lastState)||void 0===n||null===(r=n.message)||void 0===r||null===(o=r.settings)||void 0===o?void 0:o.gameStyle),O.appendChild(a)}))}(f.discardPile);var v,m=f.clients,g=["north","east","south","west"],S=[I,P,R,N];m.forEach((function(e){if(e.hand){var t,n=s.fromString(e.hand);I.syncContents(n.contents,F&&(null==f||null===(t=f.currentTurn)||void 0===t?void 0:t.charleston)),v=n.wind}})),null!=f&&null!==(a=f.currentTurn)&&void 0!==a&&a.charleston&&(F=!0);var k=g.indexOf(v),A=g.slice(k).concat(g.slice(0,k));if(v?(d.setDirectionForUserWind(v),E.innerHTML="End Game"):(d.setDirectionForUserWind(A[0]),E.innerHTML="Leave Room",_&&(new l.MessageBar("You are spectating (message will close automatically)").show(1e4),_=!1)),m.forEach((function(e){var t=0;e.wind&&(t=A.indexOf(e.wind));var n=S[t];e.visibleHand&&e.wind&&(n.syncContents(s.convertStringsToTiles(e.visibleHand)),n.wind=e.wind);var r=H[t];r.innerHTML=e.nickname,r.style.color="",n.handToRender.classList.remove("brightnessPulse"),f.currentTurn&&e.id===f.currentTurn.userTurn&&(n.handToRender.classList.add("brightnessPulse"),r.style.color="red")})),S.forEach((function(e){var t;e.renderTiles(null==f||null===(t=f.currentTurn)||void 0===t?void 0:t.lastDrawn)})),y.disabled="",I.setEvictingThrownTile(),(null===(h=f.currentTurn)||void 0===h||null===(p=h.playersReady)||void 0===p?void 0:p.length)>0){var L=f.currentTurn.playersReady.includes(window.clientId);w.disabled=L?"disabled":"",C.disabled=L?"disabled":"",y.disabled="disabled",w.innerHTML="Proceed ("+f.currentTurn.playersReady.length+"/4)",f.currentTurn.thrown||f.currentTurn.charleston||f.currentTurn.userTurn!==clientId||(w.disabled=""),f.currentTurn.charleston&&f.currentTurn.userTurn!==clientId&&(C.disabled="disabled"),f.currentTurn.userTurn!==clientId&&f.currentTurn.thrown&&I.setEvictingThrownTile(i.fromJSON(f.currentTurn.thrown)),I.renderPlacemat("")}else w.disabled="",C.disabled="",w.innerHTML="Proceed",f.currentTurn.charleston&&(C.disabled="disabled"),f.currentTurn.userTurn===window.clientId?(I.renderPlacemat("pending"),y.disabled=""):(I.renderPlacemat(""),y.disabled="disabled",f.currentTurn.charleston||(w.disabled="disabled",C.disabled="disabled"));w.disabled||f.isGameOver?w.classList.remove("scaleAnimation"):w.classList.add("scaleAnimation"),f.isGameOver&&(w.innerHTML="View Scores",w.disabled="",C.innerHTML="Scores",C.disabled="")})),w.addEventListener("click",(function(){w.style.animation="none",setTimeout((function(){w.style.animation=""}),100)})),document.addEventListener("keyup",(function(e){var t=["q","w","e","r","t","y","u","i","o","p","a","s","d","f"];if(stateManager.inGame)if("Space"===e.code&&e.shiftKey)C.click();else if("Space"===e.code)w.click();else if(Number(e.key)>0&&Number(e.key)<5){var n=Number(e.key)-1;I.moveTile(I.inPlacemat[n])}else if(t.includes(e.key.toLowerCase())){var r=t.indexOf(e.key.toLowerCase()),o=I.contents.filter((function(e){return e instanceof i}));I.moveTile(o[r])}})),window.addEventListener("resize",B),window.addEventListener("orientationchange",B),window.addEventListener("scroll",(function(e){window.stateManager.inGame&&window.scrollTo(0,0)})),e.exports=c},2169:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(561),n(2772),n(4747),n(3290),n(6699),n(2707),n(5735),n(3753),n(7327),n(4553),n(1249);var a=n(2946),i=n(9458),s=n(7793),u=n(4810),l=(n(6212),n(502)),c=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function o(e){e.preventDefault()}function c(e){var t="randomClassForTransfer"+Math.pow(2,53)*Math.random();e.target.classList.add(t),e.dataTransfer.setData("randomClass",t)}r(this,e),this.handToRender=t.handToRender,this.handForExposed=t.handForExposed,this.tilePlacemat=t.tilePlacemat,this.interactive=t.interactive||!1,this.wind=t.wind,this.contents=[],this.inPlacemat=[],this.syncContents=n(974).bind(this),this.score=n(839).bind(this),this.getClearHandDoubles=n(9064).bind(this),this.isMahjong=n(5867).bind(this),this.isCalling=n(6527).bind(this),Object.defineProperty(this,"placematLength",{get:function(){var e,t,n,r;return"american"===(null===(e=stateManager)||void 0===e||null===(t=e.lastState)||void 0===t||null===(n=t.message)||void 0===n||null===(r=n.settings)||void 0===r?void 0:r.gameStyle)?6:4}}),this.add=function(e){var t;t=e instanceof s||e instanceof l?e.tiles[0].getTileValue():e.getTileValue();for(var n=0;n<this.contents.length;n++){var r=this.contents[n];if(r instanceof s&&(r=r.tiles[2]),r instanceof l&&(r=r.tiles[0]),t<r.getTileValue())return void this.contents.splice(n,0,e)}this.contents.push(e)}.bind(this),this.remove=function(e){var t=this.contents.indexOf(e),n=this.inPlacemat.indexOf(e);if(-1!==t)this.contents.splice(t,1);else{if(-1===n)throw e+" does not exist in hand. ";this.inPlacemat.splice(n,1)}}.bind(this),this.moveTile=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.inPlacemat.indexOf(e),o=this.contents.indexOf(e);if(console.log(n),r+o!==-2){this.inPlacemat,this.contents;if(t)if(-1===r){if(this.inPlacemat.length>=this.placematLength)return void alert("Placemat is already full. ");this.inPlacemat.push(this.contents.splice(o,1)[0])}else{if(0===r&&this.inPlacemat[0].evicting)return void alert("This tile was discarded. To claim it, select the tiles you would like to match with it, then hit proceed. ");var a=this.inPlacemat.splice(r,1)[0];isNaN(n)?this.add(a):this.contents.splice(n,0,a)}else isNaN(n)?console.error("Unable to determine how this tile should be moved. "):-1===o?console.error("Reordering in placemat is not supported. Must be in hand."):(n>o&&n--,this.contents.splice(n,0,this.contents.splice(o,1)[0]));this.renderTiles(),this.renderPlacemat()}else console.error("Tile does not exist. ")}.bind(this),this.removeMatchingTile=function(e){var t=this;if(!e instanceof a)throw"removeMatchingTile only supports Tiles";return this.inPlacemat.length>0&&console.warn("Hand.removeMatchingTile is intended for server side use only. "),!!this.contents.some(function(n,r){return!!e.matches(n)&&(t.contents.splice(r,1),!0)}.bind(this))},this.getExposedTiles=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return this.contents.forEach((function(n){n.exposed||n instanceof i&&4===n.amount?t.push(n):e&&t.push(new a({faceDown:!0}))})),t}.bind(this);var h=function(e){e.preventDefault();var t,n=e.dataTransfer.getData("randomClass"),r=document.getElementsByClassName(n)[0];r.classList.remove(n);for(var o=0;o<this.handToRender.children.length;o++){var a=this.handToRender.children[o],i=a.getBoundingClientRect();if(t=a.tileIndex+1,e.clientX<i.left+i.width/2){t--;break}}void 0!==r.placematIndex?this.moveTile(this.inPlacemat[r.placematIndex],!0,t):this.moveTile(this.contents[r.tileIndex],!1,t)}.bind(this),p=function(e){e.preventDefault();var t=e.dataTransfer.getData("randomClass"),n=document.getElementsByClassName(t)[0];n.classList.remove(t),this.moveTile(this.contents[n.tileIndex])}.bind(this);this.interactive&&(this.handToRender.addEventListener("dragover",o),this.handToRender.addEventListener("dragenter",o),this.handToRender.addEventListener("drop",h),this.tilePlacemat&&(this.tilePlacemat.addEventListener("dragover",o),this.tilePlacemat.addEventListener("dragenter",o),this.tilePlacemat.addEventListener("drop",p),this.tilePlacemat.addEventListener("dragover",(function(){this.style.backgroundColor="lightblue"})),this.tilePlacemat.addEventListener("dragleave",(function(){this.style.backgroundColor=""})),this.tilePlacemat.addEventListener("drop",(function(){this.style.backgroundColor=""})))),this.removeMatchingTilesFromHand=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e instanceof a)throw"You must send a tile. ";return this.removeTilesFromHand(new Array(t).fill(e),n)}.bind(this),this.removeTilesFromHand=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((e instanceof s||e instanceof l)&&(e=e.tiles),e instanceof a)e=[e];else if(!e instanceof Array)throw"Must send a Sequence, Tile, or Array. ";var r=[];e.forEach((function(e,n){if(!(e instanceof a))throw"Your Sequence or Array contains non-tiles. ";for(var o=t.contents.length-1;o>=0;o--){var i=e.matches(t.contents[o]);if(!r.includes(o))if(2===i)r[n]=o;else if(i)return void(r[n]=o)}}));for(var o=!0,i=0;i<e.length;i++)void 0===r[i]&&(o=!1);return!!o&&(n||r.sort((function(e,t){return t-e})).forEach((function(e){t.contents.splice(e,1)})),!0)}.bind(this),this.renderPlacemat=function(e){var t,n,r=this;for(e=null!==(t=e)&&void 0!==t?t:null===(n=this.tilePlacemat.firstChild)||void 0===n?void 0:n.className;this.tilePlacemat.firstChild;)this.tilePlacemat.firstChild.remove();for(var o=function(t){var n,o,a,i,s=r.inPlacemat[t],u=document.createElement("img");(r.tilePlacemat.appendChild(u),0===t&&e&&(u.className=e),s)?(u.src=s.getImageUrl(),u.title=s.getTileName(null===(n=stateManager)||void 0===n||null===(o=n.lastState)||void 0===o||null===(a=o.message)||void 0===a||null===(i=a.settings)||void 0===i?void 0:i.gameStyle),u.draggable=!0,u.placematIndex=t,u.addEventListener("dragstart",c),u.addEventListener("click",function(){this.moveTile(s)}.bind(r))):u.src="assets/tiles/tile-outline.png"},a=0;a<this.placematLength;a++)o(a)}.bind(this),this.setEvictingThrownTile=function(e){for(var t=this.inPlacemat.length-1;t>=0;t--){this.inPlacemat[t].evicting&&this.inPlacemat.splice(t,1)}e&&(this.inPlacemat.length>=this.placematLength&&this.contents.push(this.inPlacemat.pop()),this.inPlacemat.unshift(e),e.evicting=!0)}.bind(this),this.renderTiles=function(e){if(!this.handToRender)throw"Unable to render hand. You must pass config.handToRender to the constructor. ";"string"==typeof e&&(e=a.fromJSON(e));for(var t=[],n=[],r=0;r<this.contents.length;r++){var o=this.contents[r];if(o instanceof a)t.push(o);else if(o instanceof u)n.push(o);else if(o instanceof i||o instanceof s){var h=o.tiles;o instanceof i&&4===o.amount&&(h[0].faceDown=!0,h[0]=a.fromJSON(h[0].toJSON())),o.exposed?n.push(h):o instanceof i&&4===o.amount?(h[3].faceDown=!0,h[3]=a.fromJSON(h[3].toJSON()),n.push(h)):(console.log(h),t.push(h))}else o instanceof l?n.push(o.tiles):console.error("Unknown item "+o)}var p=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("exposed"===n)if(this.handForExposed)for(;this.handForExposed.firstChild;)this.handForExposed.firstChild.remove();else for(;this.handToRender.firstChild;)this.handToRender.firstChild.remove();for(;"unexposed"===n&&this.handToRender.firstChild&&this.handForExposed;)this.handToRender.firstChild.remove();for(var o=function(t,o){var a,i,s,u,l=document.createElement("img");l.src=t.getImageUrl(),l.title=t.getTileName(null===(a=stateManager)||void 0===a||null===(i=a.lastState)||void 0===i||null===(s=i.message)||void 0===s||null===(u=s.settings)||void 0===u?void 0:u.gameStyle),o&&0!==o?l.style.setProperty("--negativeMarginMultiplier",2):0===o&&l.style.setProperty("--negativeMarginMultiplier",0),"exposed"===n&&this.handForExposed?this.handForExposed.appendChild(l):"exposed"===n?(r&&(l.style.filter="brightness(1.2)"),this.handToRender.appendChild(l)):"unexposed"===n&&(!this.handForExposed&&r&&(l.style.filter="brightness(0.8)"),this.interactive&&(e&&t.matches(e)&&(e=void 0,l.classList.add("animateTile")),l.draggable=!0,l.addEventListener("click",function(){this.moveTile(t)}.bind(this)),l.addEventListener("dragstart",c),l.tileIndex=this.contents.findIndex((function(e){return e===t}))),this.handToRender.appendChild(l))}.bind(this),a=0;a<t.length;a++){var i=t[a];if(i instanceof Array)for(var s=0;s<i.length;s++)o(i[s],s);else"unexposed"===n&&0===a?o(i,0):o(i)}function u(e){if(e.children.length>14){var t=parseFloat(document.documentElement.style.getPropertyValue("--vh"));t/=e.children.length/14;var n=parseFloat(document.documentElement.style.getPropertyValue("--vw"));n/=e.children.length/14,e.children.forEach((function(e){e.style.setProperty("--vh",t+"px"),e.style.setProperty("--vw",n+"px")}))}}u(this.handToRender),this.handForExposed&&u(this.handForExposed)}.bind(this),d=!1;(t.some((function(e){return!e.faceDown}))||0===t.length)&&(d=!0),p(n,"exposed",d),p(t,"unexposed",d),this.tilePlacemat&&this.renderPlacemat()}.bind(this),this.getStringContents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"contents";return this[e].map((function(e){return e.toJSON()}))}.bind(this),this.toJSON=function(){return JSON.stringify({wind:this.wind,contents:this.contents})}.bind(this)}var t,c,h;return t=e,h=[{key:"sortTiles",value:function(e){return e.sort((function(e,t){return e.getTileValue()-t.getTileValue()}))}},{key:"convertStringsToTiles",value:function(e){return e.map((function(e){var t=JSON.parse(e);if("Pretty"===t.class)return u.fromJSON(e);if("Tile"===t.class)return a.fromJSON(e);if("Sequence"===t.class)return s.fromJSON(e);if("TileContainer"===t.class)return l.fromJSON(e);if("Match"===t.class)return i.fromJSON(e);throw"Unable to identify itemString "+e}))}},{key:"fromString",value:function(t){var n=JSON.parse(t),r=(n.wind,new e({wind:n.wind}));return r.contents=e.convertStringsToTiles(n.contents),r}}],(c=null)&&o(t.prototype,c),h&&o(t,h),e}();e.exports=c},9064:(e,t,n)=>{n(4747),n(6699),n(7941);var r=n(7793),o=n(4810);e.exports=function(){var e={},t=!1,n=!0;return this.contents.forEach((function(t){t instanceof r?(e[t.tiles[0].type]=!0,n=!1):t instanceof o||(e[t.type]=!0,["wind","dragon"].includes(t.type)||1===t.value||9===t.value||(n=!1))})),(e.wind||e.dragon)&&(delete e.wind,delete e.dragon,t=!0),0===(e=Object.keys(e).length)?3:1!==e||t?1===e&&t?1:n&&!t?3:n&&t?1:0:3}},6527:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(4747),n(3290),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948);var o=n(7793),a=(n(4810),n(6212)),i=n(9458),s=n(2946),u=n(2169);e.exports=function(e,t){var n=this,l=new u;l.contents=a.getNonPrettyTiles(),e.forEach((function(e){l.removeMatchingTile(e)})),this.contents.forEach((function(e){e instanceof s?l.removeMatchingTile(e):e instanceof o?e.tiles.forEach((function(e){l.removeMatchingTile(e)})):e instanceof i&&new Array(e.amount).fill().forEach((function(){l.removeMatchingTile(e.getComponentTile())}))}));for(var c=function(){for(var e=l.contents[0];l.removeMatchingTile(e););var r=n.contents.some((function(t,n){return e.matches(t)}));if(!r&&!isNaN(e.value)){var o=[,,!0,,,];n.contents.forEach((function(t){t.type===e.type&&Math.abs(t.value-e.value)<=2&&(o[2-(t.value-e.value)]=!0)})),(o[0]&&o[1]||o[1]&&o[3]||o[3]&&o[4])&&(r=!0)}return r?(n.add(e),n.isMahjong(t)?(n.remove(e),{v:e}):void n.remove(e)):"continue"};l.contents.length;){var h=c();if("continue"!==h&&"object"===r(h))return h.v}return!1}},5867:(e,t,n)=>{function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(5666),n(7042),n(4747),n(4944),n(3290),n(8783),n(6992),n(3948),n(2222),n(7327),n(5827),n(9653),n(1539),n(8309),n(1038),n(2526),n(1817),n(2165);var a=n(7793),i=n(4810),s=n(6212),u=n(9458),l=n(2946),c=n(2169);e.exports=function(){for(var e=regeneratorRuntime.mark(S),t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=0,h=0,p=0,d=[],f=[],v=0;v<this.contents.length;v++){var m=this.contents[v];m.isPongOrKong?(o++,f.push(m)):m.isPair?(h++,f.push(m)):m.isSequence?(p++,f.push(m)):m instanceof i?f.push(m):d.push(m)}if(1===h&&Math.min(p,t)+o===4)return 2;var g=c.sortTiles(s.getNonPrettyTiles(1)),y=[],w=[],b=new c;function S(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,a){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.length!=n){r.next=5;break}return r.next=3,a;case 3:r.next=11;break;case 5:i=e;case 6:if(!(i<t.length)){r.next=11;break}return r.delegateYield(o(i+1,a.concat(t[i])),"t0",8);case 8:i++,r.next=6;break;case 11:case"end":return r.stop()}}),r)},r=regeneratorRuntime.mark(o),e.delegateYield(o(0,[]),"t0",3);case 3:case"end":return e.stop()}}),e)}b.contents=d.slice(0),g.forEach((function(e){b.removeMatchingTilesFromHand(e,3,!0)&&y.push(e)})),g.forEach((function(e,n){if(a.isValidSequence(g.slice(n,n+3))){for(var r=0,o=g.slice(n,n+3);r<t;){var i=Array(r+1).fill(o).flat();if(!b.removeTilesFromHand(i,!0))break;r++}for(var s=0;s<r;s++)w.push(new a({exposed:!1,tiles:o}))}}));var E=[],T=y,x=4;t>p?(T=T.concat(w),x-=p):x-=Math.min(p,1);var C,k=r(S(T,x-=o));try{for(k.s();!(C=k.n()).done;){var M=C.value,O=M.reduce((function(e,t){return e+Number(t instanceof a)}),0),A=x-O;O+=p,4-o-A>Math.min(t,O)||E.push(M)}}catch(e){k.e(e)}finally{k.f()}e:for(var I=0;I<E.length;I++){var L=E[I],P=new c;P.contents=b.contents.slice(0);for(var j=void 0,R=!!n.thrownTile,D=0;D<L.length;D++){var N=L[D];if(N instanceof l){if(!P.removeMatchingTilesFromHand(N,3))continue e;var H=new u({type:N.type,value:N.value,exposed:!1,amount:3});R&&N.matches(n.thrownTile)&&(j=H),P.add(H)}else if(N instanceof a){if(!P.removeTilesFromHand(N))continue e;R&&N.tiles.some((function(e){return e.matches(n.thrownTile)}))&&(j=N,R=!1),P.add(N)}}j&&(j.exposed=!0);var _=P.contents.filter((function(e){return e instanceof l}))[0];if(0!==h||P.removeMatchingTilesFromHand(_,2,!0)){if(0===h){var F=new u({type:_.type,value:_.value,exposed:!1,amount:2});R&&_.matches(n.thrownTile)&&(F.exposed=!0,R=!1),P.add(F),P.removeMatchingTilesFromHand(_,2)}return P.contents=P.contents.concat(f),P}}return 0}},839:(e,t,n)=>{var r=n(2734),o=n(2300);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"american"===e.type?o.call(this,e):r.call(this,e)}},2300:(e,t,n)=>{function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(4747),n(5827),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309);var a=n(2976),i=n(2946);e.exports=function(e){var t;if(!e.card)throw"Must pass config.card";var n={noJokers:!1,score:0,handName:"Unable to Score"},o=a.getTileDifferential(e.card,this.contents);if(0!==(null==o||null===(t=o[0])||void 0===t?void 0:t.diff))return n;var s,u,l=o[0].handOption;return n.score=l.score,n.handName=l.section+" #"+(l.cardIndex+1),0===(s=this.contents,u=[],s.forEach((function(e){e instanceof i?u.push(e):u.push.apply(u,r(e.tiles))})),u.reduce((function(e,t){return"joker"===t.type?++e:e}),0))&&a.getTileDifferential([l],[])[0].canFillJoker.length>0&&(n.noJokers=!0,n.score*=2),n}},2734:(e,t,n)=>{n(7042);var r=n(9458),o=n(2946);e.exports=function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=0,a=0,i=!1,s=this.contents.slice(0),u=function(t){var s=e.contents[t];s instanceof o&&[4,3,2].forEach(function(n){s instanceof o?e.removeMatchingTilesFromHand(s,n)&&(t--,s=new r({amount:n,type:s.type,value:s.value,exposed:!1})):l=t}.bind(e)),n+=s.isDouble(e.wind),a+=s.getPoints(e.wind),i=i||s.isSequence,l=t},l=0;l<this.contents.length;l++)u(l);return t.isMahjong&&(a+=20,t.drewOwnTile&&(a+=2),i||(a+=10)),this.contents=s,n+=this.getClearHandDoubles(),a*Math.pow(2,n)}},974:(e,t,n)=>{n(4747),n(5735),n(3753),n(6699),n(2772),n(7042),n(2222);var r=n(2946);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],o=[];this.contents.forEach((function(e){n.push(e.toJSON())})),this.inPlacemat.forEach((function(e){e.evicting||n.push(e.toJSON())})),e.forEach((function(e){o.push(e.toJSON())}));for(var a=0;a<n.length;a++){var i=n[a];i&&o.includes(i)&&(n[a]=null,o[o.indexOf(i)]=null)}var s=this.contents.slice(0);s=this.inPlacemat[0]&&this.inPlacemat[0].evicting?s.concat(this.inPlacemat.slice(1)):s.concat(this.inPlacemat.slice(0));for(var u=0;u<n.length;u++){var l=n[u];l&&this.remove(s[u])}for(var c=0;c<o.length;c++){var h=o[c];h&&(t&&this.inPlacemat.length<3&&e[c]instanceof r?this.inPlacemat.push(e[c]):this.add(e[c]))}}},9458:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(6699),n(1249),n(3290),n(5735),n(3753);var a=n(2946),i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),null==t.exposed)throw"Must specify either true or false for config.exposed. ";if(t.amount<2||t.amount>4)throw"config.mount must be either 2, 3, or 4. ";this.type=t.type,this.value=t.value,this.amount=t.amount,this.exposed=t.exposed,this.getTileName=function(){var e;return(e=this.getComponentTile()).getTileName.apply(e,arguments)}.bind(this),this.getComponentTile=function(){return new a({type:this.type,value:this.value})},this.getPoints=function(e){var t=0;if(["bamboo","character","circle"].includes(this.type)){if(t=2,(1===this.value||9===this.value)&&(t*=2,2===this.amount))return 2;if(2===this.amount)return 0}else if(t=4,2===this.amount)return"wind"===this.type&&this.value!==e?0:2;return 4===this.amount&&(t*=4),this.exposed||(t*=2),t},this.isDouble=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(2===this.amount&&!t)&&("dragon"===this.type||"wind"===this.type&&this.value===e)},Object.defineProperty(this,"tiles",{get:function(){var e=this;return new Array(this.amount).fill().map(function(){return e.getComponentTile()}.bind(this))}.bind(this)}),Object.defineProperty(this,"isPair",{get:function(){return 2===this.amount}}),Object.defineProperty(this,"isPongOrKong",{get:function(){return this.amount>=3}}),this.toJSON=function(){var e={class:"Match"};return e.type=this.type,e.value=this.value,e.amount=this.amount,e.exposed=this.exposed,JSON.stringify(e)}.bind(this),this.isSequence=!1}var t,n,i;return t=e,i=[{key:"isValidMatch",value:function(e){for(var t=0;t<e.length;t++)if(!e[0].matches(e[t]))return!1;return!0}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Match"!==n.class)throw"String was not created by Match.toJSON()";return new e(n)}}],(n=[{key:"getTileValue",value:function(){return this.getComponentTile().getTileValue()}}])&&o(t.prototype,n),i&&o(t,i),e}();e.exports=i},4376:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(9600),n(4916),n(3123),n(1539),n(8674),n(2222);var o,a=new Promise((function(e){e()})),i={messages:0,optionalMessages:0},s=function(){"use strict";return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3200,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e);var s=document.createElement("div");s.classList.add("blocklessAlertCover"),s.style.display="none",document.body.appendChild(s);var u=document.createElement("p");u.innerHTML=t,s.appendChild(u);var l=a;return a=new Promise((function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.messages--,i.optionalMessages-=!!o.optional-e}i.messages++,i.optionalMessages+=!!o.optional,a.then((function(){if(i.optionalMessages>2&&o.optional)return console.log("Skipping optional message due to time. "),t(!0),e();console.log("".concat(i.messages," messages remaining to be posted (").concat(i.optionalMessages," optional)"));var r=n/Math.min(2.5,Math.max(1,Math.pow(i,.7))||1);console.log("Adjusting duration from ".concat(n," to ").concat(r)),n=r,s.style.animation="fadeInAndOut "+n+"ms ease-in",s.style.display="",setTimeout((function(){s.remove(),t(),e()}),n)}))})),{onStart:l,onEnd:a}}}();e.exports={Notification:function e(t,n){"use strict";r(this,e);var o=document.createElement("div");o.id="errorPopupCover",o.style.display="none",document.body.appendChild(o);var a=document.createElement("div");a.id="errorPopup",o.appendChild(a);var i=document.createElement("p");if(i.innerHTML=t,i.id="errorText",a.appendChild(i),"string"==typeof n){var s=document.createElement("p");s.innerHTML=n.split("\n").join("<br>"),s.id="messageText",a.appendChild(s)}else a.appendChild(n),n.id="messageText";var u=document.createElement("button");u.id="dismissButton",u.innerHTML="Dismiss",a.appendChild(u);var l=function(e){this.ondismissed&&this.ondismissed(),o.remove()}.bind(this);setTimeout((function(){u.addEventListener("click",l),o.addEventListener("click",(function(e){e.target===o&&l()}))}),500),this.show=function(){return o.style.display="",a},this.dismiss=l},MessageBar:function e(t){"use strict";r(this,e);var n=document.createElement("div");this.elem=n,n.id="notificationBar";var a=t;"string"==typeof a&&((a=document.createElement("p")).innerHTML=t),n.appendChild(a),this.show=function(e){o&&o.dismiss(),document.body.appendChild(n),o=this,setTimeout((function(){n.remove()}),e)},this.dismiss=function(){n.remove(),o=void 0}},BlocklessAlert:s}},4810:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(6699),n(5735),n(3753);var a=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),!["season","flower"].includes(t.seasonOrFlower))throw"config.seasorOrFlower must either be 'season' or 'flower'";this.type="pretty",this.value=t.value,this.seasonOrFlower=t.seasonOrFlower,this.exposed=!0,this.getTileName=function(){return"Pretty"};var n=["east","south","west","north"];this.isDouble=function(e){return e===n[this.value-1]},this.getPoints=function(){return 4},this.toJSON=function(){var e={class:"Pretty"};return e.value=this.value,e.seasonOrFlower=this.seasonOrFlower,JSON.stringify(e)}.bind(this),this.isSequence=!1,this.isPongOrKong=!1,this.isPair=!1}var t,n,a;return t=e,a=[{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Pretty"!==n.class)throw"String was not created by Pretty.toJSON()";return new e(n)}}],(n=[{key:"getTileValue",value:function(){return this.value||0}},{key:"getImageUrl",value:function(){return"assets/tiles/"+this.seasonOrFlower+"s/"+this.value+".png"}}])&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},2342:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,s,"next",e)}function s(e){d(a,r,o,i,s,"throw",e)}i(void 0)}))}}n(5666),n(6992),n(1539),n(8783),n(3948),n(285),n(7042),n(3210),n(9826),n(8674),n(4916),n(5306),n(4747),n(9600),n(7327),n(2481),n(6699),n(2023),n(8309),n(9653),n(2772),n(5735),n(3753),n(489),n(2419),n(2526),n(1817),n(2165);var v=n(4376),m=n(7537),g=n(7576),y=g.readSave,w=g.writeSave,b=g.deleteSave,S=n(6192);n(5220);var E=document.createElement("div");E.id="roomManager",document.body.appendChild(E);var T=document.createElement("div");T.id="heading",E.appendChild(T);var x=document.createElement("h1");x.innerHTML="Mahjong",x.id="mahjongHeading",T.appendChild(x);var C=document.createElement("h1");C.innerHTML="4 Friends",C.id="fourFriendsHeading",T.appendChild(C);var k=document.createElement("div");k.id="notInRoomContainer",E.appendChild(k);var M=document.createElement("input");M.id="roomIdInput",M.placeholder="Enter Room Name...",k.appendChild(M),k.appendChild(document.createElement("br"));var O=document.createElement("input");O.id="nicknameInput",O.placeholder="Choose a Nickname...",k.appendChild(O);var A=new URLSearchParams(window.location.hash.slice(1));A.has("roomId")&&(M.value=A.get("roomId")),A.has("name")&&(O.value=A.get("name")),!window.Capacitor&&A.has("fakeNative")&&(window.Capacitor={getPlatform:function(){return A.get("fakeNative")}});var I=document.createElement("div");I.id="joinOrCreateRoom",k.appendChild(I);var L=document.createElement("button");L.id="joinRoom",L.innerHTML="Join Room",L.addEventListener("click",(function(){if(stateManager.offlineMode=!1,0===M.value.trim().length)return new v.Notification("Room Name Invalid",'The room name contains at least one character. Please enter it into the box labeled "Enter Room Name" ').show();window.stateManager.joinRoom(M.value.toLowerCase(),O.value)})),I.appendChild(L);var P=document.createElement("button");P.id="createRoom",P.innerHTML="Create Room",P.addEventListener("click",(function(){if(stateManager.offlineMode=!1,0===M.value.trim().length)return new v.Notification("Unable to Create Room",'Please pick a 1+ character long name, and enter it into the box labeled "Enter Room Name" ').show();window.stateManager.createRoom(M.value.toLowerCase(),O.value)})),I.appendChild(P);var j=document.createElement("button");j.id="singlePlayerGame",j.innerHTML="Single Player",j.addEventListener("click",(function(){stateManager.offlineMode=!1;var e=M.value.trim()||"sp-"+Math.floor(1e10*Math.random()),t=O.value||"Player 1";window.stateManager.createRoom(e,t),window.stateManager.addBot("Bot 1"),window.stateManager.addBot("Bot 2"),window.stateManager.addBot("Bot 3")})),I.appendChild(j);var R=document.createElement("br");I.appendChild(R);var D=document.createElement("button");function N(e){serverStateManager.init(e),window.clientId=serverStateManager.getRoom("Offline").clientIds.find((function(e){if(!serverStateManager.getClient(e).isBot)return e})),stateManager.offlineMode=!0,stateManager.getCurrentRoom()}D.id="offlineSinglePlayer",D.innerHTML="Offline (Single Player)",D.addEventListener("click",(function(){stateManager.offlineMode=!0;var e=O.value||"Player 1";window.stateManager.createRoom("Offline",e),window.stateManager.addBot("Bot 1"),window.stateManager.addBot("Bot 2"),window.stateManager.addBot("Bot 3")})),I.appendChild(D);var H=document.createElement("button");H.innerHTML="Use Save File",H.id="uploadSaveButton",I.appendChild(H);var _=document.createElement("input");_.style.display="none",_.type="file",_.accept="application/json",document.body.appendChild(_),H.addEventListener("click",(function(){var e,t=new DocumentFragment,n=document.createElement("p");function r(e,t){var n=document.createElement("td");n.innerHTML="<span>".concat(t,"</span>"),e.appendChild(n)}n.innerHTML="You can upload/drag a save file from your device, or download one of ours, guaranteed winnable with specific hands: ",n.id="messageText",t.appendChild(n);var a=document.createElement("div");function s(e){return u.apply(this,arguments)}function u(){return(u=f(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return r=new FileReader,t.next=4,new Promise((function(e,t){r.onload=e,r.onerror=t,r.readAsText(n)}));case 4:o=r.result;try{N(o),e.dismiss(),_.value=""}catch(e){console.error(e),alert("Error loading save. Please make sure you selected the correct file. ")}case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}a.className="guaranteedHandsTableContainer",a.innerHTML="Loading Guaranteed Hands...",t.appendChild(a),f(regeneratorRuntime.mark((function e(){var t,n,s,u,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch((window.Capacitor?"https://mahjong4friends.com/":"")+"guaranteedHands.json");case 3:return n=e.sent,e.next=6,n.json();case 6:t=e.sent,console.log(t),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),a.innerHTML="Error Loading Guaranteed Hands...",e.abrupt("return");case 14:(s=document.createElement("table")).className="guaranteedHandsTable",a.innerHTML="",a.appendChild(s),u=document.createElement("tr"),s.appendChild(u),r(u,"Card"),r(u,"Section"),r(u,"Option"),r(u,"Item"),c=function(){"use strict";function e(t){var n=t.obj,o=t.key,a=t.columns,i=void 0===a?[]:a,s=t.depth,u=void 0===s?0:s;l(this,e),p(this,"emptyColumns",0),p(this,"items",[]),this.elem=document.createElement("tr"),this.columns=i.slice(0),this.columns.push(o),this.depth=u;for(var c=0;c<this.columns.length;c++){var h,d=null===(h=this.columns[c])||void 0===h?void 0:h.replace("National Mahjongg League","NMJL (In Development!)");2===c&&(d="#"+d),r(this.elem,d)}i=this.columns.slice(0),this.elem.className="guaranteedHands"+u,this.obj=n[o],this.elem.addEventListener("click",function(){this.setExpanded()}.bind(this))}return h(e,[{key:"addEmptyColumns",value:function(e){for(this.emptyColumns=e;this.elem.children.length<e;)r(this.elem,"");this.items.forEach((function(t){t.addEmptyColumns(e)}))}},{key:"setExpanded",value:function(t){console.log(this.obj),this.items.forEach((function(e){e.setExpanded(!1),e.elem.remove()}));var n=this.elem.nextSibling;if(!0===t||void 0===t&&0===this.items.length)for(var r in this.items=[],this.obj){var o=void 0;(o=this.obj[r]instanceof Object?new e({obj:this.obj,key:r,columns:this.columns,depth:this.depth+1}):new d({obj:this.obj,key:r,columns:this.columns,depth:this.depth+1})).addEmptyColumns(this.emptyColumns),this.items.push(o),this.elem.parentNode.insertBefore(o.elem,n)}else this.items=[]}}]),e}(),d=function(e){"use strict";o(n,e);var t=i(n);function n(e){var o;return l(this,n),(o=t.call(this,e)).elem.className="saveRow",o.elem.lastChild.remove(),r(o.elem,e.key+" (".concat(Math.round(e.obj[e.key]/1e3),"kB)")),o}return h(n,[{key:"setExpanded",value:function(e){if(!1!==e){var t=window.location.href;window.Capacitor&&(t="https://mahjong4friends.com/"),console.log(this.columns),t+=encodeURI("server/guaranteed/".concat(this.columns.join("/"),".server.json")),console.log(t),f(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.text();case 6:r=e.sent,console.log(r),N(r),stateManager.revertState(0),(o=new v.MessageBar("Click Here to Load End of Game (Closes Automatically)")).elem.addEventListener("click",(function(){N(r),o.dismiss()})),o.elem.style.cursor="pointer",o.show(1e4),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0),alert("Error Downloading Save File");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))()}}}]),n}(c),["Tutorial","2021 National Mahjongg League"].forEach((function(e){var n=new c({obj:t,key:e});n.addEmptyColumns(4),s.appendChild(n.elem)}));case 28:case"end":return e.stop()}}),e,null,[[0,10]])})))();var c=document.createElement("button");c.innerHTML="Upload From Device",_.oninput=function(){s(_.files[0])},c.addEventListener("click",(function(){_.click()})),c.id="resumeSaveNowButton",t.appendChild(c);var d=(e=new v.Notification("Select Save File",t)).show();function m(e){e.preventDefault(),e.stopPropagation()}function g(e){d.style.filter="brightness(1.25)"}function y(e){d.style.filter=""}["dragenter","dragover","dragleave","drop"].forEach((function(e){d.addEventListener(e,m,!1)})),["dragenter","dragover"].forEach((function(e){d.addEventListener(e,g,!1)})),["dragleave","drop"].forEach((function(e){d.addEventListener(e,y,!1)})),d.addEventListener("drop",(function(e){y(),s(e.dataTransfer.files[0])}),!1)}));var F,B,G,U,J="save0.server.json";function q(){return Y.apply(this,arguments)}function Y(){return(Y=f(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==serverStateManager.getAllRoomIds().length){e.next=6;break}if(!F){e.next=5;break}return console.error("Deleting"),e.next=5,b(J);case 5:return e.abrupt("return");case 6:return t=serverStateManager.toJSON(),e.next=9,y(J);case 9:if(n=e.sent,F=!0,t===n){e.next=16;break}return console.log("Saving Game (".concat(t.length," characters)")),e.next=15,w(J,t);case 15:try{console.log("Attempting Offline Upload"),stateManager.uploadOfflineSave({saveId:serverStateManager.getRoom("Offline").logFileSaveId,message:t})}catch(e){console.error(e)}case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}try{y(J).then((function(e){if(e){var t,n=new DocumentFragment,r=document.createElement("p");r.innerHTML="If you start another <strong><i>offline</i></strong> game, your save will be overwritten. You can optionally download this save to share with other devices or play later. ",r.id="messageText",n.appendChild(r);var o=document.createElement("button");o.innerHTML="Resume",o.addEventListener("click",(function(){N(e),t.dismiss()})),o.id="resumeSaveNowButton",n.appendChild(o);var a=document.createElement("button");a.innerHTML="Download",a.addEventListener("click",f(regeneratorRuntime.mark((function t(){var n,r,o,a,i,s,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="mahjong4friends.server.json",null===(n=window)||void 0===n||null===(r=n.Capacitor)||void 0===r||!r.getPlatform()){t.next=10;break}return t.next=4,w(o,e,"CACHE");case 4:return a=t.sent,i={title:o,url:a.uri},t.next=8,Capacitor.Plugins.Share.share(i);case 8:t.next=19;break;case 10:(s=document.createElement("a")).download=o,u=new Blob([e],{type:"application/json"}),l=URL.createObjectURL(u),s.href=l,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(l);case 19:case"end":return t.stop()}}),t)})))),a.id="downloadSaveNowButton",n.appendChild(a);var i=document.createElement("button");i.innerHTML="Delete",i.addEventListener("click",(function(){b(J),t.dismiss()})),i.id="deleteSaveNowButton",n.appendChild(i),(t=new v.Notification("Saved Offline Game",n)).show()}}))}catch(e){console.error(e)}(window.saveOfflineGame=q,setInterval(q,5e3),window.onbeforeunload=function(){q()},window.Capacitor)&&(null===(B=Capacitor)||void 0===B||null===(G=B.Plugins)||void 0===G||null===(U=G.App)||void 0===U||U.addListener("appStateChange",(function(e){!1===e.isActive&&q()})));var W=document.createElement("p");W.id="connectionStatus",k.appendChild(W);var V=1;window.setConnectionStatus=function(e){var t=e.connected;W.innerHTML=t?" Connected to Server":"Trying To Connect"+".".repeat(1+ ++V%5),W.className=t?"connected":"",L.disabled=P.disabled=j.disabled=t?"":"disabled"},window.setConnectionStatus({connected:!1});var z=document.createElement("p");function $(e){var t,n,r=null===(t=window.screen)||void 0===t||null===(n=t.orientation)||void 0===n?void 0:n.type;(r?r.includes("portrait"):90!==Math.abs(window.orientation))&&screen.width<900?z.style.display="":z.style.display="none"}z.id="screenRotationAlert",z.innerHTML="Rotating your screen to Landscape mode is recommended. ",k.appendChild(z),window.addEventListener("orientationchange",$),$();var K=document.createElement("div");K.id="inRoomContainer",K.style.display="none",E.appendChild(K);var X=document.createElement("h2");X.id="currentRoom",K.appendChild(X);var Q=document.createElement("h2");Q.id="playerCount",K.appendChild(Q);var Z=document.createElement("div");Z.id="playerView",K.appendChild(Z);var ee=document.createElement("button");ee.innerHTML="Leave Room",ee.id="leaveRoomButton",K.appendChild(ee),ee.addEventListener("click",(function(){window.stateManager.leaveRoom(window.stateManager.roomId)}));var te=document.createElement("button");te.innerHTML="Close Room",te.id="closeRoomButton",te.style.display="none",K.appendChild(te),te.addEventListener("click",(function(){window.stateManager.closeRoom(window.stateManager.roomId)}));var ne,re=document.createElement("button");re.innerHTML="Start Game",re.id="startGameButton",re.style.display="none",K.appendChild(re),re.addEventListener("click",(function(){window.stateManager.startGame(ne.getChoices())}));var oe=document.createElement("button");oe.innerHTML="Add Bot",oe.id="addBotButton",oe.style.display="none",K.appendChild(oe),oe.addEventListener("click",(function(){var e=prompt("Please enter a name for the bot: ");window.stateManager.addBot(e)}));var ae=document.createElement("div");ae.id="gameSettingsElem",K.appendChild(ae);var ie=document.createElement("div");ie.id="inviteYourFriendsElem",K.appendChild(ie);var se=document.createElement("div");se.id="inviteYourFriendsDiv",ie.appendChild(se);var ue=document.createElement("h2");ue.innerHTML="Invite Players to Join This Game!",se.appendChild(ue);var le=document.createElement("p");le.id="joinRoomLinkElem",le.innerHTML="Share the link: <br>";var ce=document.createElement("a");ce.target="_blank",le.appendChild(ce),se.appendChild(le);var he=document.createElement("img");he.id="QRImageElement",ie.appendChild(he);var pe=document.createElement("a");pe.target="_blank",pe.href="https://drive.google.com/file/d/1aGyekkldVouVY2Hy7SXTTvhS7I5X6o8O/view",pe.id="tutorialLink",pe.innerHTML="Mahjong 4 Friends Tutorial",E.appendChild(pe),E.appendChild(document.createElement("br"));var de=document.createElement("a");de.target="_blank",de.href="https://docs.google.com/document/d/1sSGxlRHMkWYHjYhxJTLvHoFsVPAgSs7DFRpsZLmgIvc/edit#heading=h.t7shfpx0qwex",de.id="documentationLink",de.innerHTML="See Full Documentation",E.appendChild(de);var fe=document.createElement("p");if(fe.id="supportInfo",fe.innerHTML="Questions, Comments, or Concerns? Contact <a href='mailto:support@mahjong4friends.com'>support@mahjong4friends.com</a>",E.appendChild(fe),window.Capacitor){var ve,me,ge,ye,we=document.createElement("p");we.id="supportInfo","ios"===(null===(ve=window)||void 0===ve||null===(me=ve.Capacitor)||void 0===me?void 0:me.getPlatform())?we.innerHTML='Enjoying Mahjong 4 Friends? Please <a href="https://apps.apple.com/us/app/mahjong-4-friends/id1552704332" target="_blank">rate us in the App Store</a>!':"android"===(null===(ge=window)||void 0===ge||null===(ye=ge.Capacitor)||void 0===ye?void 0:ye.getPlatform())&&(we.innerHTML='Enjoying Mahjong 4 Friends? Please <a href="https://play.google.com/store/apps/details?id=com.mahjong4friends.twa" target="_blank">leave a review on Google Play</a>!'),E.appendChild(we)}else{var be=function(e,t,n){var r=document.createElement("a");r.href=e,r.target="_blank";var o=document.createElement("img");o.src=t,o.alt=n,r.appendChild(o),Se.appendChild(r)},Se=document.createElement("div");Se.id="externalAppStoresDiv",E.appendChild(Se),be("https://apps.apple.com/us/app/mahjong-4-friends/id1552704332","assets/badges/appstore.svg","Get Mahjong 4 Friends on the App Store"),be("https://play.google.com/store/apps/details?id=com.mahjong4friends.twa","assets/badges/googleplay.svg","Get Mahjong 4 Friends on Google Play")}setTimeout((function(){stateManager.inRoom.includes("fbtest")&&n(4616)}),2e3);var Ee,Te=document.createElement("p");(Te.innerHTML="Copyright  2020, All Rights Reserved",Te.id="copyrightNotice",E.appendChild(Te),window.speechSynthesis)&&(null===(Ee=speechSynthesis)||void 0===Ee||Ee.getVoices());var xe={};function Ce(){var e=document.createElement("select"),t=[];if(window.speechSynthesis)try{var n;t=(null===(n=speechSynthesis)||void 0===n?void 0:n.getVoices())||[]}catch(e){console.warn("Voice Error",e)}console.log(t);var r=document.createElement("option");r.value="none",r.innerHTML="No Voice",r.selected=!0,e.appendChild(r);var o=document.createElement("option");o.value="default",o.innerHTML="Default Voice",e.appendChild(o),t.forEach((function(t,n){var r=document.createElement("option");r.value=n,r.innerHTML=t.lang+"("+t.name+")",e.appendChild(r)})),this.elem=e,this.get=function(){return t[Number(e.value)]||e.value},this.set=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";e.value=n,-1!==t.indexOf(n)&&(e.value=t.indexOf(n))}}function ke(){K.style.display="block",k.style.display="none";var e="#roomId="+stateManager.inRoom;ce.href=e,window.Capacitor&&(ce.href="https://mahjong4friends.com"+e),ie.style.display=stateManager.offlineMode?"none":"",ce.innerHTML=ce.href;try{var t=S(0,"H");t.addData(ce.href),t.make();var n=document.createElement("canvas");n.width=n.height=12*t.getModuleCount();var r=n.getContext("2d");t.renderTo2dContext(r,12);var o=document.createElement("canvas");o.width=o.height=n.width+48;var a=o.getContext("2d");a.fillStyle="white",a.fillRect(0,0,o.width,o.height),a.drawImage(n,24,24);var i=document.createElement("img");i.src="assets/tiles/dragons/green.png",i.addEventListener("load",(function(){var e=.3*o.width,t=i.width,n=i.height,r=Math.max(1,Math.max(t,n)/e);t/=r,n/=r;var s=o.width/2-t/2,u=o.height/2-n/2;a.fillRect(s-12,u-12,t+24,n+24),a.drawImage(i,s,u,t,n),he.src=o.toDataURL("image/png"),he.width=he.height=o.width/4})),he.src=o.toDataURL("image/png"),he.width=he.height=o.width/4}catch(e){console.error(e)}}window.voiceChoices=xe;var Me,Oe,Ae=!0;function Ie(){var e=E.scrollHeight,t=Math.max(document.documentElement.clientHeight,window.innerHeight);"none"===E.style.display&&(e=t),document.body.style.height=Math.min(e,window.pageYOffset+t)+"px",Date.now()-Me>1e3&&(clearInterval(Oe),Oe=void 0)}window.stateManager.onJoinRoom=function(e){if("error"===e.status)return new v.Notification("Unable to Join Room",e.message).show();Ae&&A.has("roomId")&&A.get("roomId")!==e.message&&(new v.Notification("Room Restored","You followed a link to room "+A.get("roomId")+", but were already in room "+e.message+". Your room has been restored - to join a new room, leave your current one. ").show(),Ae=!1),X.innerHTML="You are in room "+e.message,ke()},window.stateManager.onCreateRoom=function(e){if("error"===e.status)return new v.Notification("Unable to Create Room",e.message).show();X.innerHTML="You are hosting room "+e.message,ke()},window.stateManager.onLeaveRoom=function(e){K.style.display="none",k.style.display="block",stateManager.offlineMode&&(stateManager.offlineMode=!1,stateManager.getCurrentRoom()),"You closed the room. "!==e.message&&"You left the room. "!==e.message&&new v.Notification("Out of Room",e.message).show()},window.stateManager.addEventListener("onStateUpdate",(function(e){var t;Q.innerHTML=e.message.clients.length+"/4 Players are Present";var n=null===(t=ne)||void 0===t?void 0:t.getChoices();window.stateManager.isHost?(re.style.display="none",oe.style.display="",te.style.display="",ee.style.display="",(ne=new m(ae,!0)).setChoices(n),1===e.message.clients.length?ee.style.display="none":e.message.clients.length>=4&&(re.style.display="",oe.style.display="none")):(oe.style.display="none",te.style.display="none",re.style.display="none",ee.style.display="",(ne=new m(ae,!1)).setChoices(n)),window.gameSettings=ne,function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;Z.firstChild;)Z.firstChild.remove();e.forEach((function(e){var n=document.createElement("div");n.classList.add("playerViewRow");var r=document.createElement("span");r.classList.add("playerViewNameSpan"),r.innerHTML=e.nickname,n.appendChild(r);var o=document.createElement("span");o.classList.add("playerViewCard"),n.appendChild(o);var a=document.createElement("span");function i(t,n){t.classList.add("editableName");var o="Enter a new nickname for ".concat(e.nickname,": ");n===window.clientId&&(o="Enter a new nickname: "),r.addEventListener("click",(function(){var t=prompt(o);null!==t&&window.stateManager.setNickname(t,e.id)}))}if(a.classList.add("playerViewVoiceChoice"),n.appendChild(a),e.id===window.clientId)a.innerHTML="N/A",i(r,e.id),window.stateManager.isHost?o.innerHTML="You (Host)":o.innerHTML="You";else if(xe[e.id]=xe[e.id]||new Ce,a.appendChild(xe[e.id].elem),e.isHost)o.innerHTML="Host";else if(window.stateManager.isHost){i(r,e.id);var s=document.createElement("button");s.innerHTML="Remove "+e.nickname,s.classList.add("playerViewKickButton"),s.addEventListener("click",(function(){confirm("Are you sure you want to remove "+e.nickname)&&t(e.id)})),o.appendChild(s)}else o.innerHTML="Player";Z.appendChild(n)}))}(e.message.clients,(function(e){window.stateManager.kickUser(window.stateManager.roomId,e)}))})),window.stateManager.getCurrentRoom(),window.stateManager.addEventListener("onStartGame",(function(){E.style.display="none"})),window.stateManager.addEventListener("onEndGame",(function(e){E.style.display="","State Sync"!==e.message&&new v.Notification("Game Ended",e.message).show()})),window.addEventListener("scroll",(function(){Me=Date.now(),Ie(),Oe||setInterval((function(){Ie()}),16)})),Ie(),window.addEventListener("resize",Ie),e.exports=E},7537:(e,t,n)=>{function r(e,t){var n=t.americanMahjongInfo,r=t.chineseMahjongInfo,o=document.createElement("div");o.id="gameStyleSelectorDiv",o.style.marginBottom="10px";var a=document.createElement("button");a.innerHTML="Chinese/British/HK Mahjong",a.value="chinese",a.id="selectChineseMahjong",o.appendChild(a);var i=document.createElement("button");i.innerHTML="American Mahjong",i.value="american",i.id="selectAmericanMahjong",o.appendChild(i);var s=[a,i];function u(t){for(var o in s.forEach((function(e){e.disabled=e===t?"disabled":""})),n.style.display="american"===t.value?"":"none",r.style.display="chinese"===t.value?"":"none",e){var a=e[o];!a.displayFor||a.displayFor.includes(t.value)?a.elem.style.display="":a.elem.style.display="none"}}s.forEach((function(e){e.addEventListener("click",(function(){u(e)}))})),this.elem=o,this.get=function(){for(var e=0;e<s.length;e++){var t=s[e];if(t.disabled)return t.value}},this.set=function(e){u("mustbeset"),s.forEach((function(t,n){t.value===e&&u(t)}))},this.isHost=!0}function o(){var e=document.createElement("div");e.id="checkForCallingSelectorDiv";var t=document.createElement("input");t.id="checkForCallingSelectorCheckbox",t.type="checkbox";var n=document.createElement("label");n.for="checkForCallingSelectorCheckbox",n.innerHTML="Check and Alert for Calling/Ready Hands",n.addEventListener("click",(function(){t.click()})),n.style.fontSize="1.4em",t.style.fontSize="1.4em",this.elem=e,e.appendChild(t),e.appendChild(n),this.get=function(){return t.checked},this.set=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.checked=e},this.displayFor=["chinese"],this.isHost=!0}function a(){var e=document.createElement("div");e.id="maximumSequencesSelectorDiv";var t=document.createElement("input");t.id="maximumSequencesSelector",t.type="number";var n=document.createElement("label");n.for="maximumSequencesSelector",n.innerHTML="Maximum Sequences: ",n.style.fontSize="1.4em",t.style.fontSize="1.4em",this.elem=e,e.appendChild(n),e.appendChild(t),this.get=function(){return t.value},this.set=function(e){t.value=null!=e?e:4},this.displayFor=["chinese"],this.isHost=!0}function i(){var e=document.createElement("div");e.id="botSelectorDiv";var t=document.createElement("input");t.id="botSelectorCheckbox",t.type="checkbox";var n=document.createElement("label");n.for="botSelectorCheckbox",n.innerHTML="Allow bot to charleston",n.addEventListener("click",(function(){t.click()})),n.style.fontSize="1.4em",t.style.fontSize="1.4em",this.elem=e,e.appendChild(t),e.appendChild(n),this.get=function(){return{canCharleston:t.checked}},this.set=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.checked=null!==(e=null==n?void 0:n.canCharleston)&&void 0!==e&&e},this.displayFor=["chinese"],this.isHost=!0}function s(){var e=document.createElement("div"),t=document.createElement("input");t.type="number";var n=document.createElement("label");n.innerHTML="Table Limit (type 0 for Infinty): ",n.style.fontSize="1.4em",t.style.fontSize="1.4em",this.elem=e,e.appendChild(n),e.appendChild(t),this.get=function(){return t.value},this.set=function(e){t.value=null!=e?e:0},this.displayFor=["chinese"],this.isHost=!0}function u(){var e=document.createElement("div");e.style.marginBottom="5px";var t=document.createElement("select");t.style.fontSize="1.4em";var n=["2021 National Mahjongg League","2020 National Mahjongg League",{name:"2021 Marvelous (Partial Scoring & Suggestions)",value:"2021 Marvelous Mahjongg"}];n.push("Other Card - Bots Use Random Card"),n.forEach((function(e,n){var r=document.createElement("option");r.value=e.value||e,r.innerHTML=e.name||e,t.appendChild(r)}));var r=document.createElement("label");r.innerHTML="Select Mahjong Card: ",r.style.fontSize="1.4em",this.elem=e,e.appendChild(r),e.appendChild(t),this.get=function(){return t.value},this.set=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2021 National Mahjongg League";t.value=e},this.displayFor=["american"],this.isHost=!0}function l(){var e=document.createElement("div");e.style.fontSize="1.4em";var t=document.createElement("input");t.type="range",t.min=0,t.max=100;var n=document.createElement("label");n.innerHTML="Bot Difficulty:  Medium";var r=document.createElement("label");r.innerHTML="Superhuman",this.elem=e,e.appendChild(n),e.appendChild(t),e.appendChild(r),this.get=function(){return t.value},this.set=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;t.value=e},this.displayFor=["american"],this.isHost=!0}function c(){var e=document.createElement("div"),t=document.createElement("input");t.type="checkbox";var n=document.createElement("label");n.innerHTML="Disable Hints/Suggested Hands",n.addEventListener("click",(function(){t.click()})),n.style.fontSize="1.4em",t.style.fontSize="1.4em",this.elem=e,e.appendChild(t),e.appendChild(n),this.get=function(){return t.checked},this.set=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.checked=e},this.displayFor=["american"],this.isHost=!0}n(9601),n(7941),n(4747),n(6699),n(2023),n(8309),e.exports=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.firstChild;)e.firstChild.remove();var n=document.createElement("h2");n.innerHTML="Game Settings",n.style.marginTop="0",n.style.marginBottom="0.5em",e.appendChild(n);var h=document.createElement("p");h.innerHTML='2021 Card Now Supported! Play with bots or friends (link and/or QR below!) You can play with any card you want - the selected card is only used for automated scoring and bots (which will still run, just on whichever card is selected). <br><br>Not all moves are validated - if you make a mistake, you can use the "Revert" button to undo it. ',h.style.fontSize="1.3em";var p=document.createElement("p");p.innerHTML="Most variants should be supported, although overrides may be needed, and you might need to score your own hands. Can't play your way? Have suggestions? Need different bots? Send an email to support@mahjong4friends.com!",p.style.fontSize="1.3em";var d={};Object.assign(d,{gameStyle:new r(d,{americanMahjongInfo:h,chineseMahjongInfo:p}),maximumSequences:new a,tableLimit:new s,checkForCalling:new o,botSettings:new i,card:new u,americanBotDifficulty:new l,disableHints:new c});var f=!1;for(var v in d){var m=d[v];!m.isHost||t?(f=!0,e.appendChild(m.elem),m.set()):delete d[v]}e.style.display=f?"":"none",e.appendChild(h),e.appendChild(p),0===Object.keys(d).length&&n.remove(),this.getChoices=function(){var e={};for(var t in d)e[t]=d[t].get();try{localStorage.setItem("gameSettings",JSON.stringify(e))}catch(e){console.error(e)}return e},this.setChoices=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)d[t]&&d[t].set(e[t])},localStorage.getItem("gameSettings")&&this.setChoices(JSON.parse(localStorage.getItem("gameSettings")))}},7576:(e,t,n)=>{function r(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,u,"next",e)}function u(e){r(i,o,a,s,u,"throw",e)}s(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.Capacitor){e.next=13;break}return e.prev=1,e.next=4,Capacitor.Plugins.Filesystem.readFile({path:t,directory:"DATA",encoding:"utf8"});case 4:return e.abrupt("return",e.sent.data);case 7:return e.prev=7,e.t0=e.catch(1),console.error("Failed to Read",e.t0),e.abrupt("return",null);case 11:e.next=14;break;case 13:return e.abrupt("return",localStorage.getItem(t));case 14:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function i(){return(i=o(regeneratorRuntime.mark((function e(t,n){var r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>2&&void 0!==o[2]?o[2]:"DATA",!window.Capacitor){e.next=7;break}return e.next=4,Capacitor.Plugins.Filesystem.writeFile({path:t,directory:r,data:n,recursive:!0,encoding:"utf8"});case 4:return e.abrupt("return",e.sent);case 7:localStorage.setItem(t,n);case 8:console.log("Written!");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.Capacitor?Capacitor.Plugins.Filesystem.deleteFile({path:t,directory:"DATA"}):localStorage.removeItem(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(5666),n(1539),n(8674),e.exports={readSave:function(e){return a.apply(this,arguments)},writeSave:function(e,t){return i.apply(this,arguments)},deleteSave:function(e){return s.apply(this,arguments)}}},7793:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(2707),n(5735),n(3753),n(6699),n(1249);var a=n(2946),i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),void 0===t.exposed)throw"config.exposed must not be undefined. ";if(this.isDouble=function(e){return!1},this.getPoints=function(){return 0},!t.tiles instanceof Array)throw"config.tiles must be an array of Tiles";if(!e.isValidSequence(t.tiles))throw"config.tiles is not a valid sequence. ";this.tiles=t.tiles,this.tiles=this.tiles.sort((function(e,t){return e.value-t.value})),this.exposed=t.exposed,this.isSequence=!0,this.isPongOrKong=!1,this.isPair=!1,this.toJSON=function(){var e={class:"Sequence"};return e.exposed=this.exposed,e.tiles=this.tiles,JSON.stringify(e)}.bind(this)}var t,n,i;return t=e,i=[{key:"isValidSequence",value:function(e){var t=e[0].type;if(!["bamboo","character","circle"].includes(t))return!1;e=e.sort((function(e,t){return e.value-t.value}));for(var n=1;n<e.length;n++){var r=e[n];if(r.type!==t)return!1;if(1!==Math.abs(e[n-1].value-r.value))return!1}return 3===e.length}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Sequence"!==n.class)throw"String was not created by Sequence.toJSON()";return n.tiles=n.tiles.map((function(e){return a.fromJSON(e)})),new e(n)}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}();e.exports=i},3642:(e,t,n)=>{function r(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,u,"next",e)}function u(e){r(i,o,a,s,u,"throw",e)}s(void 0)}))}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n(5666),n(1539),n(8674),n(5837),n(2772),n(561),n(4747),n(6992),n(8783),n(3948),n(285),n(7042);var u=n(4376),l=function(){"use strict";function e(t){a(this,e);var r,i=function(e){var t=JSON.parse(e.data);if(console.log(t),"joinRoom"===t.type)c(t);else if("createRoom"===t.type)l(t);else if("roomActionState"===t.type)f(t);else if("roomActionKickFromRoom"===t.type);else if("roomActionLeaveRoom"===t.type)h(t);else if("getCurrentRoom"===t.type)v(t);else if("displayMessage"===t.type){var n;null!=t&&null!==(n=t.message)&&void 0!==n&&n.onlineOnly&&window.stateManager.offlineMode?console.warn("Suppressing displayMessage as offline. "):new u.Notification(t.message.title,t.message.body).show()}else"roomActionStartGame"===t.type?(p(t),window.scrollTo(0,0)):"roomActionEndGame"===t.type?d(t):"roomActionPlaceTiles"===t.type?this.onPlaceTiles instanceof Function&&this.onPlaceTiles(t):"roomActionGameplayAlert"===t.type?this.onGameplayAlert instanceof Function&&this.onGameplayAlert(t):"roomActionGetMessageHistory"===t.type?this.onGetMessageHistory instanceof Function&&this.onGetMessageHistory(t):console.log("Unknown Type "+t.type)}.bind(this);this.createWebsocket=function(){var e=o(regeneratorRuntime.mark((function e(){var l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.websocket=new WebSocket(t),this.websocket.addEventListener("message",i),this.websocket.addEventListener("open",(function(){window.setConnectionStatus&&window.setConnectionStatus({connected:!0}),r&&(r.dismiss(),r=null)})),this.websocket.addEventListener("close",function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.setConnectionStatus&&window.setConnectionStatus({connected:!1}),console.warn(t),1e3===t.code){e.next=8;break}return!1===stateManager.offlineMode&&(r&&(r.dismiss(),r=null),(r=new u.MessageBar("You Disconnected from the Server. Attempting to Reconnect...")).show(8e3)),e.next=6,new Promise((function(e,t){setTimeout(e,1e3)}));case 6:this.createWebsocket(),stateManager.offlineMode||this.getCurrentRoom();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)),l=new(function(){function e(){a(this,e)}return s(e,[{key:"on",value:function(e,t){console.log(e),this.onmessage=t}},{key:"send",value:function(e){i({data:e})}}]),e}()),globalThis.serverStateManager||(c=n(3093),globalThis.serverStateManager=new c),this.sendMessage=function(){var e=o(regeneratorRuntime.mark((function e(t){var r,o=this,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]&&a[1],!this.offlineMode||r){e.next=8;break}this.localServer||(this.localServer=n(5025),console.log(this.localServer),this.localServer(l)),console.log(l),l.onmessage||(console.log(l),this.localServer(l)),l.onmessage(t),e.next=13;break;case 8:if(0!==this.websocket.readyState){e.next=11;break}return e.next=11,new Promise((function(e,t){o.websocket.onopen=e,o.websocket.onerror=t}));case 11:console.log(t),this.websocket.send(t);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}().bind(this),this.createWebsocket(),this.inRoom=!1,this.isHost=!1,this.inGame=!1,this.joinRoom=function(e,t){this.sendMessage(JSON.stringify({type:"joinRoom",clientId:window.clientId,roomId:e,nickname:t}))},this.createRoom=function(e,t){this.sendMessage(JSON.stringify({type:"createRoom",clientId:window.clientId,roomId:e,nickname:t}))},this.kickUser=function(e,t){this.sendMessage(JSON.stringify({type:"roomActionKickFromRoom",clientId:window.clientId,id:t}))},this.leaveRoom=function(e){this.sendMessage(JSON.stringify({type:"roomActionLeaveRoom",clientId:window.clientId}))},this.closeRoom=function(e){this.sendMessage(JSON.stringify({type:"roomActionCloseRoom",clientId:window.clientId}))},this.startGame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessage(JSON.stringify({type:"roomActionStartGame",clientId:window.clientId,settings:e}))},this.endGame=function(){this.sendMessage(JSON.stringify({type:"roomActionEndGame",clientId:window.clientId}))},this.placeTiles=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.sendMessage(JSON.stringify({type:"roomActionPlaceTiles",clientId:window.clientId,mahjong:t,message:e,swapJoker:n.swapJoker}))},this.addBot=function(e){this.sendMessage(JSON.stringify({type:"roomActionAddBot",clientId:window.clientId,botName:e}))},this.setNickname=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.clientId;this.sendMessage(JSON.stringify({type:"roomActionChangeNickname",clientId:window.clientId,nickname:e,targetId:t}))},this.getCurrentRoom=function(){this.sendMessage(JSON.stringify({type:"getCurrentRoom",clientId:window.clientId}))}.bind(this),this.getMessageHistory=function(){var e=this;return new Promise((function(t){e.onGetMessageHistory=t,e.sendMessage(JSON.stringify({type:"roomActionGetMessageHistory",clientId:window.clientId}))}))}.bind(this),this.uploadOfflineSave=function(e){var t=e.message,n=e.saveId;this.sendMessage(JSON.stringify({type:"uploadOfflineSave",message:t,saveId:n,clientId:window.clientId}),!0)}.bind(this),this.revertState=function(e){this.sendMessage(JSON.stringify({type:"roomActionRevertState",message:e,clientId:window.clientId}))}.bind(this),this.createRoomFromState=function(e){this.sendMessage(JSON.stringify({type:"createRoomFromState",saveId:e,clientId:window.clientId}))}.bind(this),this.getState=function(e){console.log("Getting state..."),this.sendMessage(JSON.stringify({type:"roomActionState",clientId:window.clientId}))},this.callServerSave=function(e,t){this.sendMessage(JSON.stringify({type:"callServerSave",auth:e,saveName:t})),console.warn("You will need to manually kill the server on reboot and reload from save. ")},this.messageAllServerClients=function(e){var t=e.auth,n=e.title,r=e.body,o=e.onlineOnly,a=void 0===o||o;this.sendMessage(JSON.stringify({type:"messageAllServerClients",auth:t,title:n,body:r,onlineOnly:a}))};var l=function(e){"success"===e.status&&(this.inRoom=e.message,this.isHost=!0),this.onCreateRoom instanceof Function&&this.onCreateRoom(e)}.bind(this),c=function(e){"success"===e.status&&(this.inRoom=e.message),this.onJoinRoom instanceof Function&&this.onJoinRoom(e)}.bind(this),h=function(e){"success"===e.status&&(this.inRoom=!1,this.isHost=!1,!0===this.inGame&&(this.inGame=!1,d({status:"success",message:"State Sync"}))),this.onLeaveRoom instanceof Function&&this.onLeaveRoom(e)}.bind(this);this.listeners={onStartGame:[],onEndGame:[],onStateUpdate:[]},this.addEventListener=function(e,t){if(!this.listeners[e])throw e+" is not supported by this addEventListener";this.listeners[e].push(t)}.bind(this),this.removeEventListener=function(e,t){if(!this.listeners[e])throw e+" is not supported by this addEventListener";if(-1===this.listeners.indexOf(t))throw"Unable to find listener";this.listeners[e].splice(this.listeners.indexOf(t),1)}.bind(this);var p=function(e){"success"===e.status&&(this.inGame=!0),this.onStartGame instanceof Function&&this.onStartGame(e),this.listeners.onStartGame.forEach((function(t){t(e)}))}.bind(this),d=function(e){"success"===e.status&&(this.inGame=!1),this.onEndGame instanceof Function&&this.onEndGame(e),this.listeners.onEndGame.forEach((function(t){t(e)}))}.bind(this),f=function(e){this.lastState=e,this.isHost=e.message.isHost,!1===this.inGame&&!0===e.message.inGame?(void 0===stateManager.offlineMode&&(stateManager.offlineMode=!1),p({status:"success",message:"State Sync"})):!0===this.inGame&&!1===e.message.inGame&&d({status:"success",message:"State Sync"}),this.currentTurn=e.message.currentTurn,this.onStateUpdate instanceof Function&&this.onStateUpdate(e),this.listeners.onStateUpdate.forEach((function(t){t(e)}))}.bind(this),v=function(e){this.inRoom=e.message||!1,this.inRoom&&(c(e),this.getState(this.inRoom))}.bind(this)}return s(e,null,[{key:"setClientId",value:function(e){window.clientId=e,localStorage.setItem("clientId",window.clientId);var t=new URLSearchParams("?"+window.location.hash.slice(1));t.has("clientId")&&(window.clientId=t.get("clientId"))}},{key:"createNewClientId",value:function(){return"user"+Math.random()*Math.pow(2,53)}},{key:"getClientId",value:function(){var t=localStorage.getItem("clientId");return null===t&&(t=e.createNewClientId()),t}}]),e}();l.setClientId(l.getClientId()),e.exports=l},2946:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(6699),n(4553);var i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),a(this,"isSequence",!1),a(this,"isPongOrKong",!1),a(this,"isPair",!1),this.type=t.type,this.value=t.value,this.value||"flower"!==this.type&&"season"!==this.type||(this.value=Math.ceil(4*Math.random())),t.faceDown&&(this.faceDown=!0)}var t,n,i;return t=e,i=[{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Tile"!==n.class)throw"String was not created by Tile.toJSON()";return new e(n)}}],(n=[{key:"getTileName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"chinese",n=this.value+" "+this.type;return"american"===t&&(n=["flower","season"].includes(this.type)?"flower":this.value+" "+(e.americanTranslations[this.type]||this.type)),this.faceDown&&(n=this.value&&this.type?"Face Down "+n:"Face Down Tile"),n}},{key:"getImageUrl",value:function(){return this.faceDown?"assets/tiles/face-down.png":"joker"===this.type?"assets/tiles/joker.png":"assets/tiles/"+this.type+"s/"+this.value+".png"}},{key:"matches",value:function(t){return!this.faceDown&&t instanceof e&&(t.type===this.type&&t.value===this.value||"joker"===this.type&&t.type===this.type||!("flower"!==this.type&&"season"!==this.type||"flower"!==t.type&&"season"!==t.type)&&2)}},{key:"getTileValue",value:function(){var e=this,t=100;return t+=100*["flower","season","circle","bamboo","character","wind","dragon","joker"].findIndex((function(t){return e.type===t})),"number"==typeof this.value?t+=this.value:"wind"===this.type?t+=10*["north","east","south","west"].findIndex((function(t){return e.value===t})):"dragon"===this.type?t+=10*["red","green","white"].findIndex((function(t){return e.value===t})):"flower"===this.type||"season"===this.type||this.faceDown||"joker"===this.type||console.error("Couldn't fully calculate ",this),t}},{key:"getPoints",value:function(){return 0}},{key:"isDouble",value:function(){return 0}},{key:"toJSON",value:function(){var e={class:"Tile"};return e.type=this.type,e.value=this.value,this.faceDown&&(e.faceDown=this.faceDown),JSON.stringify(e)}}])&&o(t.prototype,n),i&&o(t,i),e}();a(i,"americanTranslations",{bamboo:"bam",character:"crak",circle:"dot"}),e.exports=i},502:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(9826),n(1249);var i=n(2946),s=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),a(this,"exposed",!0),a(this,"isSequence",!1),a(this,"isPongOrKong",!1),a(this,"isPair",!1),!t.tiles instanceof Array)throw"config.tiles must be an array of Tiles";this.tiles=t.tiles}var t,n,s;return t=e,s=[{key:"isValidMatch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.findNonJoker(t);return!!r&&!!t.every((function(e){if(e.matches(r)||n&&"joker"===e.type)return!0}))&&r}},{key:"findNonJoker",value:function(e){return e.find((function(e){return"joker"!==e.type}))}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("TileContainer"!==n.class)throw"String was not created by TileContainer.toJSON()";return n.tiles=n.tiles.map((function(e){return i.fromJSON(e)})),new e(n)}}],(n=[{key:"isDouble",value:function(e){return!1}},{key:"getPoints",value:function(){return 0}},{key:"isValidMatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.isValidMatch(this.tiles,t)}},{key:"toJSON",value:function(){var e={class:"TileContainer"};return e.exposed=this.exposed,e.tiles=this.tiles,JSON.stringify(e)}}])&&o(t.prototype,n),s&&o(t,s),e}();e.exports=s},6212:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(2222),n(5735),n(3753);var a=n(2946),i=n(4810),s=n(7905),u=function(){"use strict";function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random(),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),this.drawFirst=function(){return this.tiles.pop()},this.readFirst=function(){return this.tiles[this.tiles.length-1]},this.tiles=[],this.tiles=this.tiles.concat(e.getNonPrettyTiles()),o.noPrettys||[!1,!0].forEach((function(e){for(var n=1;n<=4;n++)o.prettysAsTiles?t.tiles.push(new a({value:n,type:e?"season":"flower"})):t.tiles.push(new i({value:n,seasonOrFlower:e?"season":"flower"}))})),o.includeJokers)for(var s=0;s<o.includeJokers;s++)this.tiles.push(new a({type:"joker",value:""}));e.shuffleArray(this.tiles,n),this.toJSON=function(){return n}.bind(this)}var t,n,u;return t=e,u=[{key:"getNonPrettyTiles",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=[],n=function(n){for(var r=0;r<e;r++)["bamboo","character","circle"].forEach((function(e){t.push(new a({type:e,value:n}))}))},r=1;r<=9;r++)n(r);return["red","green","white"].forEach((function(n){for(var r=0;r<e;r++)t.push(new a({type:"dragon",value:n}))})),["north","south","east","west"].forEach((function(n){for(var r=0;r<e;r++)t.push(new a({type:"wind",value:n}))})),t}},{key:"shuffleArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random(),n=s(t),r=e.length-1;r>0;r--){var o=Math.floor(n()*(r+1)),a=[e[o],e[r]];e[r]=a[0],e[o]=a[1]}}},{key:"renderWall",value:function(e,t){for(;e.firstChild;)e.firstChild.remove();if(0!==t.length){var n=document.createElement("p");n.innerHTML=t.length,e.appendChild(n);for(var r=0;r<t.length;r++){var o,a,i,s,u=t[r],l=document.createElement("img");l.src=u.getImageUrl(),l.title=u.getTileName(null===(o=stateManager)||void 0===o||null===(a=o.lastState)||void 0===a||null===(i=a.message)||void 0===i||null===(s=i.settings)||void 0===s?void 0:s.gameStyle),e.appendChild(l)}window.requestAnimationFrame((function(){t.length>30?e.className="wall":e.className="wall smallView"})),e.onclick=function(){var t=document.createElement("div"),n=e.cloneNode(!0);t.appendChild(n),n.className="wall wallPopupView",new Popups.Notification("Wall View",t).show()}}}},{key:"fromJSON",value:function(t){return new e(t)}}],(n=null)&&o(t.prototype,n),u&&o(t,u),e}();e.exports=u},4616:()=>{var e=document.createElement("div");e.id="fb-root",document.body.appendChild(e);var t,n,r,o,a,i=document.createElement("div");i.className="fb-customerchat",i.setAttribute("page_id","103233541852386"),i.setAttribute("greeting_dialog_display","icon"),document.body.appendChild(i),window.fbAsyncInit=function(){try{AppRate.promptForRating()}catch(e){console.error(e)}FB.init({xfbml:!1,version:"v10.0"}),FB.Event.subscribe("customerchat.load",(function(){for(var e=document.querySelector("head > style").innerText,t=[],n="",r=0,o=0;o<e.length;o++){var a=e[o];n+=a,"{"===a&&r++,"}"===a&&0===--r&&(t.push(n),n="")}console.log("Parsed and inserting Facebook CSS Rules to bypass inline-style CSP block",t),t.forEach((function(e){document.styleSheets[0].insertRule(e)}))})),FB.XFBML.parse()},t=document,n="script",r="facebook-jssdk",a=t.getElementsByTagName(n)[0],t.getElementById(r)||((o=t.createElement(n)).id=r,o.src="https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js",a.parentNode.insertBefore(o,a))},5220:()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.Capacitor)&&void 0!==t&&t.getPlatform())try{AppRate.setPreferences({displayAppName:"Mahjong 4 Friends",simpleMode:!1,usesUntilPrompt:10,promptAgainForEachNewVersion:!1,reviewType:{ios:"InAppReview",android:"InAppReview"},storeAppURL:{ios:"1552704332",android:"market://details?id=com.mahjong4friends.twa"},customLocale:{title:"Would you mind rating %@?",message:"It wont take more than a minute and helps others find our app. Thanks for your support!",cancelButtonLabel:"No, Thanks",laterButtonLabel:"Remind Me Later",rateButtonLabel:"Rate It Now",yesButtonLabel:"Yes!",noButtonLabel:"Not Yet",appRatePromptTitle:"Do you like using %@",feedbackPromptTitle:"Would you like to give us feedback?"},callbacks:{handleNegativeFeedback:function(){cordova.plugins.email.open({to:"support@mahjong4friends.com",subject:"Mahjong 4 Friends iOS Feedback",body:"",isHtml:!0})},onRateDialogShow:function(e){console.log("Click"),e(1)},onButtonClicked:function(e){console.log("onButtonClicked -> "+e)}}})}catch(e){console.error(e)}},2352:(e,t,n)=>{var r,o,a;function i(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}n(5666),n(2772),n(1539),n(8674),n(2222),n(6992),n(8783),n(3948),n(285),n(6755),n(9714),n(7042),n(9653);try{if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)||navigator.userAgent.indexOf("Trident/")>-1){var s=document.createElement("h2");s.innerHTML="Internet Explorer is NOT Supported. Choose a different browser (Chrome, Firefox, Edge, Safari, Opera, and most other browsers should work)",document.body.insertBefore(s,document.body.firstChild)}}catch(e){console.error(e)}if("serviceWorker"in navigator)try{navigator.serviceWorker.register("packagedsw.js")}catch(e){console.error(e)}if(document.title="Mahjong 4 Friends - Free Mahjong, Friends and/or Bots","ios"===(null===(r=window)||void 0===r||null===(o=r.Capacitor)||void 0===o?void 0:o.getPlatform()))try{(a=regeneratorRuntime.mark((function e(){var t,r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://itunes.apple.com/lookup?bundleId=com.mahjong4friends.twa&YourCDNDoesNotChangeCORSHeadersSoMustCacheBust"+Math.random());case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,o=r.results[0].version,e.next=9,window.Capacitor.Plugins.Device.getInfo();case 9:a=e.sent,i=a.appVersion,parseFloat(i)<parseFloat(o)&&new(n(4376).Notification)("App Update","There is a Mahjong 4 Friends <a href='https://apps.apple.com/us/app/mahjong-4-friends/id1552704332' target='_blank'>app update</a>. Downloading it is recommended. You may issues if you do not update. ").show();case 12:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function s(e){i(o,n,r,s,u,"next",e)}function u(e){i(o,n,r,s,u,"throw",e)}s(void 0)}))})()}catch(e){console.error(e)}n(819);[16,24,32,64,96,160,196].forEach((function(e){var t=document.createElement("link");t.rel="shortcut icon",t.type="image/png",t.sizes=e+"x"+e,t.href="assets/icons/".concat(e,"x").concat(e,"-green-dragon.png"),document.head.appendChild(t)}));var u=n(3642);n(8010);var l=new URL(window.location.origin+window.location.pathname);l.pathname="/node","https:"===window.location.protocol?l.protocol="wss:":l.protocol="ws:",("127.0.0.1"===window.location.hostname||window.location.hostname.startsWith("192.168.1")||window.location.hostname.startsWith("10."))&&(l.port=7591);var c=l.toString();window.Capacitor&&(c="wss://mahjong4friends.com/node"),window.stateManager=new u(c),["Hand","Tile","Sequence","Pretty","Match","Wall","Popups"].forEach((function(e){window[e]=n(5301)("./"+e+".js")}));n(2342),n(4696);function h(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Math.max(document.documentElement.clientWidth,Math.min(screen.width,window.innerWidth)),n=Math.max(document.documentElement.clientHeight,window.innerHeight);document.documentElement.style.setProperty("--vh","".concat(n/100,"px")),document.documentElement.style.setProperty("--vw","".concat(t/100,"px"));var r=new URLSearchParams(window.location.hash.slice(1)),o=Number(r.get("shiftPercentageLeft")),a=Number(r.get("shiftPercentageRight")),i=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--sal"));i-=10,document.documentElement.style.setProperty("--shiftPercentageLeft","".concat(Math.max(o,i/t)));var s=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--sar"));s-=10,document.documentElement.style.setProperty("--shiftPercentageRight","".concat(Math.max(a,s/t))),e&&!1!==(null==e?void 0:e.isTrusted)&&(console.log(e),setTimeout((function(){h(!1)}),500))}window.addEventListener("resize",h),window.addEventListener("orientationchange",(function(){window.dispatchEvent(new Event("resize"))})),h();var p=setInterval((function(){window.dispatchEvent(new Event("resize"))}),300);setTimeout((function(){clearInterval(p)}),3e3),document.body.addEventListener("load",h),window.addEventListener("touchmove",(function(){}),{passive:!1})},819:(e,t,n)=>{n(6992),n(1539),n(8783),n(3948),n(285);try{if(window.Capacitor){var r=function(e){console.log("Current URL: "+window.location.href);var t=new URL(e);t.hash===window.location.hash&&t.pathname===window.location.pathname?console.log("Same URLs. Skipping"):t.pathname===window.location.pathname?(console.log("Same pathname. Setting and reloading. "),window.location.hash=t.hash,window.location.reload()):(console.log("Different pathname. Setting"),window.location.hash=t.hash,window.location.pathname=t.pathname)};Capacitor.Plugins.App.addListener("appUrlOpen",(function(e){console.log("App opened with URL: "+e.url),r(e.url)})),Capacitor.Plugins.App.getLaunchUrl().then((function(e){e&&e.url&&(console.log("Launch url: ",e.url),r(e.url))}))}}catch(e){console.error(e)}},3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:(e,t,n)=>{var r=n(5112),o=n(30),a=n(3070),i=r("unscopables"),s=Array.prototype;null==s[i]&&a.f(s,i,{configurable:!0,value:o(null)}),e.exports=function(e){s[i][e]=!0}},1530:(e,t,n)=>{"use strict";var r=n(8710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},5787:e=>{e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},9670:(e,t,n)=>{var r=n(111);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},1285:(e,t,n)=>{"use strict";var r=n(7908),o=n(1400),a=n(7466);e.exports=function(e){for(var t=r(this),n=a(t.length),i=arguments.length,s=o(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,l=void 0===u?n:o(u,n);l>s;)t[s++]=e;return t}},8533:(e,t,n)=>{"use strict";var r=n(2092).forEach,o=n(9341)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},8457:(e,t,n)=>{"use strict";var r=n(9974),o=n(7908),a=n(3411),i=n(7659),s=n(7466),u=n(6135),l=n(1246);e.exports=function(e){var t,n,c,h,p,d,f=o(e),v="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,y=void 0!==g,w=l(f),b=0;if(y&&(g=r(g,m>2?arguments[2]:void 0,2)),null==w||v==Array&&i(w))for(n=new v(t=s(f.length));t>b;b++)d=y?g(f[b],b):f[b],u(n,b,d);else for(p=(h=w.call(f)).next,n=new v;!(c=p.call(h)).done;b++)d=y?a(h,g,[c.value,b],!0):c.value,u(n,b,d);return n.length=b,n}},1318:(e,t,n)=>{var r=n(5656),o=n(7466),a=n(1400),i=function(e){return function(t,n,i){var s,u=r(t),l=o(u.length),c=a(i,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},2092:(e,t,n)=>{var r=n(9974),o=n(8361),a=n(7908),i=n(7466),s=n(5417),u=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,c=4==e,h=6==e,p=7==e,d=5==e||h;return function(f,v,m,g){for(var y,w,b=a(f),S=o(b),E=r(v,m,3),T=i(S.length),x=0,C=g||s,k=t?C(f,T):n||p?C(f,0):void 0;T>x;x++)if((d||x in S)&&(w=E(y=S[x],x,b),e))if(t)k[x]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return x;case 2:u.call(k,y)}else switch(e){case 4:return!1;case 7:u.call(k,y)}return h?-1:l||c?c:k}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},1194:(e,t,n)=>{var r=n(7293),o=n(5112),a=n(7392),i=o("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,n)=>{"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},3671:(e,t,n)=>{var r=n(3099),o=n(7908),a=n(8361),i=n(7466),s=function(e){return function(t,n,s,u){r(n);var l=o(t),c=a(l),h=i(l.length),p=e?h-1:0,d=e?-1:1;if(s<2)for(;;){if(p in c){u=c[p],p+=d;break}if(p+=d,e?p<0:h<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:h>p;p+=d)p in c&&(u=n(u,c[p],p,l));return u}};e.exports={left:s(!1),right:s(!0)}},5417:(e,t,n)=>{var r=n(111),o=n(3157),a=n(5112)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},3411:(e,t,n)=>{var r=n(9670),o=n(9212);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){throw o(e),t}}},7072:(e,t,n)=>{var r=n(5112)("iterator"),o=!1;try{var a=0,i={next:function(){return{done:!!a++}},return:function(){o=!0}};i[r]=function(){return this},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:(e,t,n)=>{var r=n(1694),o=n(4326),a=n(5112)("toStringTag"),i="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:i?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},9920:(e,t,n)=>{var r=n(6656),o=n(3887),a=n(1236),i=n(3070);e.exports=function(e,t){for(var n=o(t),s=i.f,u=a.f,l=0;l<n.length;l++){var c=n[l];r(e,c)||s(e,c,u(t,c))}}},4964:(e,t,n)=>{var r=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,n)=>{"use strict";var r=n(3383).IteratorPrototype,o=n(30),a=n(9114),i=n(8003),s=n(7497),u=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=o(r,{next:a(1,n)}),i(e,l,!1,!0),s[l]=u,e}},8880:(e,t,n)=>{var r=n(9781),o=n(3070),a=n(9114);e.exports=r?function(e,t,n){return o.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var r=n(7593),o=n(3070),a=n(9114);e.exports=function(e,t,n){var i=r(t);i in e?o.f(e,i,a(0,n)):e[i]=n}},654:(e,t,n)=>{"use strict";var r=n(2109),o=n(4994),a=n(9518),i=n(7674),s=n(8003),u=n(8880),l=n(1320),c=n(5112),h=n(1913),p=n(7497),d=n(3383),f=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,m=c("iterator"),g="keys",y="values",w="entries",b=function(){return this};e.exports=function(e,t,n,c,d,S,E){o(n,t,c);var T,x,C,k=function(e){if(e===d&&L)return L;if(!v&&e in A)return A[e];switch(e){case g:case y:case w:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",O=!1,A=e.prototype,I=A[m]||A["@@iterator"]||d&&A[d],L=!v&&I||k(d),P="Array"==t&&A.entries||I;if(P&&(T=a(P.call(new e)),f!==Object.prototype&&T.next&&(h||a(T)===f||(i?i(T,f):"function"!=typeof T[m]&&u(T,m,b)),s(T,M,!0,!0),h&&(p[M]=b))),d==y&&I&&I.name!==y&&(O=!0,L=function(){return I.call(this)}),h&&!E||A[m]===L||u(A,m,L),p[t]=L,d)if(x={values:k(y),keys:S?L:k(g),entries:k(w)},E)for(C in x)(v||O||!(C in A))&&l(A,C,x[C]);else r({target:t,proto:!0,forced:v||O},x);return x}},7235:(e,t,n)=>{var r=n(857),o=n(6656),a=n(6061),i=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||i(t,e,{value:a.f(e)})}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),o=n(111),a=r.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6833:(e,t,n)=>{var r=n(8113);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},5268:(e,t,n)=>{var r=n(4326),o=n(7854);e.exports="process"==r(o.process)},1036:(e,t,n)=>{var r=n(8113);e.exports=/web0s(?!.*chrome)/i.test(r)},8113:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,o,a=n(7854),i=n(8113),s=a.process,u=s&&s.versions,l=u&&u.v8;l?o=(r=l.split("."))[0]+r[1]:i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var r=n(7854),o=n(1236).f,a=n(8880),i=n(1320),s=n(3505),u=n(9920),l=n(4705);e.exports=function(e,t){var n,c,h,p,d,f=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[f]||s(f,{}):(r[f]||{}).prototype)for(c in t){if(p=t[c],h=e.noTargetGet?(d=o(n,c))&&d.value:n[c],!l(v?c:f+(m?".":"#")+c,e.forced)&&void 0!==h){if(typeof p==typeof h)continue;u(p,h)}(e.sham||h&&h.sham)&&a(p,"sham",!0),i(n,c,p,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,n)=>{"use strict";n(4916);var r=n(1320),o=n(7293),a=n(5112),i=n(8880),s=a("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),c=a("replace"),h=!!/./[c]&&""===/./[c]("a","$0"),p=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,c){var d=a(e),f=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),v=f&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!v||"replace"===e&&(!u||!l||h)||"split"===e&&!p){var m=/./[d],g=n(d,""[e],(function(e,t,n,r,o){return t.exec===RegExp.prototype.exec?f&&!o?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),y=g[0],w=g[1];r(String.prototype,e,y),r(RegExp.prototype,d,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}c&&i(RegExp.prototype[d],"sham",!0)}},6790:(e,t,n)=>{"use strict";var r=n(3157),o=n(7466),a=n(9974),i=function(e,t,n,s,u,l,c,h){for(var p,d=u,f=0,v=!!c&&a(c,h,3);f<s;){if(f in n){if(p=v?v(n[f],f,t):n[f],l>0&&r(p))d=i(e,t,p,o(p.length),d,l-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[d]=p}d++}f++}return d};e.exports=i},9974:(e,t,n)=>{var r=n(3099);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},7065:(e,t,n)=>{"use strict";var r=n(3099),o=n(111),a=[].slice,i={},s=function(e,t,n){if(!(t in i)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";i[t]=Function("C,a","return new C("+r.join(",")+")")}return i[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),i=function(){var r=n.concat(a.call(arguments));return this instanceof i?s(t,r.length,r):t.apply(e,r)};return o(t.prototype)&&(i.prototype=t.prototype),i}},5005:(e,t,n)=>{var r=n(857),o=n(7854),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},1246:(e,t,n)=>{var r=n(648),o=n(7497),a=n(5112)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||o[r(e)]}},8554:(e,t,n)=>{var r=n(9670),o=n(1246);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},647:(e,t,n)=>{var r=n(7908),o=Math.floor,a="".replace,i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,u,l,c){var h=n+e.length,p=u.length,d=s;return void 0!==l&&(l=r(l),d=i),a.call(c,d,(function(r,a){var i;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(h);case"<":i=l[a.slice(1,-1)];break;default:var s=+a;if(0===s)return r;if(s>p){var c=o(s/10);return 0===c?r:c<=p?void 0===u[c-1]?a.charAt(1):u[c-1]+a.charAt(1):r}i=u[s-1]}return void 0===i?"":i}))}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:(e,t,n)=>{var r=n(7908),o={}.hasOwnProperty;e.exports=function(e,t){return o.call(r(e),t)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var r=n(7854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),o=n(7293),a=n(317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(7293),o=n(4326),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a.call(e,""):Object(e)}:Object},9587:(e,t,n)=>{var r=n(111),o=n(7674);e.exports=function(e,t,n){var a,i;return o&&"function"==typeof(a=t.constructor)&&a!==n&&r(i=a.prototype)&&i!==n.prototype&&o(e,i),e}},2788:(e,t,n)=>{var r=n(5465),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},9909:(e,t,n)=>{var r,o,a,i=n(8536),s=n(7854),u=n(111),l=n(8880),c=n(6656),h=n(5465),p=n(6200),d=n(3501),f="Object already initialized",v=s.WeakMap;if(i){var m=h.state||(h.state=new v),g=m.get,y=m.has,w=m.set;r=function(e,t){if(y.call(m,e))throw new TypeError(f);return t.facade=e,w.call(m,e,t),t},o=function(e){return g.call(m,e)||{}},a=function(e){return y.call(m,e)}}else{var b=p("state");d[b]=!0,r=function(e,t){if(c(e,b))throw new TypeError(f);return t.facade=e,l(e,b,t),t},o=function(e){return c(e,b)?e[b]:{}},a=function(e){return c(e,b)}}e.exports={set:r,get:o,has:a,enforce:function(e){return a(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var r=n(5112),o=n(7497),a=r("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[a]===e)}},3157:(e,t,n)=>{var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4705:(e,t,n)=>{var r=n(7293),o=/#|\.prototype\./,a=function(e,t){var n=s[i(e)];return n==l||n!=u&&("function"==typeof t?r(t):!!t)},i=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var r=n(111),o=n(4326),a=n(5112)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},408:(e,t,n)=>{var r=n(9670),o=n(7659),a=n(7466),i=n(9974),s=n(1246),u=n(9212),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var c,h,p,d,f,v,m,g=n&&n.that,y=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),S=i(t,g,1+y+b),E=function(e){return c&&u(c),new l(!0,e)},T=function(e){return y?(r(e),b?S(e[0],e[1],E):S(e[0],e[1])):b?S(e,E):S(e)};if(w)c=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(o(h)){for(p=0,d=a(e.length);d>p;p++)if((f=T(e[p]))&&f instanceof l)return f;return new l(!1)}c=h.call(e)}for(v=c.next;!(m=v.call(c)).done;){try{f=T(m.value)}catch(e){throw u(c),e}if("object"==typeof f&&f&&f instanceof l)return f}return new l(!1)}},9212:(e,t,n)=>{var r=n(9670);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},3383:(e,t,n)=>{"use strict";var r,o,a,i=n(7293),s=n(9518),u=n(8880),l=n(6656),c=n(5112),h=n(1913),p=c("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(o=s(s(a)))!==Object.prototype&&(r=o):d=!0);var f=null==r||i((function(){var e={};return r[p].call(e)!==e}));f&&(r={}),h&&!f||l(r,p)||u(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},7497:e=>{e.exports={}},5948:(e,t,n)=>{var r,o,a,i,s,u,l,c,h=n(7854),p=n(1236).f,d=n(261).set,f=n(6833),v=n(1036),m=n(5268),g=h.MutationObserver||h.WebKitMutationObserver,y=h.document,w=h.process,b=h.Promise,S=p(h,"queueMicrotask"),E=S&&S.value;E||(r=function(){var e,t;for(m&&(e=w.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?i():a=void 0,e}}a=void 0,e&&e.enter()},f||m||v||!g||!y?b&&b.resolve?(l=b.resolve(void 0),c=l.then,i=function(){c.call(l,r)}):i=m?function(){w.nextTick(r)}:function(){d.call(h,r)}:(s=!0,u=y.createTextNode(""),new g(r).observe(u,{characterData:!0}),i=function(){u.data=s=!s})),e.exports=E||function(e){var t={fn:e,next:void 0};a&&(a.next=t),o||(o=t,i()),a=t}},3366:(e,t,n)=>{var r=n(7854);e.exports=r.Promise},133:(e,t,n)=>{var r=n(5268),o=n(7392),a=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){return!Symbol.sham&&(r?38===o:o>37&&o<41)}))},590:(e,t,n)=>{var r=n(7293),o=n(5112),a=n(1913),i=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:(e,t,n)=>{var r=n(7854),o=n(2788),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(o(a))},8523:(e,t,n)=>{"use strict";var r=n(3099),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},3929:(e,t,n)=>{var r=n(7850);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},1574:(e,t,n)=>{"use strict";var r=n(9781),o=n(7293),a=n(1956),i=n(5181),s=n(5296),u=n(7908),l=n(8361),c=Object.assign,h=Object.defineProperty;e.exports=!c||o((function(){if(r&&1!==c({b:1},c(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||a(c({},t)).join("")!=o}))?function(e,t){for(var n=u(e),o=arguments.length,c=1,h=i.f,p=s.f;o>c;)for(var d,f=l(arguments[c++]),v=h?a(f).concat(h(f)):a(f),m=v.length,g=0;m>g;)d=v[g++],r&&!p.call(f,d)||(n[d]=f[d]);return n}:c},30:(e,t,n)=>{var r,o=n(9670),a=n(6048),i=n(748),s=n(3501),u=n(490),l=n(317),c=n(6200),h=c("IE_PROTO"),p=function(){},d=function(e){return"<script>"+e+"</"+"script>"},f=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=r?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=l("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var n=i.length;n--;)delete f.prototype[i[n]];return f()};s[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=o(e),n=new p,p.prototype=null,n[h]=e):n=f(),void 0===t?n:a(n,t)}},6048:(e,t,n)=>{var r=n(9781),o=n(3070),a=n(9670),i=n(1956);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=i(t),s=r.length,u=0;s>u;)o.f(e,n=r[u++],t[n]);return e}},3070:(e,t,n)=>{var r=n(9781),o=n(4664),a=n(9670),i=n(7593),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=i(t,!0),a(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),o=n(5296),a=n(9114),i=n(5656),s=n(7593),u=n(6656),l=n(4664),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=i(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(u(e,t))return a(!o.f.call(e,t),e[t])}},1156:(e,t,n)=>{var r=n(5656),o=n(8006).f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?function(e){try{return o(e)}catch(e){return i.slice()}}(e):o(r(e))}},8006:(e,t,n)=>{var r=n(6324),o=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(6656),o=n(7908),a=n(6200),i=n(8544),s=a("IE_PROTO"),u=Object.prototype;e.exports=i?Object.getPrototypeOf:function(e){return e=o(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},6324:(e,t,n)=>{var r=n(6656),o=n(5656),a=n(1318).indexOf,i=n(3501);e.exports=function(e,t){var n,s=o(e),u=0,l=[];for(n in s)!r(i,n)&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~a(l,n)||l.push(n));return l}},1956:(e,t,n)=>{var r=n(6324),o=n(748);e.exports=Object.keys||function(e){return r(e,o)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(9670),o=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),o(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},288:(e,t,n)=>{"use strict";var r=n(1694),o=n(648);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},3887:(e,t,n)=>{var r=n(5005),o=n(8006),a=n(5181),i=n(9670);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(i(e)),n=a.f;return n?t.concat(n(e)):t}},857:(e,t,n)=>{var r=n(7854);e.exports=r},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:(e,t,n)=>{var r=n(9670),o=n(111),a=n(8523);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},2248:(e,t,n)=>{var r=n(1320);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},1320:(e,t,n)=>{var r=n(7854),o=n(8880),a=n(6656),i=n(3505),s=n(2788),u=n(9909),l=u.get,c=u.enforce,h=String(String).split("String");(e.exports=function(e,t,n,s){var u,l=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||o(n,"name",t),(u=c(n)).source||(u.source=h.join("string"==typeof t?t:""))),e!==r?(l?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=n:o(e,t,n)):p?e[t]=n:i(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},7651:(e,t,n)=>{var r=n(4326),o=n(2261);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},2261:(e,t,n)=>{"use strict";var r,o,a=n(7066),i=n(2999),s=n(2309),u=RegExp.prototype.exec,l=s("native-string-replace",String.prototype.replace),c=u,h=(r=/a/,o=/b*/g,u.call(r,"a"),u.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),p=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(h||d||p)&&(c=function(e){var t,n,r,o,i=this,s=p&&i.sticky,c=a.call(i),f=i.source,v=0,m=e;return s&&(-1===(c=c.replace("y","")).indexOf("g")&&(c+="g"),m=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,v++),n=new RegExp("^(?:"+f+")",c)),d&&(n=new RegExp("^"+f+"$(?!\\s)",c)),h&&(t=i.lastIndex),r=u.call(s?n:i,m),s?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:h&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),d&&r&&r.length>1&&l.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},7066:(e,t,n)=>{"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:(e,t,n)=>{"use strict";var r=n(7293);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:(e,t,n)=>{var r=n(7854),o=n(8880);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},6340:(e,t,n)=>{"use strict";var r=n(5005),o=n(3070),a=n(5112),i=n(9781),s=a("species");e.exports=function(e){var t=r(e),n=o.f;i&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var r=n(3070).f,o=n(6656),a=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),o=n(9711),a=r("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},5465:(e,t,n)=>{var r=n(7854),o=n(3505),a="__core-js_shared__",i=r[a]||o(a,{});e.exports=i},2309:(e,t,n)=>{var r=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.11.0",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:(e,t,n)=>{var r=n(9670),o=n(3099),a=n(5112)("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||null==(n=r(i)[a])?t:o(n)}},8710:(e,t,n)=>{var r=n(9958),o=n(4488),a=function(e){return function(t,n){var a,i,s=String(o(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===l||(i=s.charCodeAt(u+1))<56320||i>57343?e?s.charAt(u):a:e?s.slice(u,u+2):i-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},3197:e=>{"use strict";var t=2147483647,n=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,i=String.fromCharCode,s=function(e){return e+22+75*(e<26)},u=function(e,t,n){var r=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;r+=36)e=a(e/35);return a(r+36*e/(e+38))},l=function(e){var n,r,l=[],c=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&o)<<10)+(1023&a)+65536):(t.push(o),n--)}else t.push(o)}return t}(e)).length,h=128,p=0,d=72;for(n=0;n<e.length;n++)(r=e[n])<128&&l.push(i(r));var f=l.length,v=f;for(f&&l.push("-");v<c;){var m=t;for(n=0;n<e.length;n++)(r=e[n])>=h&&r<m&&(m=r);var g=v+1;if(m-h>a((t-p)/g))throw RangeError(o);for(p+=(m-h)*g,h=m,n=0;n<e.length;n++){if((r=e[n])<h&&++p>t)throw RangeError(o);if(r==h){for(var y=p,w=36;;w+=36){var b=w<=d?1:w>=d+26?26:w-d;if(y<b)break;var S=y-b,E=36-b;l.push(i(s(b+S%E))),y=a(S/E)}l.push(i(s(y))),d=u(p,g,v==f),p=0,++v}}++p,++h}return l.join("")};e.exports=function(e){var t,o,a=[],i=e.toLowerCase().replace(r,".").split(".");for(t=0;t<i.length;t++)o=i[t],a.push(n.test(o)?"xn--"+l(o):o);return a.join(".")}},8415:(e,t,n)=>{"use strict";var r=n(9958),o=n(4488);e.exports=function(e){var t=String(o(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},6091:(e,t,n)=>{var r=n(7293),o=n(1361);e.exports=function(e){return r((function(){return!!o[e]()||""!=""[e]()||o[e].name!==e}))}},3111:(e,t,n)=>{var r=n(4488),o="["+n(1361)+"]",a=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},261:(e,t,n)=>{var r,o,a,i=n(7854),s=n(7293),u=n(9974),l=n(490),c=n(317),h=n(6833),p=n(5268),d=i.location,f=i.setImmediate,v=i.clearImmediate,m=i.process,g=i.MessageChannel,y=i.Dispatch,w=0,b={},S="onreadystatechange",E=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},T=function(e){return function(){E(e)}},x=function(e){E(e.data)},C=function(e){i.postMessage(e+"",d.protocol+"//"+d.host)};f&&v||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++w]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(w),w},v=function(e){delete b[e]},p?r=function(e){m.nextTick(T(e))}:y&&y.now?r=function(e){y.now(T(e))}:g&&!h?(a=(o=new g).port2,o.port1.onmessage=x,r=u(a.postMessage,a,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts&&d&&"file:"!==d.protocol&&!s(C)?(r=C,i.addEventListener("message",x,!1)):r=S in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),E(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:f,clear:v}},1400:(e,t,n)=>{var r=n(9958),o=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):a(n,t)}},5656:(e,t,n)=>{var r=n(8361),o=n(4488);e.exports=function(e){return r(o(e))}},9958:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:(e,t,n)=>{var r=n(9958),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(4488);e.exports=function(e){return Object(r(e))}},7593:(e,t,n)=>{var r=n(111);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},1694:(e,t,n)=>{var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},9711:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:(e,t,n)=>{var r=n(5112);t.f=r},5112:(e,t,n)=>{var r=n(7854),o=n(2309),a=n(6656),i=n(9711),s=n(133),u=n(3307),l=o("wks"),c=r.Symbol,h=u?c:c&&c.withoutSetter||i;e.exports=function(e){return a(l,e)&&(s||"string"==typeof l[e])||(s&&a(c,e)?l[e]=c[e]:l[e]=h("Symbol."+e)),l[e]}},1361:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},2222:(e,t,n)=>{"use strict";var r=n(2109),o=n(7293),a=n(3157),i=n(111),s=n(7908),u=n(7466),l=n(6135),c=n(5417),h=n(1194),p=n(5112),d=n(7392),f=p("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",g=d>=51||!o((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),y=h("concat"),w=function(e){if(!i(e))return!1;var t=e[f];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!g||!y},{concat:function(e){var t,n,r,o,a,i=s(this),h=c(i,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(w(a=-1===t?i:arguments[t])){if(p+(o=u(a.length))>v)throw TypeError(m);for(n=0;n<o;n++,p++)n in a&&l(h,p,a[n])}else{if(p>=v)throw TypeError(m);l(h,p++,a)}return h.length=p,h}})},3290:(e,t,n)=>{var r=n(2109),o=n(1285),a=n(1223);r({target:"Array",proto:!0},{fill:o}),a("fill")},7327:(e,t,n)=>{"use strict";var r=n(2109),o=n(2092).filter;r({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:(e,t,n)=>{"use strict";var r=n(2109),o=n(2092).findIndex,a=n(1223),i="findIndex",s=!0;i in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(i)},9826:(e,t,n)=>{"use strict";var r=n(2109),o=n(2092).find,a=n(1223),i="find",s=!0;i in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(i)},6535:(e,t,n)=>{"use strict";var r=n(2109),o=n(6790),a=n(7908),i=n(7466),s=n(3099),u=n(5417);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=i(n.length);return s(e),(t=u(n,0)).length=o(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},4944:(e,t,n)=>{"use strict";var r=n(2109),o=n(6790),a=n(7908),i=n(7466),s=n(9958),u=n(5417);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=i(t.length),r=u(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:s(e)),r}})},1038:(e,t,n)=>{var r=n(2109),o=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:o})},6699:(e,t,n)=>{"use strict";var r=n(2109),o=n(1318).includes,a=n(1223);r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},2772:(e,t,n)=>{"use strict";var r=n(2109),o=n(1318).indexOf,a=n(9341),i=[].indexOf,s=!!i&&1/[1].indexOf(1,-0)<0,u=a("indexOf");r({target:"Array",proto:!0,forced:s||!u},{indexOf:function(e){return s?i.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},6992:(e,t,n)=>{"use strict";var r=n(5656),o=n(1223),a=n(7497),i=n(9909),s=n(654),u="Array Iterator",l=i.set,c=i.getterFor(u);e.exports=s(Array,"Array",(function(e,t){l(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},9600:(e,t,n)=>{"use strict";var r=n(2109),o=n(8361),a=n(5656),i=n(9341),s=[].join,u=o!=Object,l=i("join",",");r({target:"Array",proto:!0,forced:u||!l},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},1249:(e,t,n)=>{"use strict";var r=n(2109),o=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},5827:(e,t,n)=>{"use strict";var r=n(2109),o=n(3671).left,a=n(9341),i=n(7392),s=n(5268);r({target:"Array",proto:!0,forced:!a("reduce")||!s&&i>79&&i<83},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},5069:(e,t,n)=>{"use strict";var r=n(2109),o=n(3157),a=[].reverse,i=[1,2];r({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a.call(this)}})},7042:(e,t,n)=>{"use strict";var r=n(2109),o=n(111),a=n(3157),i=n(1400),s=n(7466),u=n(5656),l=n(6135),c=n(5112),h=n(1194)("slice"),p=c("species"),d=[].slice,f=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,c,h=u(this),v=s(h.length),m=i(e,v),g=i(void 0===t?v:t,v);if(a(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!a(n.prototype)?o(n)&&null===(n=n[p])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(h,m,g);for(r=new(void 0===n?Array:n)(f(g-m,0)),c=0;m<g;m++,c++)m in h&&l(r,c,h[m]);return r.length=c,r}})},2707:(e,t,n)=>{"use strict";var r=n(2109),o=n(3099),a=n(7908),i=n(7293),s=n(9341),u=[],l=u.sort,c=i((function(){u.sort(void 0)})),h=i((function(){u.sort(null)})),p=s("sort");r({target:"Array",proto:!0,forced:c||!h||!p},{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),o(e))}})},561:(e,t,n)=>{"use strict";var r=n(2109),o=n(1400),a=n(9958),i=n(7466),s=n(7908),u=n(5417),l=n(6135),c=n(1194)("splice"),h=Math.max,p=Math.min,d=9007199254740991,f="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!c},{splice:function(e,t){var n,r,c,v,m,g,y=s(this),w=i(y.length),b=o(e,w),S=arguments.length;if(0===S?n=r=0:1===S?(n=0,r=w-b):(n=S-2,r=p(h(a(t),0),w-b)),w+n-r>d)throw TypeError(f);for(c=u(y,r),v=0;v<r;v++)(m=b+v)in y&&l(c,v,y[m]);if(c.length=r,n<r){for(v=b;v<w-r;v++)g=v+n,(m=v+r)in y?y[g]=y[m]:delete y[g];for(v=w;v>w-r+n;v--)delete y[v-1]}else if(n>r)for(v=w-r;v>b;v--)g=v+n-1,(m=v+r-1)in y?y[g]=y[m]:delete y[g];for(v=0;v<n;v++)y[v+b]=arguments[v+2];return y.length=w-r+n,c}})},9244:(e,t,n)=>{n(1223)("flatMap")},5735:(e,t,n)=>{"use strict";var r=n(2109),o=n(7293),a=n(7908),i=n(7593);r({target:"Date",proto:!0,forced:o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},8309:(e,t,n)=>{var r=n(9781),o=n(3070).f,a=Function.prototype,i=a.toString,s=/^\s*function ([^ (]*)/,u="name";r&&!(u in a)&&o(a,u,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(e){return""}}})},5837:(e,t,n)=>{n(2109)({global:!0},{globalThis:n(7854)})},9653:(e,t,n)=>{"use strict";var r=n(9781),o=n(7854),a=n(4705),i=n(1320),s=n(6656),u=n(4326),l=n(9587),c=n(7593),h=n(7293),p=n(30),d=n(8006).f,f=n(1236).f,v=n(3070).f,m=n(3111).trim,g="Number",y=o.Number,w=y.prototype,b=u(p(w))==g,S=function(e){var t,n,r,o,a,i,s,u,l=c(e,!1);if("string"==typeof l&&l.length>2)if(43===(t=(l=m(l)).charCodeAt(0))||45===t){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(i=(a=l.slice(2)).length,s=0;s<i;s++)if((u=a.charCodeAt(s))<48||u>o)return NaN;return parseInt(a,r)}return+l};if(a(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var E,T=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof T&&(b?h((function(){w.valueOf.call(n)})):u(n)!=g)?l(new y(S(t)),n,T):S(t)},x=r?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;x.length>C;C++)s(y,E=x[C])&&!s(T,E)&&v(T,E,f(y,E));T.prototype=w,w.constructor=T,i(o,g,T)}},9601:(e,t,n)=>{var r=n(2109),o=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},5003:(e,t,n)=>{var r=n(2109),o=n(7293),a=n(5656),i=n(1236).f,s=n(9781),u=o((function(){i(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return i(a(e),t)}})},489:(e,t,n)=>{var r=n(2109),o=n(7293),a=n(7908),i=n(9518),s=n(8544);r({target:"Object",stat:!0,forced:o((function(){i(1)})),sham:!s},{getPrototypeOf:function(e){return i(a(e))}})},7941:(e,t,n)=>{var r=n(2109),o=n(7908),a=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){a(1)}))},{keys:function(e){return a(o(e))}})},1539:(e,t,n)=>{var r=n(1694),o=n(1320),a=n(288);r||o(Object.prototype,"toString",a,{unsafe:!0})},8674:(e,t,n)=>{"use strict";var r,o,a,i,s=n(2109),u=n(1913),l=n(7854),c=n(5005),h=n(3366),p=n(1320),d=n(2248),f=n(8003),v=n(6340),m=n(111),g=n(3099),y=n(5787),w=n(2788),b=n(408),S=n(7072),E=n(6707),T=n(261).set,x=n(5948),C=n(9478),k=n(842),M=n(8523),O=n(2534),A=n(9909),I=n(4705),L=n(5112),P=n(5268),j=n(7392),R=L("species"),D="Promise",N=A.get,H=A.set,_=A.getterFor(D),F=h,B=l.TypeError,G=l.document,U=l.process,J=c("fetch"),q=M.f,Y=q,W=!!(G&&G.createEvent&&l.dispatchEvent),V="function"==typeof PromiseRejectionEvent,z="unhandledrejection",$=I(D,(function(){if(!(w(F)!==String(F))){if(66===j)return!0;if(!P&&!V)return!0}if(u&&!F.prototype.finally)return!0;if(j>=51&&/native code/.test(F))return!1;var e=F.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[R]=t,!(e.then((function(){}))instanceof t)})),K=$||!S((function(e){F.all(e).catch((function(){}))})),X=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},Q=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;x((function(){for(var r=e.value,o=1==e.state,a=0;n.length>a;){var i,s,u,l=n[a++],c=o?l.ok:l.fail,h=l.resolve,p=l.reject,d=l.domain;try{c?(o||(2===e.rejection&&ne(e),e.rejection=1),!0===c?i=r:(d&&d.enter(),i=c(r),d&&(d.exit(),u=!0)),i===l.promise?p(B("Promise-chain cycle")):(s=X(i))?s.call(i,h,p):h(i)):p(r)}catch(e){d&&!u&&d.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ee(e)}))}},Z=function(e,t,n){var r,o;W?((r=G.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!V&&(o=l["on"+e])?o(r):e===z&&k("Unhandled promise rejection",n)},ee=function(e){T.call(l,(function(){var t,n=e.facade,r=e.value;if(te(e)&&(t=O((function(){P?U.emit("unhandledRejection",r,n):Z(z,n,r)})),e.rejection=P||te(e)?2:1,t.error))throw t.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e){T.call(l,(function(){var t=e.facade;P?U.emit("rejectionHandled",t):Z("rejectionhandled",t,e.value)}))},re=function(e,t,n){return function(r){e(t,r,n)}},oe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Q(e,!0))},ae=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw B("Promise can't be resolved itself");var r=X(t);r?x((function(){var n={done:!1};try{r.call(t,re(ae,n,e),re(oe,n,e))}catch(t){oe(n,t,e)}})):(e.value=t,e.state=1,Q(e,!1))}catch(t){oe({done:!1},t,e)}}};$&&(F=function(e){y(this,F,D),g(e),r.call(this);var t=N(this);try{e(re(ae,t),re(oe,t))}catch(e){oe(t,e)}},(r=function(e){H(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(F.prototype,{then:function(e,t){var n=_(this),r=q(E(this,F));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=P?U.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Q(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=N(e);this.promise=e,this.resolve=re(ae,t),this.reject=re(oe,t)},M.f=q=function(e){return e===F||e===a?new o(e):Y(e)},u||"function"!=typeof h||(i=h.prototype.then,p(h.prototype,"then",(function(e,t){var n=this;return new F((function(e,t){i.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof J&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(F,J.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:$},{Promise:F}),f(F,D,!1,!0),v(D),a=c(D),s({target:D,stat:!0,forced:$},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),s({target:D,stat:!0,forced:u||$},{resolve:function(e){return C(u&&this===a?F:this,e)}}),s({target:D,stat:!0,forced:K},{all:function(e){var t=this,n=q(t),r=n.resolve,o=n.reject,a=O((function(){var n=g(t.resolve),a=[],i=0,s=1;b(e,(function(e){var u=i++,l=!1;a.push(void 0),s++,n.call(t,e).then((function(e){l||(l=!0,a[u]=e,--s||r(a))}),o)})),--s||r(a)}));return a.error&&o(a.value),n.promise},race:function(e){var t=this,n=q(t),r=n.reject,o=O((function(){var o=g(t.resolve);b(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},2419:(e,t,n)=>{var r=n(2109),o=n(5005),a=n(3099),i=n(9670),s=n(111),u=n(30),l=n(7065),c=n(7293),h=o("Reflect","construct"),p=c((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),d=!c((function(){h((function(){}))})),f=p||d;r({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(e,t){a(e),i(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!p)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var o=n.prototype,c=u(s(o)?o:Object.prototype),f=Function.apply.call(e,c,t);return s(f)?f:c}})},4819:(e,t,n)=>{var r=n(2109),o=n(111),a=n(9670),i=n(6656),s=n(1236),u=n(9518);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,c=arguments.length<3?t:arguments[2];return a(t)===c?t[n]:(r=s.f(t,n))?i(r,"value")?r.value:void 0===r.get?void 0:r.get.call(c):o(l=u(t))?e(l,n,c):void 0}})},4916:(e,t,n)=>{"use strict";var r=n(2109),o=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},9714:(e,t,n)=>{"use strict";var r=n(1320),o=n(9670),a=n(7293),i=n(7066),s="toString",u=RegExp.prototype,l=u.toString,c=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),h=l.name!=s;(c||h)&&r(RegExp.prototype,s,(function(){var e=o(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in u)?i.call(e):n)}),{unsafe:!0})},2023:(e,t,n)=>{"use strict";var r=n(2109),o=n(3929),a=n(4488);r({target:"String",proto:!0,forced:!n(4964)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},8783:(e,t,n)=>{"use strict";var r=n(8710).charAt,o=n(9909),a=n(654),i="String Iterator",s=o.set,u=o.getterFor(i);a(String,"String",(function(e){s(this,{type:i,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},2481:(e,t,n)=>{n(2109)({target:"String",proto:!0},{repeat:n(8415)})},5306:(e,t,n)=>{"use strict";var r=n(7007),o=n(9670),a=n(7466),i=n(9958),s=n(4488),u=n(1530),l=n(647),c=n(7651),h=Math.max,p=Math.min;r("replace",2,(function(e,t,n,r){var d=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=r.REPLACE_KEEPS_$0,v=d?"$":"$0";return[function(n,r){var o=s(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!d&&f||"string"==typeof r&&-1===r.indexOf(v)){var s=n(t,e,this,r);if(s.done)return s.value}var m=o(e),g=String(this),y="function"==typeof r;y||(r=String(r));var w=m.global;if(w){var b=m.unicode;m.lastIndex=0}for(var S=[];;){var E=c(m,g);if(null===E)break;if(S.push(E),!w)break;""===String(E[0])&&(m.lastIndex=u(g,a(m.lastIndex),b))}for(var T,x="",C=0,k=0;k<S.length;k++){E=S[k];for(var M=String(E[0]),O=h(p(i(E.index),g.length),0),A=[],I=1;I<E.length;I++)A.push(void 0===(T=E[I])?T:String(T));var L=E.groups;if(y){var P=[M].concat(A,O,g);void 0!==L&&P.push(L);var j=String(r.apply(void 0,P))}else j=l(M,g,O,A,L,r);O>=C&&(x+=g.slice(C,O)+j,C=O+M.length)}return x+g.slice(C)}]}))},3123:(e,t,n)=>{"use strict";var r=n(7007),o=n(7850),a=n(9670),i=n(4488),s=n(6707),u=n(1530),l=n(7466),c=n(7651),h=n(2261),p=n(2999).UNSUPPORTED_Y,d=[].push,f=Math.min,v=4294967295;r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(i(this)),a=void 0===n?v:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,a);for(var s,u,l,c=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,m=new RegExp(e.source,p+"g");(s=h.call(m,r))&&!((u=m.lastIndex)>f&&(c.push(r.slice(f,s.index)),s.length>1&&s.index<r.length&&d.apply(c,s.slice(1)),l=s[0].length,f=u,c.length>=a));)m.lastIndex===s.index&&m.lastIndex++;return f===r.length?!l&&m.test("")||c.push(""):c.push(r.slice(f)),c.length>a?c.slice(0,a):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=i(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,o,n):r.call(String(o),t,n)},function(e,o){var i=n(r,e,this,o,r!==t);if(i.done)return i.value;var h=a(e),d=String(this),m=s(h,RegExp),g=h.unicode,y=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(p?"g":"y"),w=new m(p?"^(?:"+h.source+")":h,y),b=void 0===o?v:o>>>0;if(0===b)return[];if(0===d.length)return null===c(w,d)?[d]:[];for(var S=0,E=0,T=[];E<d.length;){w.lastIndex=p?0:E;var x,C=c(w,p?d.slice(E):d);if(null===C||(x=f(l(w.lastIndex+(p?E:0)),d.length))===S)E=u(d,E,g);else{if(T.push(d.slice(S,E)),T.length===b)return T;for(var k=1;k<=C.length-1;k++)if(T.push(C[k]),T.length===b)return T;E=S=x}}return T.push(d.slice(S)),T}]}),p)},6755:(e,t,n)=>{"use strict";var r,o=n(2109),a=n(1236).f,i=n(7466),s=n(3929),u=n(4488),l=n(4964),c=n(1913),h="".startsWith,p=Math.min,d=l("startsWith");o({target:"String",proto:!0,forced:!!(c||d||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!d},{startsWith:function(e){var t=String(u(this));s(e);var n=i(p(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return h?h.call(t,r,n):t.slice(n,n+r.length)===r}})},3210:(e,t,n)=>{"use strict";var r=n(2109),o=n(3111).trim;r({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return o(this)}})},1817:(e,t,n)=>{"use strict";var r=n(2109),o=n(9781),a=n(7854),i=n(6656),s=n(111),u=n(3070).f,l=n(9920),c=a.Symbol;if(o&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var h={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new c(e):void 0===e?c():c(e);return""===e&&(h[t]=!0),t};l(p,c);var d=p.prototype=c.prototype;d.constructor=p;var f=d.toString,v="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(i(h,e))return"";var n=v?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},2165:(e,t,n)=>{n(7235)("iterator")},2526:(e,t,n)=>{"use strict";var r=n(2109),o=n(7854),a=n(5005),i=n(1913),s=n(9781),u=n(133),l=n(3307),c=n(7293),h=n(6656),p=n(3157),d=n(111),f=n(9670),v=n(7908),m=n(5656),g=n(7593),y=n(9114),w=n(30),b=n(1956),S=n(8006),E=n(1156),T=n(5181),x=n(1236),C=n(3070),k=n(5296),M=n(8880),O=n(1320),A=n(2309),I=n(6200),L=n(3501),P=n(9711),j=n(5112),R=n(6061),D=n(7235),N=n(8003),H=n(9909),_=n(2092).forEach,F=I("hidden"),B="Symbol",G=j("toPrimitive"),U=H.set,J=H.getterFor(B),q=Object.prototype,Y=o.Symbol,W=a("JSON","stringify"),V=x.f,z=C.f,$=E.f,K=k.f,X=A("symbols"),Q=A("op-symbols"),Z=A("string-to-symbol-registry"),ee=A("symbol-to-string-registry"),te=A("wks"),ne=o.QObject,re=!ne||!ne.prototype||!ne.prototype.findChild,oe=s&&c((function(){return 7!=w(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=V(q,t);r&&delete q[t],z(e,t,n),r&&e!==q&&z(q,t,r)}:z,ae=function(e,t){var n=X[e]=w(Y.prototype);return U(n,{type:B,tag:e,description:t}),s||(n.description=t),n},ie=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Y},se=function(e,t,n){e===q&&se(Q,t,n),f(e);var r=g(t,!0);return f(n),h(X,r)?(n.enumerable?(h(e,F)&&e[F][r]&&(e[F][r]=!1),n=w(n,{enumerable:y(0,!1)})):(h(e,F)||z(e,F,y(1,{})),e[F][r]=!0),oe(e,r,n)):z(e,r,n)},ue=function(e,t){f(e);var n=m(t),r=b(n).concat(pe(n));return _(r,(function(t){s&&!le.call(n,t)||se(e,t,n[t])})),e},le=function(e){var t=g(e,!0),n=K.call(this,t);return!(this===q&&h(X,t)&&!h(Q,t))&&(!(n||!h(this,t)||!h(X,t)||h(this,F)&&this[F][t])||n)},ce=function(e,t){var n=m(e),r=g(t,!0);if(n!==q||!h(X,r)||h(Q,r)){var o=V(n,r);return!o||!h(X,r)||h(n,F)&&n[F][r]||(o.enumerable=!0),o}},he=function(e){var t=$(m(e)),n=[];return _(t,(function(e){h(X,e)||h(L,e)||n.push(e)})),n},pe=function(e){var t=e===q,n=$(t?Q:m(e)),r=[];return _(n,(function(e){!h(X,e)||t&&!h(q,e)||r.push(X[e])})),r};(u||(O((Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=P(e),n=function(e){this===q&&n.call(Q,e),h(this,F)&&h(this[F],t)&&(this[F][t]=!1),oe(this,t,y(1,e))};return s&&re&&oe(q,t,{configurable:!0,set:n}),ae(t,e)}).prototype,"toString",(function(){return J(this).tag})),O(Y,"withoutSetter",(function(e){return ae(P(e),e)})),k.f=le,C.f=se,x.f=ce,S.f=E.f=he,T.f=pe,R.f=function(e){return ae(j(e),e)},s&&(z(Y.prototype,"description",{configurable:!0,get:function(){return J(this).description}}),i||O(q,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Y}),_(b(te),(function(e){D(e)})),r({target:B,stat:!0,forced:!u},{for:function(e){var t=String(e);if(h(Z,t))return Z[t];var n=Y(t);return Z[t]=n,ee[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(h(ee,e))return ee[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(e,t){return void 0===t?w(e):ue(w(e),t)},defineProperty:se,defineProperties:ue,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:c((function(){T.f(1)}))},{getOwnPropertySymbols:function(e){return T.f(v(e))}}),W)&&r({target:"JSON",stat:!0,forced:!u||c((function(){var e=Y();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}))},{stringify:function(e,t,n){for(var r,o=[e],a=1;arguments.length>a;)o.push(arguments[a++]);if(r=t,(d(t)||void 0!==e)&&!ie(e))return p(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ie(t))return t}),o[1]=t,W.apply(null,o)}});Y.prototype[G]||M(Y.prototype,G,Y.prototype.valueOf),N(Y,B),L[F]=!0},4747:(e,t,n)=>{var r=n(7854),o=n(8324),a=n(8533),i=n(8880);for(var s in o){var u=r[s],l=u&&u.prototype;if(l&&l.forEach!==a)try{i(l,"forEach",a)}catch(e){l.forEach=a}}},3948:(e,t,n)=>{var r=n(7854),o=n(8324),a=n(6992),i=n(8880),s=n(5112),u=s("iterator"),l=s("toStringTag"),c=a.values;for(var h in o){var p=r[h],d=p&&p.prototype;if(d){if(d[u]!==c)try{i(d,u,c)}catch(e){d[u]=c}if(d[l]||i(d,l,h),o[h])for(var f in a)if(d[f]!==a[f])try{i(d,f,a[f])}catch(e){d[f]=a[f]}}}},1637:(e,t,n)=>{"use strict";n(6992);var r=n(2109),o=n(5005),a=n(590),i=n(1320),s=n(2248),u=n(8003),l=n(4994),c=n(9909),h=n(5787),p=n(6656),d=n(9974),f=n(648),v=n(9670),m=n(111),g=n(30),y=n(9114),w=n(8554),b=n(1246),S=n(5112),E=o("fetch"),T=o("Headers"),x=S("iterator"),C="URLSearchParams",k="URLSearchParamsIterator",M=c.set,O=c.getterFor(C),A=c.getterFor(k),I=/\+/g,L=Array(4),P=function(e){return L[e-1]||(L[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},j=function(e){try{return decodeURIComponent(e)}catch(t){return e}},R=function(e){var t=e.replace(I," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(P(n--),j);return t}},D=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},H=function(e){return N[e]},_=function(e){return encodeURIComponent(e).replace(D,H)},F=function(e,t){if(t)for(var n,r,o=t.split("&"),a=0;a<o.length;)(n=o[a++]).length&&(r=n.split("="),e.push({key:R(r.shift()),value:R(r.join("="))}))},B=function(e){this.entries.length=0,F(this.entries,e)},G=function(e,t){if(e<t)throw TypeError("Not enough arguments")},U=l((function(e,t){M(this,{type:k,iterator:w(O(e).entries),kind:t})}),"Iterator",(function(){var e=A(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),J=function(){h(this,J,C);var e,t,n,r,o,a,i,s,u,l=arguments.length>0?arguments[0]:void 0,c=this,d=[];if(M(c,{type:C,entries:d,updateURL:function(){},updateSearchParams:B}),void 0!==l)if(m(l))if("function"==typeof(e=b(l)))for(n=(t=e.call(l)).next;!(r=n.call(t)).done;){if((i=(a=(o=w(v(r.value))).next).call(o)).done||(s=a.call(o)).done||!a.call(o).done)throw TypeError("Expected sequence with length 2");d.push({key:i.value+"",value:s.value+""})}else for(u in l)p(l,u)&&d.push({key:u,value:l[u]+""});else F(d,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},q=J.prototype;s(q,{append:function(e,t){G(arguments.length,2);var n=O(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){G(arguments.length,1);for(var t=O(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){G(arguments.length,1);for(var t=O(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){G(arguments.length,1);for(var t=O(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){G(arguments.length,1);for(var t=O(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){G(arguments.length,1);for(var n,r=O(this),o=r.entries,a=!1,i=e+"",s=t+"",u=0;u<o.length;u++)(n=o[u]).key===i&&(a?o.splice(u--,1):(a=!0,n.value=s));a||o.push({key:i,value:s}),r.updateURL()},sort:function(){var e,t,n,r=O(this),o=r.entries,a=o.slice();for(o.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===n&&o.push(e)}r.updateURL()},forEach:function(e){for(var t,n=O(this).entries,r=d(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),i(q,x,q.entries),i(q,"toString",(function(){for(var e,t=O(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(_(e.key)+"="+_(e.value));return n.join("&")}),{enumerable:!0}),u(J,C),r({global:!0,forced:!a},{URLSearchParams:J}),a||"function"!=typeof E||"function"!=typeof T||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,o=[e];return arguments.length>1&&(m(t=arguments[1])&&(n=t.body,f(n)===C&&((r=t.headers?new T(t.headers):new T).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:y(0,String(n)),headers:y(0,r)}))),o.push(t)),E.apply(this,o)}}),e.exports={URLSearchParams:J,getState:O}},285:(e,t,n)=>{"use strict";n(8783);var r,o=n(2109),a=n(9781),i=n(590),s=n(7854),u=n(6048),l=n(1320),c=n(5787),h=n(6656),p=n(1574),d=n(8457),f=n(8710).codeAt,v=n(3197),m=n(8003),g=n(1637),y=n(9909),w=s.URL,b=g.URLSearchParams,S=g.getState,E=y.set,T=y.getterFor("URL"),x=Math.floor,C=Math.pow,k="Invalid scheme",M="Invalid host",O="Invalid port",A=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,L=/\d/,P=/^(0x|0X)/,j=/^[0-7]+$/,R=/^\d+$/,D=/^[\dA-Fa-f]+$/,N=/[\0\t\n\r #%/:?@[\\]]/,H=/[\0\t\n\r #/:?@[\\]]/,_=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\t\n\r]/g,B=function(e,t){var n,r,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return M;if(!(n=U(t.slice(1,-1))))return M;e.host=n}else if(K(e)){if(t=v(t),N.test(t))return M;if(null===(n=G(t)))return M;e.host=n}else{if(H.test(t))return M;for(n="",r=d(t),o=0;o<r.length;o++)n+=z(r[o],q);e.host=n}},G=function(e){var t,n,r,o,a,i,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=u[r]))return e;if(a=10,o.length>1&&"0"==o.charAt(0)&&(a=P.test(o)?16:8,o=o.slice(8==a?1:2)),""===o)i=0;else{if(!(10==a?R:8==a?j:D).test(o))return e;i=parseInt(o,a)}n.push(i)}for(r=0;r<t;r++)if(i=n[r],r==t-1){if(i>=C(256,5-t))return null}else if(i>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*C(256,3-r);return s},U=function(e){var t,n,r,o,a,i,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,h=0,p=function(){return e.charAt(h)};if(":"==p()){if(":"!=e.charAt(1))return;h+=2,c=++l}for(;p();){if(8==l)return;if(":"!=p()){for(t=n=0;n<4&&D.test(p());)t=16*t+parseInt(p(),16),h++,n++;if("."==p()){if(0==n)return;if(h-=n,l>6)return;for(r=0;p();){if(o=null,r>0){if(!("."==p()&&r<4))return;h++}if(!L.test(p()))return;for(;L.test(p());){if(a=parseInt(p(),10),null===o)o=a;else{if(0==o)return;o=10*o+a}if(o>255)return;h++}u[l]=256*u[l]+o,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==p()){if(h++,!p())return}else if(p())return;u[l++]=t}else{if(null!==c)return;h++,c=++l}}if(null!==c)for(i=l-c,l=7;0!=l&&i>0;)s=u[l],u[l--]=u[c+i-1],u[c+--i]=s;else if(8!=l)return;return u},J=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=x(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,a=0;a<8;a++)0!==e[a]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=a),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},q={},Y=p({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),W=p({},Y,{"#":1,"?":1,"{":1,"}":1}),V=p({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(e,t){var n=f(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(e){return h($,e.scheme)},X=function(e){return""!=e.username||""!=e.password},Q=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Z=function(e,t){var n;return 2==e.length&&A.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ee=function(e){var t;return e.length>1&&Z(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},te=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Z(t[0],!0)||t.pop()},ne=function(e){return"."===e||"%2e"===e.toLowerCase()},re={},oe={},ae={},ie={},se={},ue={},le={},ce={},he={},pe={},de={},fe={},ve={},me={},ge={},ye={},we={},be={},Se={},Ee={},Te={},xe=function(e,t,n,o){var a,i,s,u,l,c=n||re,p=0,f="",v=!1,m=!1,g=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(_,"")),t=t.replace(F,""),a=d(t);p<=a.length;){switch(i=a[p],c){case re:if(!i||!A.test(i)){if(n)return k;c=ae;continue}f+=i.toLowerCase(),c=oe;break;case oe:if(i&&(I.test(i)||"+"==i||"-"==i||"."==i))f+=i.toLowerCase();else{if(":"!=i){if(n)return k;f="",c=ae,p=0;continue}if(n&&(K(e)!=h($,f)||"file"==f&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(K(e)&&$[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?c=me:K(e)&&o&&o.scheme==e.scheme?c=ie:K(e)?c=ce:"/"==a[p+1]?(c=se,p++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Se)}break;case ae:if(!o||o.cannotBeABaseURL&&"#"!=i)return k;if(o.cannotBeABaseURL&&"#"==i){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,c=Te;break}c="file"==o.scheme?me:ue;continue;case ie:if("/"!=i||"/"!=a[p+1]){c=ue;continue}c=he,p++;break;case se:if("/"==i){c=pe;break}c=be;continue;case ue:if(e.scheme=o.scheme,i==r)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==i||"\\"==i&&K(e))c=le;else if("?"==i)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",c=Ee;else{if("#"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),c=be;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",c=Te}break;case le:if(!K(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,c=be;continue}c=pe}else c=he;break;case ce:if(c=he,"/"!=i||"/"!=f.charAt(p+1))continue;p++;break;case he:if("/"!=i&&"\\"!=i){c=pe;continue}break;case pe:if("@"==i){v&&(f="%40"+f),v=!0,s=d(f);for(var y=0;y<s.length;y++){var w=s[y];if(":"!=w||g){var b=z(w,V);g?e.password+=b:e.username+=b}else g=!0}f=""}else if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&K(e)){if(v&&""==f)return"Invalid authority";p-=d(f).length+1,f="",c=de}else f+=i;break;case de:case fe:if(n&&"file"==e.scheme){c=ye;continue}if(":"!=i||m){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&K(e)){if(K(e)&&""==f)return M;if(n&&""==f&&(X(e)||null!==e.port))return;if(u=B(e,f))return u;if(f="",c=we,n)return;continue}"["==i?m=!0:"]"==i&&(m=!1),f+=i}else{if(""==f)return M;if(u=B(e,f))return u;if(f="",c=ve,n==fe)return}break;case ve:if(!L.test(i)){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&K(e)||n){if(""!=f){var S=parseInt(f,10);if(S>65535)return O;e.port=K(e)&&S===$[e.scheme]?null:S,f=""}if(n)return;c=we;continue}return O}f+=i;break;case me:if(e.scheme="file","/"==i||"\\"==i)c=ge;else{if(!o||"file"!=o.scheme){c=be;continue}if(i==r)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==i)e.host=o.host,e.path=o.path.slice(),e.query="",c=Ee;else{if("#"!=i){ee(a.slice(p).join(""))||(e.host=o.host,e.path=o.path.slice(),te(e)),c=be;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",c=Te}}break;case ge:if("/"==i||"\\"==i){c=ye;break}o&&"file"==o.scheme&&!ee(a.slice(p).join(""))&&(Z(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),c=be;continue;case ye:if(i==r||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&Z(f))c=be;else if(""==f){if(e.host="",n)return;c=we}else{if(u=B(e,f))return u;if("localhost"==e.host&&(e.host=""),n)return;f="",c=we}continue}f+=i;break;case we:if(K(e)){if(c=be,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=r&&(c=be,"/"!=i))continue}else e.fragment="",c=Te;else e.query="",c=Ee;break;case be:if(i==r||"/"==i||"\\"==i&&K(e)||!n&&("?"==i||"#"==i)){if(".."===(l=(l=f).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(te(e),"/"==i||"\\"==i&&K(e)||e.path.push("")):ne(f)?"/"==i||"\\"==i&&K(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Z(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(i==r||"?"==i||"#"==i))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",c=Ee):"#"==i&&(e.fragment="",c=Te)}else f+=z(i,W);break;case Se:"?"==i?(e.query="",c=Ee):"#"==i?(e.fragment="",c=Te):i!=r&&(e.path[0]+=z(i,q));break;case Ee:n||"#"!=i?i!=r&&("'"==i&&K(e)?e.query+="%27":e.query+="#"==i?"%23":z(i,q)):(e.fragment="",c=Te);break;case Te:i!=r&&(e.fragment+=z(i,Y))}p++}},Ce=function(e){var t,n,r=c(this,Ce,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(e),s=E(r,{type:"URL"});if(void 0!==o)if(o instanceof Ce)t=T(o);else if(n=xe(t={},String(o)))throw TypeError(n);if(n=xe(s,i,null,t))throw TypeError(n);var u=s.searchParams=new b,l=S(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},a||(r.href=Me.call(r),r.origin=Oe.call(r),r.protocol=Ae.call(r),r.username=Ie.call(r),r.password=Le.call(r),r.host=Pe.call(r),r.hostname=je.call(r),r.port=Re.call(r),r.pathname=De.call(r),r.search=Ne.call(r),r.searchParams=He.call(r),r.hash=_e.call(r))},ke=Ce.prototype,Me=function(){var e=T(this),t=e.scheme,n=e.username,r=e.password,o=e.host,a=e.port,i=e.path,s=e.query,u=e.fragment,l=t+":";return null!==o?(l+="//",X(e)&&(l+=n+(r?":"+r:"")+"@"),l+=J(o),null!==a&&(l+=":"+a)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?i[0]:i.length?"/"+i.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Oe=function(){var e=T(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Ce(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&K(e)?t+"://"+J(e.host)+(null!==n?":"+n:""):"null"},Ae=function(){return T(this).scheme+":"},Ie=function(){return T(this).username},Le=function(){return T(this).password},Pe=function(){var e=T(this),t=e.host,n=e.port;return null===t?"":null===n?J(t):J(t)+":"+n},je=function(){var e=T(this).host;return null===e?"":J(e)},Re=function(){var e=T(this).port;return null===e?"":String(e)},De=function(){var e=T(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ne=function(){var e=T(this).query;return e?"?"+e:""},He=function(){return T(this).searchParams},_e=function(){var e=T(this).fragment;return e?"#"+e:""},Fe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&u(ke,{href:Fe(Me,(function(e){var t=T(this),n=String(e),r=xe(t,n);if(r)throw TypeError(r);S(t.searchParams).updateSearchParams(t.query)})),origin:Fe(Oe),protocol:Fe(Ae,(function(e){var t=T(this);xe(t,String(e)+":",re)})),username:Fe(Ie,(function(e){var t=T(this),n=d(String(e));if(!Q(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=z(n[r],V)}})),password:Fe(Le,(function(e){var t=T(this),n=d(String(e));if(!Q(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=z(n[r],V)}})),host:Fe(Pe,(function(e){var t=T(this);t.cannotBeABaseURL||xe(t,String(e),de)})),hostname:Fe(je,(function(e){var t=T(this);t.cannotBeABaseURL||xe(t,String(e),fe)})),port:Fe(Re,(function(e){var t=T(this);Q(t)||(""==(e=String(e))?t.port=null:xe(t,e,ve))})),pathname:Fe(De,(function(e){var t=T(this);t.cannotBeABaseURL||(t.path=[],xe(t,e+"",we))})),search:Fe(Ne,(function(e){var t=T(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",xe(t,e,Ee)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:Fe(He),hash:Fe(_e,(function(e){var t=T(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",xe(t,e,Te)):t.fragment=null}))}),l(ke,"toJSON",(function(){return Me.call(this)}),{enumerable:!0}),l(ke,"toString",(function(){return Me.call(this)}),{enumerable:!0}),w){var Be=w.createObjectURL,Ge=w.revokeObjectURL;Be&&l(Ce,"createObjectURL",(function(e){return Be.apply(w,arguments)})),Ge&&l(Ce,"revokeObjectURL",(function(e){return Ge.apply(w,arguments)}))}m(Ce,"URL"),o({global:!0,forced:!i,sham:!a},{URL:Ce})},3753:(e,t,n)=>{"use strict";n(2109)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},8010:()=>{var e;!function(e){"use strict";var t=function(){function e(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(e.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){this._dropEffect=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(e){this._effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),e.prototype.clearData=function(e){null!=e?delete this._data[e]:this._data=null},e.prototype.getData=function(e){return this._data[e]||""},e.prototype.setData=function(e,t){this._data[e]=t},e.prototype.setDragImage=function(e,t,r){var o=n._instance;o._imgCustom=e,o._imgOffset={x:t,y:r}},e}();e.DataTransfer=t;var n=function(){function e(){if(this._lastClick=0,e._instance)throw"DragDropTouch instance already created.";var t=!1;if(document.addEventListener("test",(function(){}),{get passive(){return t=!0,!0}}),"ontouchstart"in document){var n=document,r=this._touchstart.bind(this),o=this._touchmove.bind(this),a=this._touchend.bind(this),i=!!t&&{passive:!1,capture:!1};n.addEventListener("touchstart",r,i),n.addEventListener("touchmove",o,i),n.addEventListener("touchend",a),n.addEventListener("touchcancel",a)}}return e.getInstance=function(){return e._instance},e.prototype._touchstart=function(t){var n=this;if(this._shouldHandle(t)){if(Date.now()-this._lastClick<e._DBLCLICK&&this._dispatchEvent(t,"dblclick",t.target))return t.cancelable&&t.preventDefault(),void this._reset();this._reset();var r=this._closestDraggable(t.target);r&&(this._dispatchEvent(t,"mousemove",t.target)||this._dispatchEvent(t,"mousedown",t.target)||(this._dragSource=r,this._ptDown=this._getPoint(t),this._lastTouch=t,t.cancelable&&t.preventDefault(),setTimeout((function(){n._dragSource==r&&null==n._img&&n._dispatchEvent(t,"contextmenu",r)&&n._reset()}),e._CTXMENU),e._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout((function(){n._isDragEnabled=!0,n._touchmove(t)}),e._PRESSHOLDAWAIT))))}},e.prototype._touchmove=function(e){if(this._shouldCancelPressHoldMove(e))this._reset();else if(this._shouldHandleMove(e)||this._shouldHandlePressHoldMove(e)){var t=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",t))return this._lastTouch=e,void(e.cancelable&&e.preventDefault());this._dragSource&&!this._img&&this._shouldStartDragging(e)&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",t)),this._img&&(this._lastTouch=e,e.cancelable&&e.preventDefault(),t!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",t),this._lastTarget=t),this._moveImage(e),this._isDropZone=this._dispatchEvent(e,"dragover",t))}},e.prototype._touchend=function(e){if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target))return void(e.cancelable&&e.preventDefault());this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(e.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},e.prototype._shouldHandle=function(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2},e.prototype._shouldHandleMove=function(t){return!e._ISPRESSHOLDMODE&&this._shouldHandle(t)},e.prototype._shouldHandlePressHoldMove=function(t){return e._ISPRESSHOLDMODE&&this._isDragEnabled&&t&&t.touches&&t.touches.length},e.prototype._shouldCancelPressHoldMove=function(t){return e._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(t)>e._PRESSHOLDMARGIN},e.prototype._shouldStartDragging=function(t){var n=this._getDelta(t);return n>e._THRESHOLD||e._ISPRESSHOLDMODE&&n>=e._PRESSHOLDTHRESHOLD},e.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new t,clearInterval(this._pressHoldInterval)},e.prototype._getPoint=function(e,t){return e&&e.touches&&(e=e.touches[0]),{x:t?e.pageX:e.clientX,y:t?e.pageY:e.clientY}},e.prototype._getDelta=function(t){if(e._ISPRESSHOLDMODE&&!this._ptDown)return 0;var n=this._getPoint(t);return Math.abs(n.x-this._ptDown.x)+Math.abs(n.y-this._ptDown.y)},e.prototype._getTarget=function(e){for(var t=this._getPoint(e),n=document.elementFromPoint(t.x,t.y);n&&"none"==getComputedStyle(n).pointerEvents;)n=n.parentElement;return n},e.prototype._createImage=function(t){this._img&&this._destroyImage();var n=this._imgCustom||this._dragSource;if(this._img=n.cloneNode(!0),this._copyStyle(n,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var r=n.getBoundingClientRect(),o=this._getPoint(t);this._imgOffset={x:o.x-r.left,y:o.y-r.top},this._img.style.opacity=e._OPACITY.toString()}this._moveImage(t),document.body.appendChild(this._img)},e.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},e.prototype._moveImage=function(e){var t=this;requestAnimationFrame((function(){if(t._img){var n=t._getPoint(e,!0),r=t._img.style;r.position="absolute",r.pointerEvents="none",r.zIndex="999999",r.left=Math.round(n.x-t._imgOffset.x)+"px",r.top=Math.round(n.y-t._imgOffset.y)+"px"}}))},e.prototype._copyProps=function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r];e[o]=t[o]}},e.prototype._copyStyle=function(t,n){if(e._rmvAtts.forEach((function(e){n.removeAttribute(e)})),t instanceof HTMLCanvasElement){var r=t,o=n;o.width=r.width,o.height=r.height,o.getContext("2d").drawImage(r,0,0)}for(var a=getComputedStyle(t),i=0;i<a.length;i++){var s=a[i];s.indexOf("transition")<0&&(n.style[s]=a[s])}n.style.pointerEvents="none";for(i=0;i<t.children.length;i++)this._copyStyle(t.children[i],n.children[i])},e.prototype._dispatchEvent=function(t,n,r){if(t&&r){var o=document.createEvent("Event"),a=t.touches?t.touches[0]:t;return o.initEvent(n,!0,!0),o.button=0,o.which=o.buttons=1,this._copyProps(o,t,e._kbdProps),this._copyProps(o,a,e._ptProps),o.dataTransfer=this._dataTransfer,r.dispatchEvent(o),o.defaultPrevented}return!1},e.prototype._closestDraggable=function(e){for(;e;e=e.parentElement)if(e.hasAttribute("draggable")&&e.draggable)return e;return null},e}();n._instance=new n,n._THRESHOLD=5,n._OPACITY=.5,n._DBLCLICK=500,n._CTXMENU=900,n._ISPRESSHOLDMODE=!1,n._PRESSHOLDAWAIT=400,n._PRESSHOLDMARGIN=25,n._PRESSHOLDTHRESHOLD=0,n._rmvAtts="id,class,style,draggable".split(","),n._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),n._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),e.DragDropTouch=n}(e||(e={}))},6192:(e,t)=>{var n,r,o,a=function(){var e=function(e,t){var n=e,r=c[t],o=null,a=0,i=null,s=[],u={},l=function(e,t){o=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var r=0;r<e;r+=1)t[n][r]=null}return t}(a=4*n+17),h(0,0),h(a-7,0),h(0,a-7),d(),p(),v(e,t),n>=7&&f(e),null==i&&(i=g(n,r,s)),m(i,t)},h=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||a<=e+n))for(var r=-1;r<=7;r+=1)t+r<=-1||a<=t+r||(o[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},p=function(){for(var e=8;e<a-8;e+=1)null==o[e][6]&&(o[e][6]=e%2==0);for(var t=8;t<a-8;t+=1)null==o[6][t]&&(o[6][t]=t%2==0)},d=function(){for(var e=w.getPatternPosition(n),t=0;t<e.length;t+=1)for(var r=0;r<e.length;r+=1){var a=e[t],i=e[r];if(null==o[a][i])for(var s=-2;s<=2;s+=1)for(var u=-2;u<=2;u+=1)o[a+s][i+u]=-2==s||2==s||-2==u||2==u||0==s&&0==u}},f=function(e){for(var t=w.getBCHTypeNumber(n),r=0;r<18;r+=1){var i=!e&&1==(t>>r&1);o[Math.floor(r/3)][r%3+a-8-3]=i}for(r=0;r<18;r+=1){i=!e&&1==(t>>r&1);o[r%3+a-8-3][Math.floor(r/3)]=i}},v=function(e,t){for(var n=r<<3|t,i=w.getBCHTypeInfo(n),s=0;s<15;s+=1){var u=!e&&1==(i>>s&1);s<6?o[s][8]=u:s<8?o[s+1][8]=u:o[a-15+s][8]=u}for(s=0;s<15;s+=1){u=!e&&1==(i>>s&1);s<8?o[8][a-s-1]=u:s<9?o[8][15-s-1+1]=u:o[8][15-s-1]=u}o[a-8][8]=!e},m=function(e,t){for(var n=-1,r=a-1,i=7,s=0,u=w.getMaskFunction(t),l=a-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var c=0;c<2;c+=1)if(null==o[r][l-c]){var h=!1;s<e.length&&(h=1==(e[s]>>>i&1)),u(r,l-c)&&(h=!h),o[r][l-c]=h,-1==(i-=1)&&(s+=1,i=7)}if((r+=n)<0||a<=r){r-=n,n=-n;break}}},g=function(e,t,n){for(var r=E.getRSBlocks(e,t),o=T(),a=0;a<n.length;a+=1){var i=n[a];o.put(i.getMode(),4),o.put(i.getLength(),w.getLengthInBits(i.getMode(),e)),i.write(o)}var s=0;for(a=0;a<r.length;a+=1)s+=r[a].dataCount;if(o.getLengthInBits()>8*s)throw"code length overflow. ("+o.getLengthInBits()+">"+8*s+")";for(o.getLengthInBits()+4<=8*s&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*s||(o.put(236,8),o.getLengthInBits()>=8*s));)o.put(17,8);return function(e,t){for(var n=0,r=0,o=0,a=new Array(t.length),i=new Array(t.length),s=0;s<t.length;s+=1){var u=t[s].dataCount,l=t[s].totalCount-u;r=Math.max(r,u),o=Math.max(o,l),a[s]=new Array(u);for(var c=0;c<a[s].length;c+=1)a[s][c]=255&e.getBuffer()[c+n];n+=u;var h=w.getErrorCorrectPolynomial(l),p=S(a[s],h.getLength()-1).mod(h);for(i[s]=new Array(h.getLength()-1),c=0;c<i[s].length;c+=1){var d=c+p.getLength()-i[s].length;i[s][c]=d>=0?p.getAt(d):0}}var f=0;for(c=0;c<t.length;c+=1)f+=t[c].totalCount;var v=new Array(f),m=0;for(c=0;c<r;c+=1)for(s=0;s<t.length;s+=1)c<a[s].length&&(v[m]=a[s][c],m+=1);for(c=0;c<o;c+=1)for(s=0;s<t.length;s+=1)c<i[s].length&&(v[m]=i[s][c],m+=1);return v}(o,r)};u.addData=function(e,t){var n=null;switch(t=t||"Byte"){case"Numeric":n=x(e);break;case"Alphanumeric":n=C(e);break;case"Byte":n=k(e);break;case"Kanji":n=M(e);break;default:throw"mode:"+t}s.push(n),i=null},u.isDark=function(e,t){if(e<0||a<=e||t<0||a<=t)throw e+","+t;return o[e][t]},u.getModuleCount=function(){return a},u.make=function(){if(n<1){for(var e=1;e<40;e++){for(var t=E.getRSBlocks(e,r),o=T(),a=0;a<s.length;a++){var i=s[a];o.put(i.getMode(),4),o.put(i.getLength(),w.getLengthInBits(i.getMode(),e)),i.write(o)}var c=0;for(a=0;a<t.length;a++)c+=t[a].dataCount;if(o.getLengthInBits()<=8*c)break}n=e}l(!1,function(){for(var e=0,t=0,n=0;n<8;n+=1){l(!0,n);var r=w.getLostPoint(u);(0==n||e>r)&&(e=r,t=n)}return t}())},u.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",n+='">',n+="<tbody>";for(var r=0;r<u.getModuleCount();r+=1){n+="<tr>";for(var o=0;o<u.getModuleCount();o+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=u.isDark(r,o)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},u.createSvgTag=function(e,t,n,r){var o={};"object"==typeof arguments[0]&&(e=(o=arguments[0]).cellSize,t=o.margin,n=o.alt,r=o.title),e=e||2,t=void 0===t?4*e:t,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-title":null;var a,i,s,l,c=u.getModuleCount()*e+2*t,h="";for(l="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",h+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',h+=o.scalable?"":' width="'+c+'px" height="'+c+'px"',h+=' viewBox="0 0 '+c+" "+c+'" ',h+=' preserveAspectRatio="xMinYMin meet"',h+=r.text||n.text?' role="img" aria-labelledby="'+y([r.id,n.id].join(" ").trim())+'"':"",h+=">",h+=r.text?'<title id="'+y(r.id)+'">'+y(r.text)+"</title>":"",h+=n.text?'<description id="'+y(n.id)+'">'+y(n.text)+"</description>":"",h+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',h+='<path d="',i=0;i<u.getModuleCount();i+=1)for(s=i*e+t,a=0;a<u.getModuleCount();a+=1)u.isDark(i,a)&&(h+="M"+(a*e+t)+","+s+l);return h+='" stroke="transparent" fill="black"/>',h+="</svg>"},u.createDataURL=function(e,t){e=e||2,t=void 0===t?4*e:t;var n=u.getModuleCount()*e+2*t,r=t,o=n-t;return I(n,n,(function(t,n){if(r<=t&&t<o&&r<=n&&n<o){var a=Math.floor((t-r)/e),i=Math.floor((n-r)/e);return u.isDark(i,a)?0:1}return 1}))},u.createImgTag=function(e,t,n){e=e||2,t=void 0===t?4*e:t;var r=u.getModuleCount()*e+2*t,o="";return o+="<img",o+=' src="',o+=u.createDataURL(e,t),o+='"',o+=' width="',o+=r,o+='"',o+=' height="',o+=r,o+='"',n&&(o+=' alt="',o+=y(n),o+='"'),o+="/>"};var y=function(e){for(var t="",n=0;n<e.length;n+=1){var r=e.charAt(n);switch(r){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=r}}return t};return u.createASCII=function(e,t){if((e=e||1)<2)return function(e){e=void 0===e?2:e;var t,n,r,o,a,i=1*u.getModuleCount()+2*e,s=e,l=i-e,c={"":""," ":""," ":"","  ":" "},h={"":""," ":""," ":" ","  ":" "},p="";for(t=0;t<i;t+=2){for(r=Math.floor((t-s)/1),o=Math.floor((t+1-s)/1),n=0;n<i;n+=1)a="",s<=n&&n<l&&s<=t&&t<l&&u.isDark(r,Math.floor((n-s)/1))&&(a=" "),s<=n&&n<l&&s<=t+1&&t+1<l&&u.isDark(o,Math.floor((n-s)/1))?a+=" ":a+="",p+=e<1&&t+1>=l?h[a]:c[a];p+="\n"}return i%2&&e>0?p.substring(0,p.length-i-1)+Array(i+1).join(""):p.substring(0,p.length-1)}(t);e-=1,t=void 0===t?2*e:t;var n,r,o,a,i=u.getModuleCount()*e+2*t,s=t,l=i-t,c=Array(e+1).join(""),h=Array(e+1).join("  "),p="",d="";for(n=0;n<i;n+=1){for(o=Math.floor((n-s)/e),d="",r=0;r<i;r+=1)a=1,s<=r&&r<l&&s<=n&&n<l&&u.isDark(o,Math.floor((r-s)/e))&&(a=0),d+=a?c:h;for(o=0;o<e;o+=1)p+=d+"\n"}return p.substring(0,p.length-1)},u.renderTo2dContext=function(e,t){t=t||2;for(var n=u.getModuleCount(),r=0;r<n;r++)for(var o=0;o<n;o++)e.fillStyle=u.isDark(r,o)?"black":"white",e.fillRect(r*t,o*t,t,t)},u};e.stringToBytes=(e.stringToBytesFuncs={default:function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t.push(255&r)}return t}}).default,e.createStringToBytes=function(e,t){var n=function(){for(var n=A(e),r=function(){var e=n.read();if(-1==e)throw"eof";return e},o=0,a={};;){var i=n.read();if(-1==i)break;var s=r(),u=r()<<8|r();a[String.fromCharCode(i<<8|s)]=u,o+=1}if(o!=t)throw o+" != "+t;return a}(),r="?".charCodeAt(0);return function(e){for(var t=[],o=0;o<e.length;o+=1){var a=e.charCodeAt(o);if(a<128)t.push(a);else{var i=n[e.charAt(o)];"number"==typeof i?(255&i)==i?t.push(i):(t.push(i>>>8),t.push(255&i)):t.push(r)}}return t}};var t,n,r,o,a,i=1,s=2,u=4,l=8,c={L:1,M:0,Q:3,H:2},h=0,p=1,d=2,f=3,v=4,m=5,g=6,y=7,w=(t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,r=7973,a=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t},(o={}).getBCHTypeInfo=function(e){for(var t=e<<10;a(t)-a(n)>=0;)t^=n<<a(t)-a(n);return 21522^(e<<10|t)},o.getBCHTypeNumber=function(e){for(var t=e<<12;a(t)-a(r)>=0;)t^=r<<a(t)-a(r);return e<<12|t},o.getPatternPosition=function(e){return t[e-1]},o.getMaskFunction=function(e){switch(e){case h:return function(e,t){return(e+t)%2==0};case p:return function(e,t){return e%2==0};case d:return function(e,t){return t%3==0};case f:return function(e,t){return(e+t)%3==0};case v:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case m:return function(e,t){return e*t%2+e*t%3==0};case g:return function(e,t){return(e*t%2+e*t%3)%2==0};case y:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},o.getErrorCorrectPolynomial=function(e){for(var t=S([1],0),n=0;n<e;n+=1)t=t.multiply(S([1,b.gexp(n)],0));return t},o.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case i:return 10;case s:return 9;case u:case l:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case i:return 12;case s:return 11;case u:return 16;case l:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case i:return 14;case s:return 13;case u:return 16;case l:return 12;default:throw"mode:"+e}}},o.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r+=1)for(var o=0;o<t;o+=1){for(var a=0,i=e.isDark(r,o),s=-1;s<=1;s+=1)if(!(r+s<0||t<=r+s))for(var u=-1;u<=1;u+=1)o+u<0||t<=o+u||0==s&&0==u||i==e.isDark(r+s,o+u)&&(a+=1);a>5&&(n+=3+a-5)}for(r=0;r<t-1;r+=1)for(o=0;o<t-1;o+=1){var l=0;e.isDark(r,o)&&(l+=1),e.isDark(r+1,o)&&(l+=1),e.isDark(r,o+1)&&(l+=1),e.isDark(r+1,o+1)&&(l+=1),0!=l&&4!=l||(n+=3)}for(r=0;r<t;r+=1)for(o=0;o<t-6;o+=1)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(o=0;o<t;o+=1)for(r=0;r<t-6;r+=1)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);var c=0;for(o=0;o<t;o+=1)for(r=0;r<t;r+=1)e.isDark(r,o)&&(c+=1);return n+=Math.abs(100*c/t/t-50)/5*10},o),b=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;var r={glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}};return r}();function S(e,t){if(void 0===e.length)throw e.length+"/"+t;var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var r=new Array(e.length-n+t),o=0;o<e.length-n;o+=1)r[o]=e[o+n];return r}(),r={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(r.getLength()+e.getLength()-1),n=0;n<r.getLength();n+=1)for(var o=0;o<e.getLength();o+=1)t[n+o]^=b.gexp(b.glog(r.getAt(n))+b.glog(e.getAt(o)));return S(t,0)},mod:function(e){if(r.getLength()-e.getLength()<0)return r;for(var t=b.glog(r.getAt(0))-b.glog(e.getAt(0)),n=new Array(r.getLength()),o=0;o<r.getLength();o+=1)n[o]=r.getAt(o);for(o=0;o<e.getLength();o+=1)n[o]^=b.gexp(b.glog(e.getAt(o))+t);return S(n,0).mod(e)}};return r}var E=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},n={};return n.getRSBlocks=function(n,r){var o=function(t,n){switch(n){case c.L:return e[4*(t-1)+0];case c.M:return e[4*(t-1)+1];case c.Q:return e[4*(t-1)+2];case c.H:return e[4*(t-1)+3];default:return}}(n,r);if(void 0===o)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;for(var a=o.length/3,i=[],s=0;s<a;s+=1)for(var u=o[3*s+0],l=o[3*s+1],h=o[3*s+2],p=0;p<u;p+=1)i.push(t(l,h));return i},n}(),T=function(){var e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var r=0;r<t;r+=1)n.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return t},putBit:function(n){var r=Math.floor(t/8);e.length<=r&&e.push(0),n&&(e[r]|=128>>>t%8),t+=1}};return n},x=function(e){var t=i,n=e,r={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,r=0;r+2<t.length;)e.put(o(t.substring(r,r+3)),10),r+=3;r<t.length&&(t.length-r==1?e.put(o(t.substring(r,r+1)),4):t.length-r==2&&e.put(o(t.substring(r,r+2)),7))}},o=function(e){for(var t=0,n=0;n<e.length;n+=1)t=10*t+a(e.charAt(n));return t},a=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return r},C=function(e){var t=s,n=e,r={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,r=0;r+1<t.length;)e.put(45*o(t.charAt(r))+o(t.charAt(r+1)),11),r+=2;r<t.length&&e.put(o(t.charAt(r)),6)}},o=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return r},k=function(t){var n=u,r=e.stringToBytes(t),o={getMode:function(){return n},getLength:function(e){return r.length},write:function(e){for(var t=0;t<r.length;t+=1)e.put(r[t],8)}};return o},M=function(t){var n=l,r=e.stringToBytesFuncs.SJIS;if(!r)throw"sjis not supported.";!function(e,t){var n=r("");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported."}();var o=r(t),a={getMode:function(){return n},getLength:function(e){return~~(o.length/2)},write:function(e){for(var t=o,n=0;n+1<t.length;){var r=(255&t[n])<<8|255&t[n+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(n+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}};return a},O=function(){var e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,r){n=n||0,r=r||e.length;for(var o=0;o<r;o+=1)t.writeByte(e[o+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+="]"}};return t},A=function(e){var t=e,n=0,r=0,o=0,a={read:function(){for(;o<8;){if(n>=t.length){if(0==o)return-1;throw"unexpected end of file./"+o}var e=t.charAt(n);if(n+=1,"="==e)return o=0,-1;e.match(/^\s$/)||(r=r<<6|i(e.charCodeAt(0)),o+=6)}var a=r>>>o-8&255;return o-=8,a}},i=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return a},I=function(e,t,n){for(var r=function(e,t){var n=e,r=t,o=new Array(e*t),a={setPixel:function(e,t,r){o[t*n+e]=r},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(r),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(r),e.writeByte(0);var t=i(2);e.writeByte(2);for(var o=0;t.length-o>255;)e.writeByte(255),e.writeBytes(t,o,255),o+=255;e.writeByte(t.length-o),e.writeBytes(t,o,t.length-o),e.writeByte(0),e.writeString(";")}},i=function(e){for(var t=1<<e,n=1+(1<<e),r=e+1,a=s(),i=0;i<t;i+=1)a.add(String.fromCharCode(i));a.add(String.fromCharCode(t)),a.add(String.fromCharCode(n));var u,l,c,h=O(),p=(u=h,l=0,c=0,{write:function(e,t){if(e>>>t!=0)throw"length over";for(;l+t>=8;)u.writeByte(255&(e<<l|c)),t-=8-l,e>>>=8-l,c=0,l=0;c|=e<<l,l+=t},flush:function(){l>0&&u.writeByte(c)}});p.write(t,r);var d=0,f=String.fromCharCode(o[d]);for(d+=1;d<o.length;){var v=String.fromCharCode(o[d]);d+=1,a.contains(f+v)?f+=v:(p.write(a.indexOf(f),r),a.size()<4095&&(a.size()==1<<r&&(r+=1),a.add(f+v)),f=v)}return p.write(a.indexOf(f),r),p.write(n,r),p.flush(),h.toByteArray()},s=function(){var e={},t=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;e[r]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return a}(e,t),o=0;o<t;o+=1)for(var a=0;a<e;a+=1)r.setPixel(a,o,n(a,o));var i=O();r.write(i);for(var s=function(){var e=0,t=0,n=0,r="",o={},a=function(e){r+=String.fromCharCode(i(63&e))},i=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return o.writeByte=function(r){for(e=e<<8|255&r,t+=8,n+=1;t>=6;)a(e>>>t-6),t-=6},o.flush=function(){if(t>0&&(a(e<<6-t),e=0,t=0),n%3!=0)for(var o=3-n%3,i=0;i<o;i+=1)r+="="},o.toString=function(){return r},o}(),u=i.toByteArray(),l=0;l<u.length;l+=1)s.writeByte(u[l]);return s.flush(),"data:image/gif;base64,"+s};return e}();a.stringToBytesFuncs["UTF-8"]=function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t}(e)},r=[],void 0===(o="function"==typeof(n=function(){return a})?n.apply(t,r):n)||(e.exports=o)},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r=h;return function(o,a){if(r===d)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw a;return I()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=C(i,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?f:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=f,n.method="throw",n.arg=u.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",f="completed",v={};function m(){}function g(){}function y(){}var w={};w[a]=function(){return this};var b=Object.getPrototypeOf,S=b&&b(b(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var E=y.prototype=m.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(o,a,i,s){var u=c(e[o],e,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(h).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=c(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:I}}function I(){return{value:t,done:!0}}return g.prototype=E.constructor=y,y.constructor=g,g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},T(x.prototype),x.prototype[i]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new x(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},T(E),u(E,s,"Generator"),E[a]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},7905:(e,t,n)=>{"use strict";var r=256,o=[],a=void 0===n.g?window:n.g,i=Math.pow(r,6),s=Math.pow(2,52),u=2*s,l=255,c=Math.random;function h(e){var t,n=e.length,o=this,a=0,i=o.i=o.j=0,s=o.S=[];for(n||(e=[n++]);a<r;)s[a]=a++;for(a=0;a<r;a++)s[a]=s[i=l&i+e[a%n]+(t=s[a])],s[i]=t;(o.g=function(e){for(var t,n=0,a=o.i,i=o.j,s=o.S;e--;)t=s[a=l&a+1],n=n*r+s[l&(s[a]=s[i=l&i+t])+(s[i]=t)];return o.i=a,o.j=i,n})(r)}function p(e,t){var n,r=[],o=(typeof e)[0];if(t&&"o"==o)for(n in e)try{r.push(p(e[n],t-1))}catch(e){}return r.length?r:"s"==o?e:e+"\0"}function d(e,t){for(var n,r=e+"",o=0;o<r.length;)t[l&o]=l&(n^=19*t[l&o])+r.charCodeAt(o++);return v(t)}function f(e){try{return a.crypto.getRandomValues(e=new Uint8Array(r)),v(e)}catch(e){return[+new Date,a,a.navigator&&a.navigator.plugins,a.screen,v(o)]}}function v(e){return String.fromCharCode.apply(0,e)}e.exports=function(t,n){if(n&&!0===n.global)return n.global=!1,Math.random=e.exports(t,n),n.global=!0,Math.random;var a=n&&n.entropy||!1,l=[],c=(d(p(a?[t,v(o)]:0 in arguments?t:f(),3),l),new h(l));return d(v(c.S),o),function(){for(var e=c.g(6),t=i,n=0;e<s;)e=(e+n)*r,t*=r,n=c.g(1);for(;e>=u;)e/=2,t/=2,n>>>=1;return(e+n)/t}},e.exports.resetGlobal=function(){Math.random=c},d(Math.random(),o)},5301:(e,t,n)=>{var r={"./GameBoard.js":4696,"./Hand.js":2169,"./Hand/getClearHandDoubles.js":9064,"./Hand/isCalling.js":6527,"./Hand/isMahjong.js":5867,"./Hand/score.js":839,"./Hand/scoreAmerican.js":2300,"./Hand/scoreChinese.js":2734,"./Hand/syncContents.js":974,"./Match.js":9458,"./Popups.js":4376,"./Pretty.js":4810,"./RoomManager.js":2342,"./RoomManager/SettingsMenu.js":7537,"./SaveManager.js":7576,"./Sequence.js":7793,"./StateManager.js":3642,"./Tile.js":2946,"./TileContainer.js":502,"./Wall.js":6212,"./addFacebookMessenger.js":4616,"./configureInAppRatings.js":5220,"./index.js":2352,"./universalLinks.js":819};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=5301}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);n(2352)})();
//# sourceMappingURL=index.js.map