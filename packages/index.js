(()=>{var e={463:(e,t,n)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=i(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},o.apply(this,arguments)}function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}n(489),n(1539),n(2419),n(4819),n(5003),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var p=n(927),d=n(6663),v=function(e){"use strict";!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,a,i=u(l);function l(e,t){var n,a,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=i.call(this,e,t),a=c(n),o=!0,(r="isBot")in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o,n}return t=l,(n=[{key:"message",value:function(e,t,n){this.suppressed||(this.websocket&&o(h(l.prototype),"message",this).call(this,e,t,n),d.call(this,{type:e,message:t,status:n}))}}])&&r(t.prototype,n),a&&r(t,a),l}(p);e.exports=v},4497:(e,t,n)=>{n(1249),n(3753),n(7327),n(1539),n(7042),n(4553),n(561),n(4747),n(2222),n(9826);var a=n(2946),r=(n(2169),n(9458),n(4810),n(502),n(2976)),o=n(7905);e.exports=function(e){var t,n,i,s,u,l,c,h=e.botConfig,p=this.getRoom();if(!1!==p.inGame){var d=p.gameData,v=d.playerHands[this.clientId];if(!d.currentTurn.turnChoices[this.clientId]){var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;e instanceof Array||(e=[e]),p.onPlace({mahjong:t||void 0,swapJoker:!0,type:"roomActionPlaceTiles",message:e=e.map((function(e){return e.toJSON()}))},this.clientId)}.bind(this),m={botDifficulty:null!==(t=h.botDifficulty)&&void 0!==t?t:p.state.settings.americanBotDifficulty};m.cardPercentage=2*Math.pow(50,m.botDifficulty/100),m.maxAnalysisRounds=1/0,m.botDifficulty<100&&(m.maxAnalysisRounds=Math.max(1,100*Math.pow(.7,100-m.botDifficulty))),m.averageAnalyzedCharlestonTiles=3-1.5*(100-m.botDifficulty)/100;var y=this._cardToUse,g=this.clientId+p.state.seed;if(!y||y.seed!==g){y=d.card.combos;if(m.cardPercentage=m.cardPercentage/Math.max(1,y.length/1e3),m.cardPercentage<100){var w=o(g);y=y.filter((function(e,t){return!t||100*w()<m.cardPercentage}))}y.seed=g,this._cardToUse=y,setTimeout(function(){delete this._cardToUse}.bind(this),36e5)}var b=g+(null==p||null===(n=p.gameData)||void 0===n||null===(i=n.wall)||void 0===i||null===(s=i.readFirst())||void 0===s?void 0:s.getTileName()),E=o(b),S=Math.floor(m.averageAnalyzedCharlestonTiles+E()),T=r.getTileDifferential(y,v.contents),x=null===(u=this.getRoom())||void 0===u||null===(l=u.state)||void 0===l||null===(c=l.settings)||void 0===c?void 0:c.ignoreBotMahjong;if(d.charleston){var k=d.charleston.directions[0][0];if(k.blind)f(j(T,S,!0));else if(k.allAgree&&j(T,3,!0).length<3)f([]);else{var C=[];for(j(T,S,!0).forEach((function(e){C.push(e),v.remove(e)}));C.length<3;){var M=v.contents[Math.floor(E()*v.contents.length)];"joker"!==M.type&&(C.push(M),v.remove(M))}C.forEach((function(e){v.add(e)})),f(C)}}else if(d.currentTurn.userTurn===this.clientId){var O,A,I;if((null===(O=T[0])||void 0===O||null===(A=O.notUsed)||void 0===A?void 0:A.length)>0){var P=j(T,1);f(P)}else if(0===(null===(I=T[0])||void 0===I?void 0:I.diff)&&(f([],!0),1)&&!x);else if(console.error("Initiating emergency pick. Either bot hand appears dead, or Mahjong was ignored. "),!v.contents.some((function(e){if(e instanceof a)return f(e),!0})))throw"Bot was unable to choose a discard tile. "}else if(d.currentTurn.thrown){if("joker"===d.currentTurn.thrown.type)return f([]);var D=r.getTileDifferential(y,v.contents.concat(d.currentTurn.thrown));if(!D[0])return console.error("Error: Bot Hand is Dead. This should be debugged. Initiating fallback proceed"),void f([]);if(D.some((function(e){if(e.weightedDiff<T[0].weightedDiff){if(e.handOption.concealed&&0!==e.diff)return;var t=e.handOption.tiles.find((function(e){if(e[0].matches(d.currentTurn.thrown))return!0}));if(t){var n=[];if(v.contents.forEach((function(e){n.length!==t.length-1&&t[0].matches(e)&&n.push(e)})),t.length>2){var a,r=null!==(a=e.handOption.maxJokers)&&void 0!==a?a:1/0;if(r!==1/0&&(r-=v.calculateJokerAmount(!0)),v.contents.forEach((function(e){n.length!==t.length-1&&"joker"===e.type&&(n.push(e),r--)})),n.length===t.length-1&&r>=0)return f(n.concat(d.currentTurn.thrown),0===D[0].diff),!0}else if(0===e.diff)if(n.length===t.length-1){if(f(n.concat(d.currentTurn.thrown),!0),!x)return!0;console.log("MAHJJ!!")}else console.warn("Continuing Needs Mahjong")}else console.warn(d.currentTurn.thrown,v.contents,T[0],e),console.warn("Something odd happened, probably in sorting, causing a match not including the thrown tile to be provided. ")}})))return;f([])}}}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=Math.max(1,t);var a=e[0].notUsed.slice(0);n&&(a=a.filter((function(e){return"joker"!==e.type})));e:for(var r=0;r<e.length;r++)for(var o=e[r],i=function(e){if(a.length<=t)return s=e,"break|analysisLoop";if(e>m.maxAnalysisRounds)return s=e,"break|analysisLoop";var n=a[e];-1===("joker"===n.type?-1:o.notUsed.findIndex((function(t){return s=e,t.matches(n)})))&&(a.splice(e,1),e--),s=e},s=0;s<a.length;s++){var u=i(s);if("break|analysisLoop"===u)break e}for(;t<a.length;)a.splice(Math.floor(E()*a.length),1);return a}}},5681:(e,t,n)=>{function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(1249),n(3753),n(7327),n(1539),n(9601),n(4747),n(6699),n(2707),n(7941),n(2222),n(3290),n(7042),n(5827),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038),n(8309),n(4916);var o=n(2946),i=n(2169),s=n(9458),u=n(4810),l=n(7905),c=n(1652);e.exports=function(){var e,t,n,r=this.getRoom();if(!1!==r.inGame){var h=r.gameData,p=h.playerHands[this.clientId];if(!h.currentTurn.turnChoices[this.clientId]){var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.isMahjong(r.state.settings.maximumSequences);"string"==typeof e||e instanceof Array||(e=[e]),"string"!=typeof e&&(e=e.map((function(e){return e.toJSON()}))),r.onPlace({mahjong:t||void 0,type:"roomActionPlaceTiles",message:e},this.clientId)}.bind(this);if(p.isMahjong(r.state.settings.maximumSequences))return d();var v=this.clientId+r.state.seed+(null==r||null===(e=r.gameData)||void 0===e||null===(t=e.wall)||void 0===t||null===(n=t.readFirst())||void 0===n?void 0:n.getTileName()),f=l(v);if(h.charleston)d(T());else if(h.currentTurn.userTurn===this.clientId){var m=S(p.contents,p.wind,{chooseSecondarySuit:!1,looseTileCost:5});if("east"===p.wind&&r.state.settings.charleston.length>0&&!1!==h.charleston&&r.state.settings.botSettings.canCharleston){var y=["circle","character","bamboo","honor"].map((function(e){var t;return(null===(t=m[e])||void 0===t?void 0:t.value)||0}));d(Math.max.apply(Math,a(y))>55?m.strategy.throw:T())}else d(m.strategy.throw)}else if(h.currentTurn.thrown){p.add(h.currentTurn.thrown);var g=p.isMahjong(r.state.settings.maximumSequences),w=h.currentTurn.thrown;if(g)return console.log("Naked Mahjong"),p.remove(h.currentTurn.thrown),d([h.currentTurn.thrown],g);if(p.removeMatchingTilesFromHand(w,4,!0))return p.remove(h.currentTurn.thrown),d(new Array(4).fill(h.currentTurn.thrown),g);if(p.removeMatchingTilesFromHand(w,3,!0))return p.remove(h.currentTurn.thrown),d(new Array(3).fill(h.currentTurn.thrown),g);if(g&&p.removeMatchingTilesFromHand(w,2,!0))return p.remove(h.currentTurn.thrown),d(new Array(2).fill(h.currentTurn.thrown),g);if(r.state.settings.pickupDiscardForDraw){var b=r.gameData.playerHands[r.gameData.currentTurn.userTurn].wind;if(1===c(p.wind,b)){var E=S(p.contents,p.wind,{chooseSecondarySuit:!1,looseTileCost:5});if(h.currentTurn.thrown.type===E.strategy.suit)return p.remove(h.currentTurn.thrown),void d("Claim")}}p.remove(h.currentTurn.thrown),d([])}}}function S(e,t){var n,a,r=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=e.filter((function(e){return!(e instanceof u)}));var c={looseTileCost:5,possibleDoubleRatio:.4,chooseSecondarySuit:!1,charleston:!1};Object.assign(c,l);var h={};function p(e){return e.forEach((function(e){e instanceof o&&(e.sortValue=f()),e.sortValue=e.amount})),e.sort((function(e,t){return e.sortValue-t.sortValue})),e.forEach((function(e){delete e.sortValue})),e=e.filter((function(e){return!(!e.isGenerated&&e instanceof s)}))}e.forEach((function(e){var t=e.type;["wind","dragon"].includes(e.type)&&(t="honor"),h[t]=h[t]||[],h[t].push(e)}));var d=function(e){var n=h[e],a=new i;a.contents=n.slice(0);for(var u=function(e){var t=a.contents[e];if(!(t instanceof o))return l=e,"continue";[4,3,2].forEach(function(n){if(a.removeMatchingTilesFromHand(t,n)){e--;var r=new s({amount:n,type:t.type,value:t.value,exposed:!1});r.isGenerated=!0,a.contents.push(r)}}.bind(r)),l=e},l=0;l<a.contents.length;l++)u(l);var d=a.contents.reduce((function(e,n){return e.weight+=c.looseTileCost*(n.amount||1),n.isDouble(t)?e.valueMult+=1:n.isDouble(t,!0)&&(Math.round(e.valueMult)===e.valueMult?e.valueMult+=c.possibleDoubleRatio:e.valueMult+=1),2===n.amount?e.value+=10:3===n.amount?e.value+=25:4===n.amount&&(e.value+=40),e}),{weight:0,value:0,valueMult:0});d.value*=Math.pow(2,d.valueMult),delete d.valueMult,Object.assign(d,{tiles:n,contents:a.contents}),d.contents=p(d.contents),h[e]=d};for(var v in h)d(v);var m=Object.assign({},h);delete m.honor;var y={honors:!1},g=Object.keys(m);if(g.length>1&&(y.honors=!0),1===g.length)y.suit=g[0],y.throwSuit=g[0];else{var w=[];for(var b in m)0!==m[b].contents.length&&w.push([b,m[b].value+m[b].weight]);0!==w.length?(y.results=w,w.sort((function(e,t){return t[1]-e[1]})),y.suit=w[0][0],y.throwSuit=w[w.length-1][0],c.chooseSecondarySuit&&3===w.length&&(y.throwSuit=w[1][0])):(y.suit="honor",y.throwSuit="honor")}for(var E in"honor"!==y.suit&&h.honor&&h.honor.value+h.honor.weight>m[y.suit].value/2&&(y.honors=!0),y.throwSuit===y.suit&&!1===y.honors&&(y.throwSuit="honor"),y.throw=null===(n=h[y.throwSuit])||void 0===n||null===(a=n.contents)||void 0===a?void 0:a[0],h.tiles=[],h.contents=[],h)h[E].tiles&&(h.tiles=h.tiles.concat(h[E].tiles),h.contents=h.contents.concat(h[E].contents));return y.throw||(console.warn("WARNING: A throw was not found through normal measures. Picking tile to avoid crash. "),h.contents=p(h.contents),y.throw=h.contents[0]),y.throw instanceof s&&(y.throw=y.throw.getComponentTile()),!1===c.charleston&&h.contents.forEach((function(e){4===e.amount&&(y.throw=new Array(4).fill(e.getComponentTile()))})),h.strategy=y,h}function T(){for(var e=[],t=0;t<3;t++){var n=S(p.contents,p.wind,{chooseSecondarySuit:Boolean(t%2),looseTileCost:2,charleston:!0}).strategy;p.removeMatchingTile(n.throw),e.push(n.throw)}return e.forEach((function(e){p.add(e)})),e}}},6663:(e,t,n)=>{n(2222),n(6699),n(2023);var a=n(5681),r=n(4497);e.exports=function(e){var t=e.type,n=e.message,o=e.status,i=e.botConfig,s=void 0===i?{}:i;if("roomActionState"===t){var u,l,c,h,p,d,v,f,m,y,g,w;if(null!==(u=this.getRoom())&&void 0!==u&&null!==(l=u.gameData)&&void 0!==l&&l.isMahjong||null!==(c=this.getRoom())&&void 0!==c&&null!==(h=c.gameData)&&void 0!==h&&null!==(p=h.wall)&&void 0!==p&&p.isEmpty)return;var b=null===(d=this.getRoom())||void 0===d||null===(v=d.gameData)||void 0===v||null===(f=v.currentTurn)||void 0===f||null===(m=f.turnChoices)||void 0===m?void 0:m[this.clientId],E=null===(y=this.getRoom())||void 0===y||null===(g=y.gameData)||void 0===g||null===(w=g.playerHands)||void 0===w?void 0:w[this.clientId];try{var S,T,x;"american"===(null===(S=this.getRoom())||void 0===S||null===(T=S.state)||void 0===T||null===(x=T.settings)||void 0===x?void 0:x.gameStyle)?r.call(this,{botConfig:s}):a.call(this,{botConfig:s})}catch(e){b&&(this.getRoom().gameData.currentTurn.turnChoices[this.clientId]=b),E&&(this.getRoom().gameData.playerHands[this.clientId]=E),console.log("FATAL BOT ERROR: "+e),console.log(e.stack),this.getRoom().messageAll([this.clientId],"displayMessage",{title:"Bot Error",body:"".concat(this.getNickname(),' has encountered an error. You can manually control the bot <a target="_blank" href="#clientId=').concat(this.clientId,'">here</a>. ')})}}"error"===o&&n.includes&&!n.includes("higher priority placement")&&(this.getRoom().messageAll([this.clientId],"displayMessage",{title:"Bot Error",body:"".concat(this.getNickname(),' has received an error message. If it is not functioning, you can manually control the bot <a target="_blank" href="#clientId=').concat(this.clientId,'">here</a>. ')}),console.error("Bot received an error message",n))}},927:(e,t,n)=>{function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r;n(7042),n(5837),n(9600),n(8309),n(7327),n(1539),n(1249),n(4747),n(3753),n(5827),n(9653),n(3210),n(6699),n(2023);var o=function(){"use strict";function e(t,n){var a,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=!1,(r="suppressed")in(a=this)?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o,this.clientId=t,this.nickname=t.slice(0,7),this.websocket=n,this.clearMessageHistory()}var t,o,i;return t=e,o=[{key:"message",value:function(e,t,a){if("roomActionGameplayAlert"===e&&this.addMessageToHistory(t),"roomActionStartGame"===e&&this.clearMessageHistory(),!this.suppressed){if(globalThis.runBotClientAutoPlay){var r,o;try{r=n(4044),o=n(3418)}catch(e){console.warn(e)}if(this.lastSent||(this.lastSent=Date.now()),null!=t&&t.isGameOver){var i;if(this.getRoom().logFileSaveId===this.lastSaveId)return;this.lastSaveId=this.getRoom().logFileSaveId,this.games||(this.games=[]);var s={tilesLeft:null!==(i=t.wallTiles.length)&&void 0!==i?i:t.wallTiles,mahjongPlayer:1===t.isGameOver?t.currentTurn.userTurn:void 0,runTime:Date.now()-this.startedLastGame};console.error(s),this.games.push(s);var u=s.mahjongPlayer===this.clientId;s.weWon=u;var l=o.join(globalThis.serverStateManager.serverDataDirectory,"../guaranteed",this.getRoom().gameData.card.name);if(r.existsSync(l)||r.mkdirSync(l,{recursive:!0}),u){var c=n(2976).getTileDifferential(this.getRoom().gameData.card,this.getRoom().gameData.playerHands[this.clientId].contents);s.analysis=c;var h=s.analysis.filter((function(e){return 0===e.diff}));h=h.map((function(e){return{section:e.handOption.section,index:e.handOption.cardIndex+1}})),s.cards=h,s.cards.forEach((function(e){var t=o.join(l,e.section,String(e.index));r.existsSync(t)||r.mkdirSync(t,{recursive:!0});for(var n=1;;n++){var a=o.join(t,n+".server.json");if(!r.existsSync(a)){r.writeFileSync(a,globalThis.serverStateManager.toJSON());break}}}))}var p=o.join(l,"log.txt");r.appendFileSync(p,"Game: "+(this.games.length-1)+"\n"),r.appendFileSync(p,"Average Runtime: "+this.games.slice(1).reduce((function(e,t){return e+t.runTime}),0)/(this.games.length-1)+"\n"),r.appendFileSync(p,"Win Percentage: "+this.games.slice(1).reduce((function(e,t){return e+Number(t.weWon)}),0)/(this.games.length-1)+"\n"),r.appendFileSync(p,"Any Win Percentage: "+this.games.slice(1).reduce((function(e,t){return e+Number(!!t.mahjongPlayer)}),0)/(this.games.length-1)+"\n"),this.games.length>(globalThis.simulatedGamesToRun||500)?console.error(this.games):(this.startedLastGame=Date.now(),setTimeout(function(){this.endGame({}),this.startGame({type:"roomActionStartGame",settings:this.state.settings})}.bind(this.getRoom()),300))}else{if("roomActionState"===e){if(Math.random()<1&&this.getRoom().inGame&&Date.now()-this.lastSent<5e3);else if(console.log("Sent"),this.lastSent=Date.now(),this.websocket)try{return this.websocket.send(JSON.stringify({type:e,message:t,status:a}))}catch(e){console.error(e)}return n(6663).call(this,{type:e,message:t,status:a,botConfig:{botDifficulty:100}})}if("roomActionGameplayAlert"===e)return}}if(this.websocket)try{return this.websocket.send(JSON.stringify({type:e,message:t,status:a}))}catch(e){console.error(e)}}}},{key:"clearMessageHistory",value:function(){this.messageHistory=[],this.messageHistory.push({message:"Game Started",move:0})}},{key:"addMessageToHistory",value:function(e){var t,n,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.messageHistory.push({message:e,move:(null==this||null===(t=this.getRoom())||void 0===t||null===(n=t.state)||void 0===n||null===(a=n.moves)||void 0===a?void 0:a.length)+r})}},{key:"setWebsocket",value:function(e){this.websocket=e}},{key:"setNickname",value:function(e){e.trim()&&(this.nickname=e.slice(0,14))}},{key:"getNickname",value:function(){return this.nickname}},{key:"suppress",value:function(){this.suppressed=!0}},{key:"unsuppress",value:function(){this.suppressed=!1}},{key:"setRoomId",value:function(e){this.roomId=e}},{key:"getRoomId",value:function(){var e=globalThis.serverStateManager.getRoom(this.roomId);if(e&&e.clientIds.includes(this.clientId))return this.roomId}},{key:"getRoom",value:function(){return globalThis.serverStateManager.getRoom(this.getRoomId())}},{key:"delete",value:function(e){try{this.websocket.close(1e3)}catch(e){}globalThis.serverStateManager.deleteClient(this.clientId)}},{key:"toJSON",value:function(){var e={clientId:this.clientId,nickname:this.nickname,roomId:this.roomId,isBot:this.isBot};return JSON.stringify(e)}}],i=[{key:"fromJSON",value:function(t){var a,o=JSON.parse(t);return o.isBot?(r||(r=n(463)),a=new r(o.clientId)):a=new e(o.clientId),a.setNickname(o.nickname),a.setRoomId(o.roomId),a}}],o&&a(t.prototype,o),i&&a(t,i),e}();e.exports=o},8258:(e,t,n)=>{function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n(1539),n(4747),n(6699),n(2023),n(5837),n(7042),n(2772),n(9653),n(2222),n(9826),n(4553),n(561),n(4916),n(5306),n(5827),n(3123),n(3210),n(1249),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038),n(8309);n(6212);var s=n(2169),u=n(2946),l=n(9458),c=(n(4810),n(7793)),h=n(502),p=function(){"use strict";function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.state=i,this.roomId=this.state.roomId=t,this.state.settings=this.state.settings||{},console.log(i),this.clientIds=this.state.clientIds=this.state.clientIds||[],this.inGame=!1,this.gameData={},this.setInstructions=function(e,t){var n;null!=this&&null!==(n=this.gameData)&&void 0!==n&&n.instructions||(this.gameData.instructions={}),this.gameData.instructions[e]=t}.bind(this),this.setAllInstructions=function(e,t){var n=this;this.clientIds.forEach((function(a){e.includes(a)||n.setInstructions(a,t)}))}.bind(this),Object.defineProperty(this,"hostClientId",{set:function(e){r=e,this.state.hostClientId=e},get:function(){return r}}),this.hostClientId=this.state.hostClientId,this.state.moves=this.state.moves||[];var p=function(){var e=this;if(this.state.seed){console.time("Loading Room State... "),this.clientIds.forEach(function(t){var n=globalThis.serverStateManager.getClient(t);n.suppress(),void 0===n.getRoomId()&&n.setRoomId(e.roomId)}.bind(this));var t=this.state.moves.slice(0);this.startGame({type:"roomActionStartGame",settings:this.state.settings}),console.log(t),t.forEach((function(t){e.onPlace.apply(e,a(t))})),this.clientIds.forEach((function(e){globalThis.serverStateManager.getClient(e).unsuppress()})),this.sendStateToClients(),delete this.init,console.timeEnd("Loading Room State... ")}}.bind(this);this.init=p,this.startGame=n(3449).bind(this),this.addBot=n(8312).bind(this),this.onIncomingMessage=n(4116).bind(this),this.getSummary=n(4403).bind(this),this.turnChoicesProxyHandler={set:n(5392).bind(this)},this.getState=n(7203).bind(this),this.removeClient=n(7571).bind(this),this.drawTile=n(3945).bind(this),this.goMahjong=n(8308).bind(this),this.shouldRotateWinds=!0,this.rotateWinds=function(){var e=["north","east","south","west"].reverse();for(var t in this.state.settings.windAssignments){var n=this.state.settings.windAssignments[t];this.state.settings.windAssignments[t]=e[(e.indexOf(n)+1)%4]}},this.revertState=function(t,n){if(n=Number(n),isNaN(n)||n<0)return t.message("roomActionGameplayAlert","Revert Error: Invalid Revert turnNumber","success");this.messageAll([],"roomActionGameplayAlert","".concat(t.getNickname()," reverted to move ").concat(n," (").concat(this.state.moves.length-1-n," moves)")),this.messageAll([],"roomActionRevertState"),globalThis.serverStateManager.deleteRoom(this.roomId),this.state.moves=this.state.moves.slice(0,n);var a=new e(this.roomId,this.state);globalThis.serverStateManager.createRoom(this.roomId,a),a.init()}.bind(this),this.sendStateToClients=function(){var e=this;this.clientIds.forEach((function(t){var n=globalThis.serverStateManager.getClient(t),a=e.getState(t);n.message("roomActionState",a,"success")}))}.bind(this),this.addClient=function(e){var t=globalThis.serverStateManager.getClient(e);return this.clientIds.includes(e)?t.message("joinRoom","Already In Room","error"):(t.setRoomId(this.roomId),t.message("joinRoom",this.roomId,"success"),this.hostClientId||(this.hostClientId=e),this.clientIds.push(e),this.sendStateToClients(),!0)}.bind(this),this.messageAll=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];this.clientIds.forEach((function(t){if(!e.includes(t)){var a=globalThis.serverStateManager.getClient(t);a.message.apply(a,n)}}))}.bind(this),this.endGame=function(e,t){var n="The Game Has Ended";t&&(n="The game has been ended by "+globalThis.serverStateManager.getClient(t).getNickname()+".");this.shouldRotateWinds&&this.rotateWinds(),this.shouldRotateWinds=!0,this.inGame=!1,delete this.state.seed,delete this.state.wall,this.state.moves=[],this.gameData={},this.messageAll([t],e.type,n,"success"),this.sendStateToClients()}.bind(this);var d=!1,v=!1;this.onPlace=function(e,t){var n=this,a=[e,t];if(this.state.moves.push(a),this.logFile)try{this.logFile.write(JSON.stringify(a)+"\n")}catch(e){console.error("ERROR WRITING TO ROOM LOGFILE: ",e)}var r=globalThis.serverStateManager.getClient(t),o=this.gameData.playerHands[t];if(this.gameData.isMahjong)return r.message("displayMessage",{title:"Mahjong!",body:this.lastSummary});if(this.gameData.wall.isEmpty)return r.message("displayMessage",{title:"Game Over - Wall Empty",body:this.lastSummary});if(!o)return r.message("displayMessage",{title:"Access Denied",body:"You are Spectating. "});var i=null==e?void 0:e.message;try{if("Claim"===i)return void(this.gameData.currentTurn.turnChoices[t]=i);if(i=s.convertStringsToTiles(i),this.state.settings.charleston.length>0&&void 0===this.gameData.charleston&&1!==i.length&&4!==i.length&&"east"===o.wind)if(3===i.length){this.gameData.charleston={directions:this.state.settings.charleston.slice(0)};var p=this.gameData.charleston.directions[0][0].direction;this.setAllInstructions([],"Welcome to the Charleston. Select 3 tiles you would like to pass "+p+", then hit Proceed. ","success"),this.messageAll([t],"roomActionGameplayAlert","The first Charleston pass is "+p,"success")}else{if(!e.mahjong)return r.message(e.type,"The very first throw must be either 1 tile, to initiate the game, or 3 tiles, to initiate charleston. ","error");e.mahjong&&(i=void 0)}else if(this.gameData.charleston);else if(i.length>1)if("american"===this.state.settings.gameStyle)i=new h({tiles:i});else if(l.isValidMatch(i))i=new l({exposed:!0,amount:i.length,type:i[0].type,value:i[0].value});else{if(!c.isValidSequence(i))return 2===i.length?r.message(e.type,"Your two selected tiles do not match, sequences require 3 tiles, and discards are a single tile. Please review your selected tiles.","error"):r.message(e.type,"Your selected tiles do not form a sequence or match, and discards are a single tile. Please review your selected tiles. ","error");i=new c({exposed:!0,tiles:i})}else i=i[0],this.gameData.charleston=this.gameData.charleston||!1}catch(t){return r.message(e.type,"Error: "+t.message,"error")}if(i instanceof Array){if(this.gameData.currentTurn.turnChoices[t])return r.message(e.type,"You have already passed tiles for this charleston round. ","error");this.gameData.currentTurn.turnChoices[t]=i,this.sendStateToClients()}else if(!1===this.gameData.currentTurn.thrown||void 0===this.gameData.currentTurn.thrown){if(t!==this.gameData.currentTurn.userTurn)return r.message(e.type,"Can't place after draw before throw","error");if(i instanceof u){if(e.mahjong)return r.message(e.type,"You can't discard and go mahjong. ","error");if(!o.removeMatchingTilesFromHand(i))return r.message(e.type,"You can't place a tile you do not possess - try reloading the page or restarting the app","error");if(o.contents.some(function(e){return e instanceof l&&e.type===i.type&&e.value===i.value&&(e.amount=4,n.drawTile(t),!0)}.bind(this)))return this.messageAll([t],"roomActionGameplayAlert",r.getNickname()+" has upgraded an exposed pong into a kong. ",{clientId:t,speech:"Make that a kong",durationMultiplier:1.1}),void this.sendStateToClients();if(e.swapJoker){var f;if(!0===e.swapJoker)f=[t].concat(this.clientIds);else{if(-1===this.clientIds.indexOf(e.swapJoker))return r.message(e.type,"Unable to identify which player you want to swap with. ","error");f=[e.swapJoker]}var m=f.some((function(e){return n.gameData.playerHands[e].contents.some((function(e){if(e.exposed){var t=e.tiles.find((function(e){return"joker"!==e.type})),n=e.tiles.findIndex((function(e){return"joker"===e.type}));if(-1!==n&&t.matches(i))return o.add(e.tiles[n]),e.tiles.splice(n,1),e.tiles.push(i),!0}}))}));if(m)return r.message("roomActionGameplayAlert","Successfully Swapped",{clientId:t,speech:"Swapped",durationMultiplier:.5}),this.messageAll([t],"roomActionGameplayAlert",r.getNickname()+" swapped a "+i.getTileName(this.state.settings.gameStyle)+" for a joker",{clientId:t,speech:"Swap",durationMultiplier:1}),this.sendStateToClients();if(!0!==e.swapJoker)return o.add(i),r.message(e.type,"Could not find a joker to swap with. ","error")}if(!e.swapJoker||!0===e.swapJoker){var y=i.getTileName(this.state.settings.gameStyle),g=" threw a "+y,w=1;this.state.settings.checkForCalling&&!o.calling&&o.isCalling(this.gameData.discardPile,this.state.settings.maximumSequences)&&(o.calling=!0,g+=", and is calling",w=1.5),this.gameData.currentTurn.thrown=i,delete this.lastDrawn,this.gameData.currentTurn.turnChoices[t]="Next",d=!1,this.messageAll([t],"roomActionGameplayAlert",r.getNickname()+g,{clientId:t,speech:y,durationMultiplier:w,optional:!o.calling}),this.setAllInstructions([t],r.getNickname()+g+". To skip, press Proceed. To claim this tile, select the tiles you are placing it with, and press Proceed (or Mahjong if this tile makes you Mahjong). "),r.addMessageToHistory("You"+g.replace("is","are")),this.sendStateToClients()}}else{if(i instanceof l&&4===i.amount){if(e.mahjong)return r.message(e.type,"You can't go mahjong while placing a kong. ","error");if(o.removeMatchingTilesFromHand(i.getComponentTile(),4)){o.contents.push(i),i.exposed=!1,this.drawTile(t),this.sendStateToClients();var b=" placed an in-hand kong of "+i.getTileName(this.state.settings.gameStyle)+"s";return this.messageAll([t],"roomActionGameplayAlert",r.getNickname()+b,{clientId:t,speech:"kong"}),r.addMessageToHistory("You"+b),void console.log("Kong")}return r.message(e.type,"You can't place tiles you do not possess - try reloading the page or restarting the app","error")}if(!e.mahjong)return!e.mahjong&&i instanceof l||i instanceof c?r.message(e.type,"Can't expose in hand pong, sequence, or pair, except for mahjong.","error"):r.message(e.type,"Invalid placement attempt for current game status","error");this.goMahjong(t,{drewOwnTile:!this.gameData.previousTurnPickedUp,override:d}),globalThis.serverStateManager.getClient(t).isBot||(d=!0)}}else if(void 0===i){if(this.gameData.charleston)return globalThis.serverStateManager.getClient(t).message("roomActionPlaceTiles","You must choose 3 tiles to pass during charleston. ","error");this.gameData.currentTurn.turnChoices[t]="Next",this.sendStateToClients()}else{if(e.mahjong)i.mahjong=e.mahjong;else{if(!(i instanceof l||i instanceof c||i instanceof h))return r.message(e.type,"You can't discard when it is not your turn","error");if(i instanceof c&&!v&&o.contents.reduce((function(e,t){return t instanceof c?++e:e}),0)>=this.state.settings.maximumSequences)return v=!0,r.message(e.type,"Host game settings allow only "+this.state.settings.maximumSequences+" sequence(s). Repeat your same move to ignore this setting, and place this sequence. Overriding this setting may cause minor issues in scoring, and may require a Mahjong override. ","error")}this.gameData.currentTurn.turnChoices[t]=i,this.sendStateToClients()}}.bind(this)}var t,r,p;return t=e,p=[{key:"fromJSON",value:function(t){var n=t.trim().split("\n"),a=JSON.parse(n[0]),r=n.slice(1);return r=r.map((function(e){return JSON.parse(e)})),a.moves=r,new e(a.roomId,a)}}],(r=[{key:"toJSON",value:function(){var e=this.state.moves;delete this.state.moves;var t=JSON.stringify(this.state);return this.state.moves=e,t+="\n",this.state.moves.forEach((function(e){t+=JSON.stringify(e)+"\n"})),t}}])&&i(t.prototype,r),p&&i(t,p),e}();e.exports=p},8312:(e,t,n)=>{n(5837),n(1249),n(6699),n(2023),e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=globalThis.serverStateManager.createBot();if(e.botName)t.setNickname(e.botName);else try{for(var a=this.clientIds.map((function(e){return n.g.serverStateManager.getClient(e).getNickname()})),r=1;;r++){var o="Bot ".concat(r);if(!a.includes(o)){t.setNickname(o);break}}}catch(e){console.error(e)}t.setRoomId(this.roomId),this.addClient(t.clientId),this.sendStateToClients()}},3945:(e,t,n)=>{n(5837);var a=n(2946);e.exports=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=-1;!(t instanceof a);){if(r++,!(t=this.gameData.wall.drawFirst()))return console.log("Wall Empty"),this.messageAll([],"displayMessage",{title:"Game Over - Wall Empty",body:this.getSummary()},"success"),this.setInstructions([this.hostClientId],"The Wall is empty. \nPress End Game to return everybody to the room screen. "),this.setInstructions(this.hostClientId,"The Wall is empty. \nPress End Game to return everybody to the room screen. Press New Game to play again with the same settings. "),this.gameData.wall.isEmpty=!0,void this.sendStateToClients();this.gameData.playerHands[e].add(t)}var o=globalThis.serverStateManager.getClient(e);if(n)r>0&&o.message("roomActionGameplayAlert","You drew a pretty!","success");else{this.lastDrawn=t;var i="You drew "+(r>0?1===r?"a pretty and a ":r+" prettys and a ":"a ")+t.getTileName(this.state.settings.gameStyle);this.setInstructions(o.clientId,i+". To discard, select a tile and press proceed. To kong, select 4 matching tiles and press Proceed. If you are Mahjong, press Mahjong. "),o.message("roomActionGameplayAlert",i,{optional:0===r})}}},1652:(e,t,n)=>{n(2772);var a=["north","east","south","west"];e.exports=function(e,t){for(var n=a.indexOf(e),r=0;a[n]!==t;)r++,-1===--n&&(n=a.length-1);return r}},7203:(e,t,n)=>{n(7941),n(1539),n(4747),n(7042),n(5837);var a=n(2169);e.exports=function(e){var t,n,r,o,i,s=this,u={};return u.inGame=this.inGame,u.isHost=e===this.hostClientId,this.gameData.wall&&(u.wallTiles=this.gameData.wall.tiles,this.gameData.isMahjong||(u.wallTiles=u.wallTiles.length)),u.isGameOver=0,null!=this&&null!==(t=this.gameData)&&void 0!==t&&t.isMahjong?u.isGameOver=1:null!=this&&null!==(n=this.gameData)&&void 0!==n&&null!==(r=n.wall)&&void 0!==r&&r.isEmpty&&(u.isGameOver=2),u.settings=this.state.settings,u.instructions=(null==this||null===(o=this.gameData)||void 0===o||null===(i=o.instructions)||void 0===i?void 0:i[e])||"",u.discardPile=this.gameData.discardPile,this.gameData.currentTurn&&(u.currentTurn={thrown:this.gameData.currentTurn.thrown,userTurn:this.gameData.currentTurn.userTurn,playersReady:Object.keys(this.gameData.currentTurn.turnChoices||{})},e===this.gameData.currentTurn.userTurn&&(u.currentTurn.lastDrawn=this.lastDrawn),this.gameData.charleston&&(u.currentTurn.charleston=!0)),u.clients=[],this.clientIds.slice(0,u.inGame?4:1/0).forEach((function(t){var n=globalThis.serverStateManager.getClient(t),r={id:t,nickname:n.getNickname(),isHost:t===s.hostClientId,isBot:n.isBot};if(s.inGame){var o=s.gameData.playerHands[t];if(e===t||s.gameData.isMahjong||s.gameData.wall.isEmpty)r.hand=o;else{var i=new a;i.contents=o.getExposedTiles(!0),i.wind=o.wind,r.hand=i}}u.clients.push(r)})),u}},4403:(e,t,n)=>{n(7042),n(5837),n(2222),n(561),n(9600),n(1249),e.exports=function(e){this.gameScores||(this.gameScores=[]);var t=[],n={};for(var a in this.gameData.playerHands){var r=this.gameData.playerHands[a];n[a]={netpoints:0,points:0};var o=r.wind.slice(0,1).toUpperCase()+r.wind.slice(1);if(n[a].text=globalThis.serverStateManager.getClient(a).getNickname()+": "+o,"chinese"===this.state.settings.gameStyle){var i,s;"east"===r.wind&&(n[a].text+=" (net doubled)"),n[a].points+=r.score().score,n[a].text+=", ".concat(n[a].points," points");var u=null==this||null===(i=this.state)||void 0===i||null===(s=i.settings)||void 0===s?void 0:s.tableLimit;n[a].points>u&&(n[a].points=u,n[a].text+=" (limit ".concat(u,")"))}else if("american"===this.state.settings.gameStyle&&a===e){var l=r.score({type:"american",card:this.gameData.card});n[a].points+=l.score,n[a].text+=" - ".concat(l.handName,", ").concat(n[a].points," points"),n[a].text+=l.noJokers?" - No Jokers (Double)":""}a===e&&(n[a].text+=" - Mahjong",this.gameData.previousTurnPickedUp?n[a].text+=" - With "+this.gameData.previousTurnPickedUp.getTileName(this.state.settings.gameStyle):(n[a].text+=" - Drew Own Tile","american"===this.state.settings.gameStyle&&(n[a].text+=" (double)",n[a].points*=2)))}for(var c in this.gameData.playerHands){if("chinese"===this.state.settings.gameStyle)for(var h in c===this.gameData.previousTurnThrower&&(n[c].text+=" - Threw Last Tile"),this.gameData.playerHands){var p=1;"east"!==this.gameData.playerHands[c].wind&&"east"!==this.gameData.playerHands[h].wind||(p*=2),c!==e&&(n[c].netpoints-=n[h].points*p,n[h].netpoints+=n[h].points*p)}else if("american"===this.state.settings.gameStyle&&e){var d=1;c===this.gameData.previousTurnThrower&&(n[c].text+=" - Threw Last Tile (Pay Double)",d*=2),n[c].netpoints-=n[e].points*d,n[e].netpoints+=n[e].points*d}c!==e?t.push(n[c]):t.splice(0,0,n[c])}function v(e){for(var t=0,n=0;n<this.gameScores.length;n++){var a=this.gameScores[n];a[e]&&(t+=a[e].netpoints)}return t}for(var f in this.gameScores.push(n),this.gameData.playerHands)if(n[f].text+=" (Net ".concat(n[f].netpoints>0?"+":"").concat(n[f].netpoints," points"),this.gameScores.length>1){var m=v.call(this,f);n[f].text+=", ".concat(m>0?"+":"").concat(m," room total)")}else n[f].text+=")";return this.lastSummary=t.map((function(e){return e.text})).join("\n"),this.lastSummary}},8308:(e,t,n)=>{n(5837),n(8309);var a=n(2169);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=globalThis.serverStateManager.getClient(e),r=this.gameData.playerHands[e],o=this.state.settings.ignoreBotMahjong&&n.isBot;if("chinese"===this.state.settings.gameStyle){var i=r.isMahjong(t.override?4:this.state.settings.maximumSequences,{thrownTile:t.autoExpose&&this.gameData.previousTurnPickedUp});if(i instanceof a&&!o&&(r.contents=i.contents),!i&&!t.override)return n.message("roomActionPlaceTiles","Unable to go mahjong with this hand. If you play by different rules, try again to override. ","error")}else if("american"===this.state.settings.gameStyle){var s=r.score({type:"american",card:this.gameData.card});if(0===s.score&&!t.override&&!this.state.settings.unknownCard)return n.message("roomActionPlaceTiles","Your hand does not appear to be Mahjong for the ".concat(this.gameData.card.name," card. If you are Mahjong, click the Mahjong button again to override. Card selection can be changed by the host in Game Settings. "),"error")}r.status={status:"mahjong",drewOwnTile:!this.gameData.previousTurnPickedUp},o||(this.gameData.currentTurn.userTurn=e,this.gameData.isMahjong=!0,this.sendStateToClients(),"east"===this.state.settings.windAssignments[e]&&(this.shouldRotateWinds=!1)),this.messageAll([e],"roomActionGameplayAlert",n.getNickname()+" has gone mahjong",{clientId:e,speech:"Mahjong"}),this.setAllInstructions([this.hostClientId],n.getNickname()+" has gone mahjong!\nPress End Game to return everybody to the room screen. "),this.setInstructions(this.hostClientId,n.getNickname()+" has gone mahjong!\nPress End Game to return everybody to the room screen. "),this.messageAll([],"displayMessage",{title:"Mahjong!",body:this.getSummary(e,t)},"success"),setTimeout(function(){this.sendStateToClients()}.bind(this),0)}},4116:(e,t,n)=>{n(5837),n(2772),n(1539),n(4747),n(7042),e.exports=function(e,t){var n=this,a=globalThis.serverStateManager.getClient(e),r=e===this.hostClientId;if("roomActionLeaveRoom"===t.type)return this.removeClient(e);if("roomActionGetMessageHistory"===t.type)return a.message(t.type,a.messageHistory);if("roomActionKickFromRoom"===t.type)return r?this.inGame?a.message(t.type,"Can't Kick During Game","error"):(this.removeClient(t.id,"You have been kicked from the room. "),a.message(t.type,"Kicked Client","success")):(console.log(a),console.log(a.message),a.message(t.type,"Only Host Can Kick","error"));if("roomActionStartGame"===t.type){if(!r)return a.message("displayMessage",{title:"Error Starting Game",body:"Only Host Can Start"});if(this.inGame)return a.message("displayMessage",{title:"Error Starting Game",body:"Already in Game"});var o=this.startGame(t);return o?a.message("displayMessage",o):void 0}if("roomActionEndGame"===t.type){if(!this.inGame)return a.message(t.type,"No Game In Progress","error");if(this.clientIds.indexOf(e)>3)return this.removeClient(e);this.endGame(t,e)}else if("roomActionCloseRoom"===t.type){if(!r)return a.message(t.type,"Only Host Can Close Room","error");var i=this.hostClientId;this.clientIds.slice(0).forEach((function(e){e!==i&&n.removeClient(e,"The room has been closed. ")})),this.removeClient(i,"You closed the room. "),globalThis.serverStateManager.deleteRoom(this.roomId)}else{if("roomActionPlaceTiles"===t.type)return this.onPlace(t,e);if("roomActionAddBot"===t.type)return r?this.addBot(t):a.message(t.type,"Only Host Can Add Bots","error");if("roomActionRevertState"===t.type)return this.clientIds.indexOf(e)>3?a.message("displayMessage",{title:"Access Denied",body:"You are Spectating. "}):this.revertState(a,t.message);if("roomActionState"===t.type)return a.message(t.type,this.getState(e),"success");if("roomActionChangeNickname"===t.type){var s,u=globalThis.serverStateManager.getClient(t.targetId);return t.targetId===e?s=u.getNickname()+" renamed to "+t.nickname:r&&(s="The host renamed "+u.getNickname()+" to "+t.nickname),void(s&&(u.setNickname(t.nickname),this.messageAll([e],"roomActionGameplayAlert",s,"success"),this.sendStateToClients()))}}}},7571:(e,t,n)=>{n(4553),n(561),n(1539),n(4747),n(5837),e.exports=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"You left the room. ",a=this.clientIds.findIndex((function(t){return t===e}));if(-1===a)return"Client Not Found";this.clientIds.splice(a,1),this.hostClientId===e&&(this.hostClientId=null,this.clientIds.forEach(function(e){t.hostClientId||globalThis.serverStateManager.getClient(e).isBot||(t.hostClientId=e)}.bind(this))),this.sendStateToClients();var r=globalThis.serverStateManager.getClient(e);r&&(r.message("roomActionLeaveRoom",n,"success"),globalThis.serverStateManager.deleteClient(e)),null===this.hostClientId&&globalThis.serverStateManager.deleteRoom(this.roomId)}},3449:(e,t,n)=>{n(6699),n(9653),n(7042),n(5837),n(9600),n(2023),n(2772),n(561),n(1539),n(4747),n(2707),n(2222);var a=n(6212),r=n(2169),o=n(6587),i=n(8421),s=n(8413);e.exports=function(e){for(var t,n,u,l,c,h,p,d,v,f,m,y,g,w,b,E;this.clientIds.length<4;)this.addBot();if("panama"===(null==e||null===(t=e.settings)||void 0===t?void 0:t.gameStyle)&&(e.settings={gameStyle:"chinese",checkForCalling:!0,allow4thTilePickup:!0,botSettings:{canCharleston:!0},maximumSequences:1}),!["chinese","american"].includes(null==e||null===(n=e.settings)||void 0===n?void 0:n.gameStyle))return{title:"Please Select Variant",body:"You must select a game variant to play. "};if(this.state.settings.gameStyle=null==e||null===(b=e.settings)||void 0===b?void 0:b.gameStyle,this.inGame=!0,this.messageAll([],e.type,"Game Started","success"),this.state.settings.charleston=[[{direction:"right"},{direction:"across"},{direction:"left"}]],this.state.settings.botSettings=this.state.settings.botSettings||{},this.state.settings.disableHints=(null==e||null===(u=e.settings)||void 0===u?void 0:u.disableHints)||!1,this.state.settings.botSettings.canCharleston=null!==(l=null==e||null===(c=e.settings)||void 0===c||null===(h=c.botSettings)||void 0===h?void 0:h.canCharleston)&&void 0!==l&&l,this.state.settings.windAssignments=this.state.settings.windAssignments||{},this.state.settings.checkForCalling=null===(p=null==e||null===(d=e.settings)||void 0===d?void 0:d.checkForCalling)||void 0===p||p,this.state.settings.tableLimit=Number(null==e||null===(v=e.settings)||void 0===v?void 0:v.tableLimit)||1/0,this.state.settings.allow4thTilePickup=null===(f=null==e||null===(m=e.settings)||void 0===m?void 0:m.allow4thTilePickup)||void 0===f||f,this.state.settings.ignoreBotMahjong=(null==e||null===(y=e.settings)||void 0===y?void 0:y.ignoreBotMahjong)||!1,this.state.settings.pickupDiscardForDraw=(null==e||null===(g=e.settings)||void 0===g?void 0:g.pickupDiscardForDraw)||!1,isNaN(null==e||null===(w=e.settings)||void 0===w?void 0:w.maximumSequences)?this.state.settings.maximumSequences=4:this.state.settings.maximumSequences=Math.max(0,Math.round(Number(null==e||null===(E=e.settings)||void 0===E?void 0:E.maximumSequences))),this.state.seed=this.state.seed||Math.random(),"chinese"===this.state.settings.gameStyle)this.gameData.wall=new a(this.state.seed),this.state.settings.ignoreBotMahjong=!1;else{if("american"!==this.state.settings.gameStyle)throw"Unknown gameStyle";var S,T,x,k;this.state.settings.pickupDiscardForDraw=!1,this.gameData.wall=new a(this.state.seed,{prettysAsTiles:!0,includeJokers:8}),this.state.settings.checkForCalling=!1,this.state.settings.charleston=[[{direction:"right"},{direction:"across"},{direction:"left",blind:!0}],[{direction:"left",allAgree:!0},{direction:"across"},{direction:"right",blind:!0}],[{direction:"across",blind:!0}]],o[null==e||null===(S=e.settings)||void 0===S?void 0:S.card]?(this.state.settings.card=null==e||null===(x=e.settings)||void 0===x?void 0:x.card,delete this.state.settings.unknownCard):(console.error("Unknown Card",null==e||null===(k=e.settings)||void 0===k?void 0:k.card),this.state.settings.unknownCard=!0,this.state.settings.card="Random");this.gameData.card=o[this.state.settings.card],this.gameData.charleston={directions:this.state.settings.charleston.slice(0)},this.state.settings.americanBotDifficulty=Math.max(0,Number(null==e||null===(T=e.settings)||void 0===T?void 0:T.americanBotDifficulty)),isNaN(this.state.settings.americanBotDifficulty)&&(this.state.settings.americanBotDifficulty=50)}this.state.hostClientId=this.hostClientId,this.state.moves=[],this.logFileSaveId=this.roomId+"-"+Date.now(),s.createWriteStream&&!globalThis.avoidFSWrites&&(this.logFile=s.createWriteStream(i.join(globalThis.serverStateManager.serverDataDirectory,this.logFileSaveId+".room"))),this.gameData.discardPile=[],this.gameData.playerHands={};var C=["north","east","south","west"],M=C.slice(0),O={};for(var A in this.state.settings.windAssignments){var I=this.state.settings.windAssignments[A];if(this.clientIds.includes(A)){var P=C.indexOf(I);-1!==P&&(C.splice(P,1),O[A]=I)}}var D=[],j=[],R=[];this.clientIds.slice(0,4).forEach((function(e){O[e]||(O[e]=C.splice(Math.floor(Math.random()*C.length),1)[0]);var t=globalThis.serverStateManager.getClient(e);t.isBot?(D.push(t.getNickname()),j.push(e)):R.push(e)})),R=R.slice(0,4).sort(),D=D.sort();var L,N=M.indexOf(O[R[0]]);for(var H in-1===N&&(N=0),M=M.slice(N).concat(M.slice(0,N)),(j=j.sort((function(e,t){return M.indexOf(O[e])-M.indexOf(O[t])}))).forEach((function(e,t){globalThis.serverStateManager.getClient(e).setNickname(D[t])})),O){var _=O[H],B=new r({wind:_});this.gameData.playerHands[H]=B;var F=13;"east"===_&&(L=H,F=14);for(var G=0;G<F;G++)this.drawTile(H,!0)}this.state.settings.windAssignments=O,this.gameData.currentTurn={thrown:!1,userTurn:L},this.gameData.currentTurn.turnChoices=new Proxy({},this.turnChoicesProxyHandler),this.logFile&&this.logFile.write(JSON.stringify(this.state)+"\n");var J=this.state.settings.charleston[0][0].direction;"chinese"===this.state.settings.gameStyle?(this.setInstructions(this.gameData.currentTurn.userTurn,"As East wind, you get to make the first throw. Select one tile and press Proceed.\n\nTo initiate a Charleston (first pass ".concat(J,"), select 3 tiles and hit Proceed.")),this.setAllInstructions([this.gameData.currentTurn.userTurn],"Waiting on East Wind to make a play. ")):"american"===this.state.settings.gameStyle&&(this.setAllInstructions([],"Welcome to the Charleston. Select 3 tiles you would like to pass "+J+", then hit Proceed. ","success"),this.messageAll([],"roomActionGameplayAlert","The first pass is "+J,"success")),this.sendStateToClients()}},5392:(e,t,n)=>{n(5837),n(6699),n(1539),n(4747),n(7042),n(1249),n(8309),n(3753),n(2023),n(2772),n(2222),n(2707),n(7941),n(9600);var a=n(9458),r=n(7793),o=n(2946),i=n(2169),s=n(502),u=n(6212),l=["north","east","south","west"],c=n(1652);function h(e,t){var n=this,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("Next"===e[t])return!0;var l,h=globalThis.serverStateManager.getClient(t),p=this.gameData.playerHands[this.gameData.currentTurn.userTurn].wind,d=this.gameData.playerHands[t],v=d.wind;if(this.gameData.charleston){if(e[t].length>3)return h.message("roomActionPlaceTiles","You can pass no more than 3 tiles during one Charleston round. ","error"),!1;var f=this.gameData.charleston.directions[0][0];if(f.allAgree){if(![0,3].includes(e[t].length))return h.message("roomActionPlaceTiles","Pass zero tiles (press proceed on nothing) to veto this round. Pass three tiles to vote in favor. ","error"),!1;if(0===e[t].length)return this.messageAll([t],"roomActionGameplayAlert","Charleston Round Vetoed by "+h.getNickname(),"success"),h.message("roomActionGameplayAlert","Charleston Round Vetoed","success"),this.clientIds.slice(0,4).forEach((function(t){e[t]||(e[t]=[])})),!0}else if(f.blind){if("across"===f.direction);else if(e[t].length<1)return h.message("roomActionPlaceTiles","You must pass at least one tile during the blind pass. ","error"),!1}else if(3!==e[t].length)return h.message("roomActionPlaceTiles","This Charleston round requires exactly three tiles. ","error"),!1;if(e[t].some((function(e){return"joker"===e.type})))return h.message("roomActionPlaceTiles","Jokers may not be passed during Charleston. ","error"),!1;if(d.removeTilesFromHand(e[t])){var m="You Passed ",y=e[t].map((function(e){return e.getTileName(n.state.settings.gameStyle)}));if(0===y.length)m+="Nothing";else{m+="a "+y.shift();var g=y.pop();y.forEach((function(e){m+=", a "+e})),g&&(y.length>0&&(m+=","),m+=" and a "+g)}return h.addMessageToHistory(m,-1),!0}return h.message("roomActionPlaceTiles","You can't pass tiles you don't possess. ","error"),!1}if("Claim"===e[t]){if(!this.state.settings.pickupDiscardForDraw)return h.message("roomActionPlaceTiles","Pickup discard for draw was not enabled by host. ","error"),!1;if(1!==c(v,p))return h.message("roomActionPlaceTiles","You can only claim the discard tile if you are next in rotation. ","error"),!1;l=50}else if(e[t]instanceof s||"american"===this.state.settings.gameStyle&&e[t].mahjong){if("joker"===this.gameData.currentTurn.thrown.type)return h.message("roomActionPlaceTiles","You can't pick up a joker! Jokers are dead when thrown! ","error"),!1;if(e[t]instanceof s){if(!e[t].mahjong){if(e[t].tiles.length<3)return h.message("roomActionPlaceTiles","Except for Mahjong, you can only call for matches of 3+ tiles and/or jokers. ","error"),!1;if(!e[t].isValidMatch(!0))return h.message("roomActionPlaceTiles","Except for Mahjong, you can only call for matches. ","error"),!1}}else{var w=new s({tiles:[e[t]]});w.mahjong=e[t].mahjong,e[t]=w}if(2===e[t].tiles.length&&!1===e[t].isValidMatch()&&e[t].isValidMatch(!0))return h.message("roomActionPlaceTiles","Jokers can't be used to make a pair. ","error"),!1;if(l=89-c(v,p),e[t].mahjong){l+=20,d.add(this.gameData.currentTurn.thrown);var b=d.score({type:"american",card:this.gameData.card});if(d.remove(this.gameData.currentTurn.thrown),0===b.score&&!u&&!this.state.settings.unknownCard)return h.message("roomActionPlaceTiles","Your hand does not appear to be Mahjong for the ".concat(this.gameData.card.name," card. If you are Mahjong, click the Mahjong button again to override. Card selection can be changed by the host in Game Settings. "),"error"),!1}}else{d.add(this.gameData.currentTurn.thrown);var E=d.isMahjong(this.state.settings.maximumSequences),S=!!E;if(d.remove(this.gameData.currentTurn.thrown),E instanceof i&&!u){var T=E.getStringContents(),x=e[t].exposed;e[t].exposed=!1;var k=e[t].toJSON();e[t].exposed=!0;var C=e[t].toJSON();e[t].exposed=x,T.includes(k)||T.includes(C)||(S=!1)}var M=!1;if(e[t]instanceof o&&e[t].mahjong&&E)console.log("Naked Mahjong Bypassing Checks"),M=!0;else if(e[t].mahjong&&!S&&!u)return h.message("roomActionPlaceTiles","Unable to detect a mahjong in your hand. (Press 'Mahjong' again to override). ","error"),!1;if((S||M)&&e[t].mahjong){l=109;var O=c(v,p);console.log(O),l-=O}else if(e[t]instanceof a){if(2===e[t].amount){if(!S&&!u)return h.message("roomActionPlaceTiles","You can't place a pair when it will not make you mahjong. (Press 'Proceed' or 'Mahjong' again to override)","error"),!1;u||(e[t].mahjong=!0)}l=104-c(v,p)}else if(e[t]instanceof r){if(c(v,p)>1&&!u)return h.message("roomActionPlaceTiles","You can only take a sequence from the player before you, except with mahjong. (Press 'Proceed' again to override) ","error"),!1;l=99-c(v,p)}else console.error("Unknown Placement in turnChoicesProxyHandler"),l=89-c(v,p)}return[l,t]}function p(e,t){var n=this;if(this.gameData.charleston){var o;this.sendStateToClients();var i=[],c=[];for(var p in this.gameData.playerHands){var d=this.gameData.playerHands[p],v=l.indexOf(d.wind);i[v]=d,c[v]=e[p]}var f,m=this.gameData.charleston.directions[0].shift();switch(m.allAgree&&!c.every((function(e){return 3===e.length}))&&(this.gameData.charleston.directions.shift(),m.direction="none"),0===this.gameData.charleston.directions[0].length&&this.gameData.charleston.directions.shift(),m.direction){case"right":f=1;break;case"across":f=2;break;case"left":f=3;break;case"none":f=0;break;default:throw"Unknown Direction"+m}if(2===f)[0,1].forEach((function(e){for(var t=c[e],n=i[e],a=e+2,r=i[a],o=c[a],s=0;s<Math.max(t.length,o.length);s++)t[s]&&o[s]?(r.add(t[s]),n.add(o[s])):t[s]?n.add(t[s]):o[s]&&r.add(o[s])}));else{var y=[];c.forEach((function(e){var t,a=n.roomId+(null===(t=e[0])||void 0===t?void 0:t.type);u.shuffleArray(e,a),e.forEach((function(e){y.push(e)}))})),c.forEach((function(e,t){for(var n=(t+f)%4,a=c[n].length,r=i[n],o=0;o<a;o++)r.add(y.shift())}))}var g=null===(o=this.gameData.charleston.directions[0])||void 0===o?void 0:o[0];if(g)if(g.allAgree)this.messageAll([],"roomActionGameplayAlert","Round vote - passing "+g.direction,"success"),this.setAllInstructions([],"Round Vote - Pass 3 tiles "+g.direction+" for another Charleston round. Pass 0 to block it. Tap tiles to add/remove from placemat. Hit Proceed when ready. ","success");else if(g.blind){var w="Blind";"across"===g.direction&&(w="Courtesy"),this.messageAll([],"roomActionGameplayAlert","The next pass is ".concat(w.toLowerCase()," ").concat(g.direction),{optional:!0}),this.setAllInstructions([],"".concat(w," Pass - Pass ").concat("Blind"===w?1:0,"-3 tiles ").concat(g.direction," ").concat("Blind"===w?"in order of preference":"",". Tap tiles to add/remove from placemat. Hit Proceed when ready."),"success")}else this.messageAll([],"roomActionGameplayAlert","The next pass is "+g.direction,{optional:!0}),this.setAllInstructions([],"The next pass is "+g.direction+". The tiles passed to you are in the placemat - tap to move tiles between the placemat and your hand. Hit Proceed when ready. ","success");else this.messageAll([],"roomActionGameplayAlert","The Charleston is Over"),this.setInstructions(this.gameData.currentTurn.userTurn,"The Charleston is over. \n\nAs East wind, you get to make the first throw. Select one tile and press Proceed."),this.setAllInstructions([this.gameData.currentTurn.userTurn],"The Charleston is over. Waiting on East Wind to make a play. "),this.gameData.charleston=!1}else{this.gameData.previousTurnPickedUp=this.gameData.currentTurn.thrown,this.gameData.previousTurnThrower=this.gameData.currentTurn.userTurn;var b=[];for(var E in e){var S=h.call(this,e,E,t.includes(E));S instanceof Array&&b.push(S)}var T=!1;if(0!==b.length){b.sort((function(e,t){return t[0]-e[0]}));for(var x=0;x<b.length;x++){var k=b[x][1],C=globalThis.serverStateManager.getClient(k);if(!0!==T){var M=e[k],O=this.gameData.playerHands[k];if(M instanceof r){var A=!1;if(M.tiles.forEach((function(e){e.value===n.gameData.currentTurn.thrown.value&&e.type===n.gameData.currentTurn.thrown.type&&(A=!0)})),console.log(A),A)if(O.add(this.gameData.currentTurn.thrown),O.removeTilesFromHand(M)){T=!0,O.add(M),M.exposed=!0;var I=" placed a sequence of "+M.tiles[0].type+"s";this.messageAll([k],"roomActionGameplayAlert",C.getNickname()+I,{clientId:k,speech:"Chow"}),C.message("roomActionGameplayAlert","You"+I,{optional:!0,durationMultiplier:.8}),M.mahjong&&this.goMahjong(k,{override:t.includes(k)}),this.gameData.currentTurn.userTurn=k}else O.remove(this.gameData.currentTurn.thrown),C.message("roomActionPlaceTiles","You can't place a sequence of tiles you do not possess - try reloading the page or restarting the app","error");else C.message("roomActionPlaceTiles","Are you trying to hack? You must use the thrown tile when attempting to place off turn. ","error")}else if(M instanceof a)if(M.value===this.gameData.currentTurn.thrown.value&&M.type===this.gameData.currentTurn.thrown.type)if(O.removeMatchingTilesFromHand(M.getComponentTile(),M.amount-1)){T=!0,O.add(M),M.exposed=!0;var P=[,,"pair","pong","kong"][M.amount],D=" placed a "+P+" of "+M.getTileName(this.state.settings.gameStyle)+"s";this.messageAll([k],"roomActionGameplayAlert",C.getNickname()+D,{clientId:k,speech:P}),C.message("roomActionGameplayAlert","You"+D,{optional:!0,durationMultiplier:.8}),M.mahjong&&this.goMahjong(k,{override:t.includes(k)}),4===M.amount&&this.drawTile(k),this.gameData.currentTurn.userTurn=k}else console.log("Attempted to place invalid match"),C.message("roomActionPlaceTiles","You can't place a match of tiles you do not possess - try reloading the page or restarting the app","error");else C.message("roomActionPlaceTiles","Are you trying to hack? You must use the thrown tile when attempting to place off turn. ","error");else if(M instanceof s&&M.tiles.length>1){var j=!1;if(M.tiles.forEach((function(e){e.value===n.gameData.currentTurn.thrown.value&&e.type===n.gameData.currentTurn.thrown.type&&(j=!0)})),j){var R=O.contents.slice(0);if(O.add(this.gameData.currentTurn.thrown),O.removeTilesFromHand(M)){T=!0,O.add(M);var L="match",N=M.isValidMatch(!0);N&&(L=[,,"pair","pong","kong","quint","sextet"][M.tiles.length],L+=" of "+N.getTileName(this.state.settings.gameStyle)+"s"),L=" placed a "+L,this.messageAll([k],"roomActionGameplayAlert",C.getNickname()+L,{clientId:k,speech:"I'll take that",durationMultiplier:1.4}),C.message("roomActionGameplayAlert","You"+L,{optional:!0,durationMultiplier:.8}),M.mahjong&&this.goMahjong(k,{override:t.includes(k)}),M.mahjong&&C.isBot&&this.state.settings.ignoreBotMahjong?O.contents=R:this.gameData.currentTurn.userTurn=k}else O.remove(this.gameData.currentTurn.thrown),C.message("roomActionPlaceTiles","You can't place tiles you do not possess - try reloading the page or restarting the app","error")}else C.message("roomActionPlaceTiles","Are you trying to hack? You must use the thrown tile when attempting to place off turn. ","error")}else if(M.mahjong)console.log("Attempting Naked Mahjong"),O.add(this.gameData.currentTurn.thrown),this.goMahjong(k,{override:t.includes(k),autoExpose:!0}),T=!0;else if("Claim"===M){if(!0===T){C.message("roomActionPlaceTiles","This tile was called - your draw was skipped. ","error");continue}T=!0;var H=this.gameData.currentTurn.thrown;O.add(H),this.lastDrawn=H,this.gameData.currentTurn.userTurn=k;var _=C.getNickname()+" called for a "+H.getTileName(this.state.settings.gameStyle);this.messageAll([],"roomActionGameplayAlert",_,{clientId:k,speech:"I'll take that tile"})}else console.error("No known operation to perform when processing turn. ")}else C.message("roomActionPlaceTiles","Placing tiles failed because another player had a higher priority placement (mahjong>match>sequence, and by order within category).","error")}}if(!1===T){this.gameData.previousTurnThrower=this.gameData.previousTurnPickedUp=void 0;var B=l[(l.indexOf(this.gameData.playerHands[this.gameData.currentTurn.userTurn].wind)+1)%4];for(var F in this.gameData.playerHands){var G=this.gameData.playerHands[F];G.wind===B&&(G.contents.forEach((function(e){n.state.settings.allow4thTilePickup&&e instanceof a&&e.type===n.gameData.currentTurn.thrown.type&&e.value===n.gameData.currentTurn.thrown.value&&(T=!0,e.amount=4)})),!1===T?(this.gameData.discardPile.push(this.gameData.currentTurn.thrown),this.drawTile(F)):this.drawTile(F),this.gameData.currentTurn.userTurn=F)}}if(!this.gameData.isMahjong&&!this.gameData.wall.isEmpty){var J=globalThis.serverStateManager.getClient(this.gameData.currentTurn.userTurn);this.setAllInstructions([J.clientId],"Waiting on ".concat(J.getNickname()," to make a move. \n\nIs someone's game frozen? Clicking the sync icon (below this message) might fix that! "))}this.gameData.currentTurn.thrown=!1}for(var U in e)delete e[U];this.sendStateToClients()}var d=[];e.exports=function(e,t,n){if(e[t]=n,!1===h.call(this,e,t,d.includes(t))&&(delete e[t],globalThis.serverStateManager.getClient(t).isBot?console.error("Bots are not allowed to obtain override power. ",this.logFileSaveId):d.push(t)),this.gameData.charleston||(e[this.gameData.currentTurn.userTurn]="Next"),4===Object.keys(e).length)p.call(this,e,d),d=[];else{var a="Waiting on: ",r=[];this.clientIds.slice(0,4).forEach((function(t){e[t]||r.push(t)})),a+=r.map((function(e){return globalThis.serverStateManager.getClient(e).getNickname()})).join(", "),a+="\n\nIs someone's game frozen? Clicking the sync icon (below this message) might fix that! ",this.setAllInstructions(r,a)}return!0}},3093:(e,t,n)=>{function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n(3210),n(7941),n(5837),n(3753);var o=n(8258),i=n(927),s=n(463),u=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e);var r=t;t=new Proxy(r,{get:function(e,t){var n=e[t];return n instanceof String?n.trim():n},set:function(e,t,n){return n instanceof String&&(n=n.trim()),e[t]=n,!0}}),this.getRoom=function(e){return t[e]},this.createRoom=function(n,a){return 0===n.trim().length&&(n=e.findUniqueId(t,"room")),!t[n]&&(t[n]=a||new o(n))},this.deleteRoom=function(e){delete t[e]},this.getClient=function(e){return n[e]},this.createClient=function(e,t){return n[e]=new i(e,t),n[e]},this.createBot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.findUniqueId(n,"bot"),a=arguments.length>1?arguments[1]:void 0;return n[t]=new s(t,a),n[t]},this.deleteClient=function(e){delete n[e]},this.getAllClients=function(){var e=[];for(var t in n)e.push(n[t]);return e},this.getAllRoomIds=function(){return Object.keys(r)},this.init=function(e){console.time("Initializing server state... ");var a=JSON.parse(e),r=a.clients,s=a.rooms;for(var u in r)n[u]=i.fromJSON(r[u]);for(var l in s)t[l]=o.fromJSON(s[l]),t[l].init(),console.log(globalThis.serverStateManager.getRoom(l));console.timeEnd("Initializing server state... ")}.bind(this),this.toJSON=function(){return JSON.stringify({rooms:t,clients:n,deviceInfo:e.getHostInfo()})}.bind(this)}var t,n,u;return t=e,u=[{key:"findUniqueId",value:function(e){for(var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(2,9);!n||e[a+t];)n=a+(t=Math.floor(Math.random()*r)),r=Math.min(Math.pow(2,53),2*r);return n}},{key:"getHostInfo",value:function(){var e;if(globalThis.window)return{platform:window.nativePlatform||"web",userAgent:null===(e=window.navigator)||void 0===e?void 0:e.userAgent}}}],(n=null)&&r(t.prototype,n),u&&r(t,u),e}();e.exports=u},3205:(e,t,n)=>{n(2222);var a=n(2976);var r,o={name:"2020 National Mahjongg League"};Object.defineProperty(o,"combos",{get:function(){return r||(console.time("Generate "+o.name),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=[]).concat(n(6533))).concat(n(2289))).concat(n(805))).concat(n(4554))).concat(n(7541))).concat(n(8942))).concat(n(7255))).concat(n(5014))).concat(n(6)),r=a.outputExpander(e),console.timeEnd("Generate "+o.name),r);var e}}),e.exports=o},7255:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:1,amount:2})),n.push(r({type:t,value:3,amount:2})),n.push(r({type:t,value:5,amount:3})),n.push(r({type:t,value:7,amount:3})),n.push(r({type:t,value:9,amount:4}))})),i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:1,amount:2})),n.push(r({type:t[0],value:3,amount:2})),n.push(r({type:t[1],value:5,amount:3})),n.push(r({type:t[1],value:7,amount:3})),n.push(r({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:4})),n.push(r({type:t[0],value:3,amount:4})),n.push(r({type:t[1],value:5,amount:4})),n.push(r({type:t[2],value:1,amount:1})),n.push(r({type:t[2],value:5,amount:1}))})),i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:4})),n.push(r({type:t[0],value:5,amount:4})),n.push(r({type:t[1],value:7,amount:4})),n.push(r({type:t[2],value:3,amount:1})),n.push(r({type:t[2],value:5,amount:1}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:1,amount:3})),n.push(r({type:t[0],value:3,amount:3})),n.push(r({type:t[1],value:3,amount:4})),n.push(r({type:t[1],value:5,amount:4}))})),i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:5,amount:3})),n.push(r({type:t[0],value:7,amount:3})),n.push(r({type:t[1],value:7,amount:4})),n.push(r({type:t[1],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:1,amount:4})),n.push(r({type:t[1],value:3,amount:2})),n.push(r({type:t[0],value:3,amount:2})),n.push(r({type:t[2],value:3,amount:2})),n.push(r({type:t[0],value:5,amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:5,amount:4})),n.push(r({type:t[1],value:7,amount:2})),n.push(r({type:t[0],value:7,amount:2})),n.push(r({type:t[2],value:7,amount:2})),n.push(r({type:t[0],value:9,amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"dragon",value:s[n],amount:4})),a.push(r({type:n,value:t,amount:3})),a.push(r({type:n,value:t+2,amount:4})),a.push(r({type:n,value:t+4,amount:3}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[0],value:1,amount:1})),n.push(r({type:t[0],value:3,amount:2})),n.push(r({type:t[0],value:5,amount:3})),n.push(r({type:t[1],value:5,amount:1})),n.push(r({type:t[1],value:7,amount:2})),n.push(r({type:t[1],value:9,amount:3}))})),{tiles:e,score:35,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="13579",n}))},8942:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements;a.oddOptions,a.evenOptions,a.allOptions,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:"dragon",value:"white",amount:2})),n.push(r({type:t[0],value:2,amount:2})),n.push(r({type:t[1],value:2,amount:4})),n.push(r({type:t[2],value:2,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:"dragon",value:"white",amount:2})),n.push(r({type:t,value:2,amount:2})),n.push(r({type:"dragon",value:"green",amount:4})),n.push(r({type:"dragon",value:"red",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:5})),n.push(r({type:"dragon",value:"white",amount:2})),n.push(r({type:t[0],value:2,amount:2})),n.push(r({type:t[1],value:2,amount:3})),n.push(r({type:t[2],value:2,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"wind",value:"north",amount:2})),n.push(r({type:"wind",value:"east",amount:3})),n.push(r({type:"wind",value:"west",amount:3})),n.push(r({type:"wind",value:"south",amount:2})),n.push(r({type:"dragon",value:"white",amount:2})),n.push(r({type:t,value:2,amount:2}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2020",n}))},7541:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:4})),n.push(r({type:t,value:2,amount:1})),n.push(r({type:t,value:4,amount:2})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:2,amount:2})),n.push(r({type:t[0],value:4,amount:2})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[1],value:8,amount:3})),n.push(r({type:"dragon",value:s[t[2]],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:2,amount:4})),n.push(r({type:t,value:4,amount:4})),n.push(r({type:t,value:6,amount:4})),n.push(r({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:2,amount:3})),n.push(r({type:t[0],value:4,amount:3})),n.push(r({type:t[1],value:6,amount:4})),n.push(r({type:t[1],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:4})),n.push(r({type:t[0],value:4,amount:4})),n.push(r({type:t[1],value:6,amount:4})),n.push(r({type:t[2],value:2,amount:1})),n.push(r({type:t[2],value:4,amount:1}))})),i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:4})),n.push(r({type:t[0],value:6,amount:4})),n.push(r({type:t[1],value:8,amount:4})),n.push(r({type:t[2],value:4,amount:1})),n.push(r({type:t[2],value:8,amount:1}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:2,amount:2})),n.push(r({type:t[0],value:4,amount:3})),n.push(r({type:t[1],value:4,amount:2})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[2],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"dragon",value:s[t],amount:4})),n.push(r({type:t,value:2,amount:2})),n.push(r({type:t,value:4,amount:3})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[0],value:2,amount:3})),n.push(r({type:t[0],value:8,amount:3})),n.push(r({type:t[1],value:4,amount:3})),n.push(r({type:t[1],value:6,amount:3}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2468",n}))},5014:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:3,amount:3})),n.push(r({type:t[0],value:6,amount:3})),n.push(r({type:t[1],value:6,amount:4})),n.push(r({type:t[1],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[3,6,9].forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:3,amount:2})),a.push(r({type:n[0],value:6,amount:2})),a.push(r({type:n[0],value:9,amount:2})),a.push(r({type:n[1],value:t,amount:4})),a.push(r({type:n[2],value:t,amount:4}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:3,amount:3})),n.push(r({type:t,value:6,amount:4})),n.push(r({type:t,value:9,amount:3})),n.push(r({type:"dragon",value:s[t],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:3,amount:2})),n.push(r({type:t[0],value:6,amount:3})),n.push(r({type:t[1],value:3,amount:2})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t,value:3,amount:4})),n.push(r({type:t,value:6,amount:4})),n.push(r({type:t,value:9,amount:4}))})),i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[0],value:3,amount:4})),n.push(r({type:t[1],value:6,amount:4})),n.push(r({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[0],value:3,amount:1})),n.push(r({type:t[0],value:6,amount:2})),n.push(r({type:t[0],value:9,amount:3})),n.push(r({type:t[1],value:3,amount:1})),n.push(r({type:t[1],value:6,amount:2})),n.push(r({type:t[1],value:9,amount:3}))})),{tiles:e,score:35,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="369",n}))},4554:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions),u=(a.dragonOptions,a.dragonArrangments,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),o.forEach((function(e){n.push(r({type:e,value:t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:2})),a.push(r({type:n[0],value:t,amount:4})),a.push(r({type:"dragon",value:u[n[0]],amount:2})),a.push(r({type:n[1],value:t,amount:4})),a.push(r({type:"dragon",value:u[n[1]],amount:2}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:5})),a.push(r({type:n[0],value:t,amount:2})),a.push(r({type:n[1],value:t,amount:3})),a.push(r({type:n[2],value:t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Any Like Numbers",n}))},2289:(e,t,n)=>{n(1249),n(1539),n(4747),n(7042);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions),u=(a.dragonOptions,a.dragonArrangments,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){[0,4].forEach((function(n){var a=[];e.push(a),a.push(r({type:t,value:1+n,amount:2})),a.push(r({type:t,value:2+n,amount:2})),a.push(r({type:t,value:3+n,amount:3})),a.push(r({type:t,value:4+n,amount:3})),a.push(r({type:t,value:5+n,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:4})),a.push(r({type:n[0],value:t,amount:4})),a.push(r({type:n[1],value:1+t,amount:2})),a.push(r({type:n[2],value:2+t,amount:4}))})),o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:4})),a.push(r({type:n,value:t,amount:4})),a.push(r({type:n,value:1+t,amount:2})),a.push(r({type:n,value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t,amount:3})),a.push(r({type:n[0],value:1+t,amount:3})),a.push(r({type:n[1],value:2+t,amount:4})),a.push(r({type:n[1],value:3+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n,value:t,amount:3})),a.push(r({type:n,value:1+t,amount:4})),a.push(r({type:n,value:2+t,amount:3})),a.push(r({type:"dragon",value:u[n],amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-4).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t,amount:2})),a.push(r({type:n[0],value:1+t,amount:2})),a.push(r({type:n[0],value:2+t,amount:2})),a.push(r({type:n[1],value:3+t,amount:4})),a.push(r({type:n[2],value:4+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:4})),a.push(r({type:n,value:t,amount:1})),a.push(r({type:n,value:1+t,amount:2})),a.push(r({type:n,value:2+t,amount:3})),a.push(r({type:n,value:3+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t,amount:3})),a.push(r({type:n[0],value:1+t,amount:2})),a.push(r({type:n[0],value:2+t,amount:3})),a.push(r({type:"dragon",value:u[n[1]],amount:3})),a.push(r({type:"dragon",value:u[n[2]],amount:3}))}))})),{tiles:e,score:30,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t,amount:3})),a.push(r({type:n[0],value:1+t,amount:3})),a.push(r({type:n[1],value:t,amount:3})),a.push(r({type:n[1],value:1+t,amount:3})),a.push(r({type:n[2],value:2+t,amount:2}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Consecutive Run",n}))},805:(e,t,n)=>{n(1249),n(1539),n(4747),n(7042);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions),u=a.dragonOptions;a.dragonArrangments,a.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){s.forEach((function(n){u.forEach((function(a){var o=[];e.push(o),o.push(r({type:"dragon",value:a,amount:4})),o.push(r({type:t,value:n,amount:5})),o.push(r({type:"flower",amount:5}))}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t,amount:2})),a.push(r({type:n[0],value:1+t,amount:2})),a.push(r({type:n[1],value:2+t,amount:5})),a.push(r({type:n[2],value:2+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n,value:t,amount:5})),a.push(r({type:n,value:2+t,amount:4})),a.push(r({type:n,value:4+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n,value:t,amount:5})),a.push(r({type:n,value:1+t,amount:2})),a.push(r({type:n,value:2+t,amount:2})),a.push(r({type:n,value:3+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Quints",n}))},6:(e,t,n)=>{n(1249),n(1539),n(4747),n(7042);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions),u=(a.dragonOptions,a.dragonArrangments,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"wind",value:"north",amount:2})),a.push(r({type:"wind",value:"east",amount:2})),a.push(r({type:"wind",value:"west",amount:2})),a.push(r({type:"wind",value:"south",amount:2})),a.push(r({type:n,value:t,amount:2})),a.push(r({type:n,value:1+t,amount:2})),a.push(r({type:n,value:2+t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-4).forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:2})),a.push(r({type:"dragon",value:u[n],amount:2})),a.push(r({type:n,value:t,amount:2})),a.push(r({type:n,value:1+t,amount:2})),a.push(r({type:n,value:2+t,amount:2})),a.push(r({type:n,value:3+t,amount:2})),a.push(r({type:n,value:4+t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-1).forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:o[0],value:t,amount:2})),n.push(r({type:o[0],value:1+t,amount:2})),n.push(r({type:o[1],value:t,amount:2})),n.push(r({type:o[1],value:1+t,amount:2})),n.push(r({type:o[2],value:t,amount:2})),n.push(r({type:o[2],value:1+t,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[0],value:2,amount:1})),n.push(r({type:t[0],value:4,amount:1})),n.push(r({type:t[0],value:6,amount:1})),n.push(r({type:t[0],value:8,amount:1})),n.push(r({type:"dragon",value:u[t[0]],amount:2})),n.push(r({type:t[1],value:2,amount:1})),n.push(r({type:t[1],value:4,amount:1})),n.push(r({type:t[1],value:6,amount:1})),n.push(r({type:t[1],value:8,amount:1})),n.push(r({type:"dragon",value:u[t[1]],amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:3,amount:2})),n.push(r({type:t[0],value:6,amount:1})),n.push(r({type:t[1],value:3,amount:2})),n.push(r({type:t[1],value:6,amount:2})),n.push(r({type:t[1],value:9,amount:1})),n.push(r({type:t[2],value:3,amount:2})),n.push(r({type:t[2],value:6,amount:2})),n.push(r({type:t[2],value:9,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:1,amount:2})),n.push(r({type:t[0],value:3,amount:1})),n.push(r({type:t[0],value:5,amount:1})),n.push(r({type:t[0],value:7,amount:1})),n.push(r({type:t[0],value:9,amount:2})),n.push(r({type:t[1],value:1,amount:2})),n.push(r({type:t[1],value:3,amount:1})),n.push(r({type:t[1],value:5,amount:1})),n.push(r({type:t[1],value:7,amount:1})),n.push(r({type:t[1],value:9,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:"dragon",value:"white",amount:4})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"wind",value:"south",amount:1})),n.push(r({type:t[0],value:2,amount:2})),n.push(r({type:t[1],value:2,amount:2}))})),{tiles:e,score:85,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Singles and Pairs",n}))},6533:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=a.allSuits,i=(a.allSuitArrangements,a.oddOptions),s=a.evenOptions,u=(a.allOptions,a.dragonOptions),l=a.dragonArrangments;a.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(r({type:"wind",value:"north",amount:4})),n.push(r({type:"wind",value:"east",amount:3})),n.push(r({type:"wind",value:"west",amount:3})),n.push(r({type:"wind",value:"south",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l.forEach((function(t){var n=[];e.push(n),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"wind",value:"south",amount:1})),n.push(r({type:"flower",amount:2})),n.push(r({type:"dragon",value:t[0],amount:4})),n.push(r({type:"dragon",value:t[1],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"wind",value:"north",amount:4})),n.push(r({type:"wind",value:"south",amount:4})),o.forEach((function(e){n.push(r({type:e,value:t,amount:2}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){var n=[];e.push(n),n.push(r({type:"wind",value:"east",amount:4})),n.push(r({type:"wind",value:"west",amount:4})),o.forEach((function(e){n.push(r({type:e,value:t,amount:2}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){var n=[];e.push(n),n.push(r({type:"wind",value:"north",amount:2})),n.push(r({type:"wind",value:"east",amount:3})),n.push(r({type:"wind",value:"west",amount:3})),n.push(r({type:"wind",value:"south",amount:2})),n.push(r({type:"dragon",value:t,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:"wind",value:"north",amount:4})),n.push(r({type:t,value:2,amount:2})),n.push(r({type:"dragon",value:"white",amount:2})),n.push(r({type:"wind",value:"south",amount:4}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:"wind",value:"east",amount:4})),n.push(r({type:t,value:2,amount:2})),n.push(r({type:"dragon",value:"white",amount:2})),n.push(r({type:"wind",value:"west",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:"wind",value:"north",amount:3})),n.push(r({type:"wind",value:"east",amount:3})),n.push(r({type:"wind",value:"west",amount:3})),n.push(r({type:"wind",value:"south",amount:3}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Winds and Dragons",n}))},7338:(e,t,n)=>{n(2222);var a=n(2976);var r,o={name:"2021 National Mahjongg League"};Object.defineProperty(o,"combos",{get:function(){return r||(console.time("Generate "+o.name),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=[]).concat(n(6224))).concat(n(2550))).concat(n(3058))).concat(n(5076))).concat(n(7998))).concat(n(8174))).concat(n(4827))).concat(n(3148))).concat(n(7111)),r=a.outputExpander(e),console.timeEnd("Generate "+o.name),r);var e}}),e.exports=o},3058:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions,a.dragonOptions,a.dragonArrangments,a.windOptions,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:1,amount:2})),n.push(r({type:t,value:3,amount:3})),n.push(r({type:t,value:5,amount:4})),n.push(r({type:t,value:7,amount:3})),n.push(r({type:t,value:9,amount:2}))})),i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:1,amount:2})),n.push(r({type:t[0],value:3,amount:3})),n.push(r({type:t[1],value:5,amount:4})),n.push(r({type:t[2],value:7,amount:3})),n.push(r({type:t[2],value:9,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:2})),a.push(r({type:n,value:0+t,amount:2})),a.push(r({type:n,value:2+t,amount:3})),a.push(r({type:n,value:4+t,amount:4})),a.push(r({type:"dragon",value:s[n],amount:3}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:0+t,amount:3})),a.push(r({type:n[0],value:2+t,amount:4})),a.push(r({type:n[1],value:2+t,amount:3})),a.push(r({type:n[1],value:4+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:0+t,amount:2})),a.push(r({type:n[0],value:2+t,amount:3})),a.push(r({type:n[1],value:2+t,amount:3})),a.push(r({type:n[1],value:4+t,amount:2})),a.push(r({type:"dragon",value:s[n[2]],amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:4})),a.push(r({type:n,value:0+t,amount:4})),a.push(r({type:n,value:2+t,amount:2})),a.push(r({type:n,value:4+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1].forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:0+t,amount:2})),a.push(r({type:n[0],value:2+t,amount:2})),a.push(r({type:n[0],value:4+t,amount:2})),a.push(r({type:n[1],value:6+t,amount:4})),a.push(r({type:n[2],value:8+t,amount:4}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:0+t,amount:3})),a.push(r({type:n[0],value:2+t,amount:3})),a.push(r({type:n[1],value:0+t,amount:3})),a.push(r({type:n[1],value:2+t,amount:3})),a.push(r({type:n[2],value:4+t,amount:2}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="13579",n}))},8174:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements;a.oddOptions,a.evenOptions,a.allOptions,a.dragonOptions,a.dragonArrangments,a.windOptions,a.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[0],value:2,amount:2})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:t[0],value:1,amount:1})),n.push(r({type:t[1],value:2,amount:4})),n.push(r({type:t[2],value:1,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:2,amount:3})),n.push(r({type:"dragon",value:"white",amount:4})),n.push(r({type:t[1],value:2,amount:3})),n.push(r({type:t[1],value:1,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:4})),n.push(r({type:"dragon",value:"white",amount:4})),n.push(r({type:t,value:2,amount:4})),n.push(r({type:t,value:2,amount:1})),n.push(r({type:t,value:1,amount:1}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"wind",value:"north",amount:3})),n.push(r({type:"wind",value:"east",amount:2})),n.push(r({type:"wind",value:"west",amount:2})),n.push(r({type:"wind",value:"south",amount:3})),n.push(r({type:t,value:2,amount:2})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:t,value:1,amount:1}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2021",n}))},7998:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions),u=(a.allOptions,a.dragonOptions,a.dragonArrangments,a.windOptions,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:4})),n.push(r({type:t,value:2,amount:2})),n.push(r({type:t,value:4,amount:3})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:2,amount:3})),n.push(r({type:t[0],value:4,amount:4})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[1],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"dragon",value:u[t],amount:4})),n.push(r({type:t,value:2,amount:2})),n.push(r({type:t,value:4,amount:2})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:8,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[0],value:2,amount:4})),n.push(r({type:t[1],value:4,amount:2})),n.push(r({type:t[1],value:6,amount:2})),n.push(r({type:t[0],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:2,amount:3})),n.push(r({type:t[0],value:4,amount:3})),n.push(r({type:t[1],value:6,amount:4})),n.push(r({type:t[2],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:2,amount:4})),n.push(r({type:t,value:4,amount:4})),n.push(r({type:t,value:6,amount:4})),n.push(r({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[0],value:2,amount:1})),n.push(r({type:t[0],value:4,amount:1})),n.push(r({type:t[0],value:6,amount:1})),n.push(r({type:t[0],value:8,amount:1})),n.push(r({type:"dragon",value:u[t[1]],amount:4})),n.push(r({type:"dragon",value:u[t[2]],amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){s.forEach((function(n){var a=[];e.push(a),a.push(r({type:t[0],value:2,amount:3})),a.push(r({type:t[0],value:4,amount:1})),a.push(r({type:t[0],value:6,amount:1})),a.push(r({type:t[0],value:8,amount:3})),a.push(r({type:t[1],value:n,amount:3})),a.push(r({type:t[2],value:n,amount:3}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2468",n}))},3148:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions,a.dragonOptions,a.dragonArrangments,a.windOptions,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:3,amount:3})),n.push(r({type:t[0],value:6,amount:4})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[1],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:3,amount:4})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:9,amount:4})),n.push(r({type:"dragon",value:s[t],amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:3,amount:4})),n.push(r({type:t[0],value:6,amount:4})),n.push(r({type:t[1],value:9,amount:3})),n.push(r({type:t[2],value:9,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:5})),n.push(r({type:t,value:3,amount:2})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:3,amount:2})),n.push(r({type:t[0],value:6,amount:2})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[1],value:9,amount:3})),n.push(r({type:"dragon",value:s[t[2]],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t,value:3,amount:4})),n.push(r({type:t,value:6,amount:4})),n.push(r({type:t,value:9,amount:4}))})),i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[0],value:3,amount:4})),n.push(r({type:t[1],value:6,amount:4})),n.push(r({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:3,amount:3})),n.push(r({type:t[0],value:6,amount:3})),n.push(r({type:t[1],value:3,amount:3})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[2],value:9,amount:2}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="369",n}))},5076:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=(a.allSuits,a.allSuitArrangements),i=(a.oddOptions,a.evenOptions,a.allOptions),s=(a.dragonOptions,a.dragonArrangments,a.windOptions,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:2})),a.push(r({type:n[0],value:t,amount:4})),a.push(r({type:n[1],value:t,amount:4})),a.push(r({type:"wind",value:"north",amount:1})),a.push(r({type:"wind",value:"east",amount:1})),a.push(r({type:"wind",value:"west",amount:1})),a.push(r({type:"wind",value:"south",amount:1}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:4})),a.push(r({type:n[0],value:t,amount:4})),a.push(r({type:n[1],value:t,amount:2})),a.push(r({type:n[2],value:t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t,amount:3})),a.push(r({type:"dragon",value:s[n[0]],amount:4})),a.push(r({type:n[1],value:t,amount:3})),a.push(r({type:"dragon",value:s[n[1]],amount:4}))}))})),{tiles:e,score:25,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Any Like Numbers",n}))},2550:(e,t,n)=>{n(1249),n(1539),n(4747),n(7042);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions),u=(a.dragonOptions,a.dragonArrangments,a.windOptions,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){[0,4].forEach((function(n){var a=[];e.push(a),a.push(r({type:t,value:1+n,amount:2})),a.push(r({type:t,value:2+n,amount:3})),a.push(r({type:t,value:3+n,amount:4})),a.push(r({type:t,value:4+n,amount:3})),a.push(r({type:t,value:5+n,amount:2}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t,amount:3})),a.push(r({type:n[0],value:1+t,amount:4})),a.push(r({type:n[1],value:2+t,amount:3})),a.push(r({type:n[1],value:3+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n,value:t,amount:1})),a.push(r({type:n,value:1+t,amount:2})),a.push(r({type:n,value:2+t,amount:3})),a.push(r({type:n,value:3+t,amount:4})),a.push(r({type:"dragon",value:u[n],amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:5})),a.push(r({type:n,value:t,amount:2})),a.push(r({type:n,value:1+t,amount:3})),a.push(r({type:n,value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:2})),a.push(r({type:n[0],value:t,amount:4})),a.push(r({type:n[1],value:1+t,amount:4})),a.push(r({type:n[2],value:2+t,amount:4}))})),o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:2})),a.push(r({type:n,value:t,amount:4})),a.push(r({type:n,value:1+t,amount:4})),a.push(r({type:n,value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:0+t,amount:2})),a.push(r({type:n[0],value:1+t,amount:3})),a.push(r({type:n[1],value:0+t,amount:2})),a.push(r({type:n[1],value:1+t,amount:3})),a.push(r({type:n[2],value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:0+t,amount:2})),a.push(r({type:n[0],value:1+t,amount:2})),a.push(r({type:n[0],value:2+t,amount:2})),a.push(r({type:n[1],value:3+t,amount:4})),a.push(r({type:n[2],value:3+t,amount:4}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-1).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:2})),a.push(r({type:n[0],value:0+t,amount:3})),a.push(r({type:n[0],value:1+t,amount:3})),a.push(r({type:"dragon",value:u[n[1]],amount:3})),a.push(r({type:"dragon",value:u[n[2]],amount:3}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Consecutive Run",n}))},6224:(e,t,n)=>{n(1249),n(1539),n(4747),n(7042);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions),u=(a.dragonOptions,a.dragonArrangments,a.windOptions);a.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){s.forEach((function(n){u.forEach((function(a){var o=[];e.push(o),o.push(r({type:"wind",value:a,amount:5})),o.push(r({type:t,value:n,amount:4})),o.push(r({type:"flower",amount:5}))}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t,amount:5})),a.push(r({type:n[1],value:1+t,amount:2})),a.push(r({type:n[1],value:2+t,amount:2})),a.push(r({type:n[0],value:3+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-2).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t,amount:5})),a.push(r({type:n[1],value:1+t,amount:4})),a.push(r({type:n[2],value:2+t,amount:5}))}))})),s.slice(0,-2).forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n,value:t,amount:5})),a.push(r({type:n,value:1+t,amount:4})),a.push(r({type:n,value:2+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-1).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t,amount:2})),a.push(r({type:n[0],value:1+t,amount:5})),a.push(r({type:n[1],value:t,amount:2})),a.push(r({type:n[1],value:1+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Quints",n}))},7111:(e,t,n)=>{n(1249),n(1539),n(4747),n(7042);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions),u=a.allOptions;a.dragonOptions,a.dragonArrangments,a.windOptions,a.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:"wind",value:"north",amount:2})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"wind",value:"south",amount:2})),o.forEach((function(e){n.push(r({type:e,value:t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){[0,4].forEach((function(n){var a=[];e.push(a),a.push(r({type:t[0],value:n+1,amount:2})),a.push(r({type:t[0],value:n+3,amount:1})),a.push(r({type:t[1],value:n+1,amount:2})),a.push(r({type:t[1],value:n+3,amount:2})),a.push(r({type:t[1],value:n+5,amount:1})),a.push(r({type:t[2],value:n+1,amount:2})),a.push(r({type:t[2],value:n+3,amount:2})),a.push(r({type:t[2],value:n+5,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-5).forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:2})),a.push(r({type:n,value:t,amount:2})),a.push(r({type:n,value:1+t,amount:2})),a.push(r({type:n,value:2+t,amount:2})),a.push(r({type:n,value:3+t,amount:2})),a.push(r({type:n,value:4+t,amount:2})),a.push(r({type:n,value:5+t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){s.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:2})),a.push(r({type:t[0],value:2,amount:2})),a.push(r({type:t[0],value:4,amount:2})),a.push(r({type:t[0],value:6,amount:2})),a.push(r({type:t[0],value:8,amount:2})),a.push(r({type:t[1],value:n,amount:2})),a.push(r({type:t[2],value:n,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[1],value:3,amount:2})),n.push(r({type:t[1],value:6,amount:2})),n.push(r({type:t[1],value:9,amount:2})),n.push(r({type:t[2],value:3,amount:2})),n.push(r({type:t[2],value:6,amount:2})),n.push(r({type:t[2],value:9,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),o.forEach((function(e){n.push(r({type:e,value:2,amount:2})),n.push(r({type:e,value:1,amount:1})),n.push(r({type:"dragon",value:"white",amount:1}))}))})),{tiles:e,score:75,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Singles and Pairs",n}))},4827:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=a.createTiles,o=a.allSuits,i=a.allSuitArrangements,s=a.oddOptions,u=a.evenOptions,l=(a.allOptions,a.dragonOptions,a.dragonArrangments,a.windOptions,a.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(r({type:"wind",value:"north",amount:4})),n.push(r({type:"wind",value:"east",amount:3})),n.push(r({type:"wind",value:"west",amount:3})),n.push(r({type:"wind",value:"south",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){s.forEach((function(n){var a=[];e.push(a),a.push(r({type:"wind",value:"north",amount:3})),a.push(r({type:"wind",value:"south",amount:3})),a.push(r({type:t[0],value:n,amount:2})),a.push(r({type:t[1],value:n,amount:2})),a.push(r({type:t[2],value:n,amount:4}))})),u.forEach((function(n){var a=[];e.push(a),a.push(r({type:"wind",value:"east",amount:3})),a.push(r({type:"wind",value:"west",amount:3})),a.push(r({type:t[0],value:n,amount:2})),a.push(r({type:t[1],value:n,amount:2})),a.push(r({type:t[2],value:n,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:4})),n.push(r({type:"wind",value:"north",amount:3})),n.push(r({type:"wind",value:"east",amount:2})),n.push(r({type:"wind",value:"west",amount:2})),n.push(r({type:"wind",value:"south",amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:"dragon",value:"red",amount:4})),n.push(r({type:"wind",value:"north",amount:4})),n.push(r({type:"wind",value:"south",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:"dragon",value:"green",amount:4})),n.push(r({type:"wind",value:"east",amount:4})),n.push(r({type:"wind",value:"west",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:"wind",value:"north",amount:4})),n.push(r({type:"wind",value:"south",amount:4})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:t,value:2,amount:2})),n.push(r({type:t,value:1,amount:1}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:"wind",value:"east",amount:4})),n.push(r({type:"wind",value:"west",amount:4})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:t,value:2,amount:2})),n.push(r({type:t,value:1,amount:1}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"wind",value:"north",amount:3})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"wind",value:"south",amount:3})),n.push(r({type:"dragon",value:l[t[0]],amount:3})),n.push(r({type:"dragon",value:l[t[1]],amount:3}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Winds and Dragons",n}))},6587:(e,t,n)=>{n(7941);var a={"2020 National Mahjongg League":n(3205),"2021 National Mahjongg League":n(7338)},r=Object.keys(a);a["2021 Marvelous Mahjongg"]=n(418),a["2022 Marvelous Mahjongg"]=n(9252),Object.defineProperty(a,"Random",{get:function(){return a[r[Math.floor(Math.random()*r.length)]]}}),e.exports=a},418:(e,t,n)=>{function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309),n(4916);var o=n(2976);var i,s={name:"2021 Marvelous Mahjongg"};Object.defineProperty(s,"combos",{get:function(){return i||(console.time("Generate "+s.name),(e=[]).push.apply(e,a(n(7487))),e.push.apply(e,a(n(8091))),e.push.apply(e,a(n(6817))),e.push.apply(e,a(n(8591))),e.push.apply(e,a(n(9464))),e.push.apply(e,a(n(6128))),e.push.apply(e,a(n(8267))),e.push.apply(e,a(n(7217))),e.push.apply(e,a(n(4337))),i=o.outputExpander(e),console.timeEnd("Generate "+s.name),i);var e}}),e.exports=s},6817:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements;a.oddOptions,a.evenOptions,a.allOptions,a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:3,amount:1})),n.push(r({type:t[1],value:3,amount:1})),n.push(r({type:t[1],value:6,amount:1})),n.push(r({type:t[1],value:9,amount:3})),n.push(r({type:t[2],value:3,amount:2})),n.push(r({type:t[2],value:6,amount:3})),n.push(r({type:t[2],value:9,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:3,amount:3})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:9,amount:1})),n.push(r({type:"any",value:"any",amount:4})),n.push(r({type:"any",value:"any",amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:3,amount:3})),n.push(r({type:t[0],value:6,amount:1})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[1],value:9,amount:2})),n.push(r({type:t[2],value:3,amount:3})),n.push(r({type:t[2],value:9,amount:2}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"wind",value:"south",amount:1})),n.push(r({type:t[0],value:3,amount:1})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[2],value:9,amount:4}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"wind",value:"south",amount:1})),n.push(r({type:t,value:3,amount:1})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:9,amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:4})),a.push(r({type:t[0],value:3,amount:1})),a.push(r({type:t[0],value:6,amount:1})),a.push(r({type:t[1],value:6,amount:2})),a.push(r({type:t[2],value:6,amount:1})),a.push(r({type:t[2],value:9,amount:1})),a.push(r({type:n[0],value:2,amount:1})),a.push(r({type:"dragon",value:"white",amount:1})),a.push(r({type:n[1],value:2,amount:1})),a.push(r({type:n[2],value:1,amount:1}))}))})),{tiles:e,score:35,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="3 More Miles",n}))},7217:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements;a.oddOptions,a.evenOptions,a.allOptions,a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:3})),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:"wind",value:"south",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"dragon",value:"any",amount:1}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:3})),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"dragon",value:"any",amount:1})),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:"wind",value:"west",amount:1}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"bamboo",value:"any",amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:"wind",value:"south",amount:1})),n.push(r({type:t,value:2,amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"flower",amount:1})),n.push(r({type:"bamboo",value:"any",amount:1})),n.push(r({type:"dragon",value:"red",amount:3})),n.push(r({type:"dragon",value:"any",amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"wind",value:"north",amount:1}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"dragon",value:"red",amount:1})),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"bamboo",value:"any",amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"wind",value:"south",amount:1})),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"dragon",value:"any",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"joker",amount:1}))})),{tiles:e,score:75,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){i.forEach((function(a){var o=[];e.push(o),o.push(r({type:"flower",amount:1})),o.push(r({type:n,value:1,amount:1})),o.push(r({type:t,value:7,amount:1})),o.push(r({type:"any",value:"any",amount:2})),o.push(r({type:"wind",value:"west",amount:1})),o.push(r({type:"any",value:"any",amount:1})),o.push(r({type:"dragon",value:"green",amount:1})),o.push(r({type:"dragon",value:"white",amount:1})),o.push(r({type:"wind",value:"north",amount:1})),o.push(r({type:a[0],value:2,amount:1})),o.push(r({type:"dragon",value:"white",amount:1})),o.push(r({type:a[1],value:2,amount:1})),o.push(r({type:a[2],value:1,amount:1}))}))}))})),{tiles:e,score:75,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{tiles:e,score:75,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){o.forEach((function(a){var o=[];e.push(o),o.push(r({type:"flower",amount:1})),o.push(r({type:"wind",value:"east",amount:1})),o.push(r({type:n,value:1,amount:1})),o.push(r({type:t,value:7,amount:1})),o.push(r({type:"dragon",value:"any",amount:1})),o.push(r({type:"any",value:"any",amount:1})),o.push(r({type:"wind",value:"north",amount:1})),o.push(r({type:"dragon",value:"any",amount:1})),o.push(r({type:"wind",value:"south",amount:1})),o.push(r({type:a,value:2,amount:1})),o.push(r({type:"dragon",value:"red",amount:1})),o.push(r({type:"wind",value:"east",amount:1})),o.push(r({type:"any",value:"any",amount:1})),o.push(r({type:"wind",value:"west",amount:1}))}))}))})),{tiles:e,score:75,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Carpe Diem",n}))},7487:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions);a.allOptions,a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[2,4].forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:1})),a.push(r({type:n[0],value:0+t,amount:1})),a.push(r({type:n[1],value:2+t,amount:2})),a.push(r({type:n[2],value:4+t,amount:3})),a.push(r({type:"any",value:"any",amount:4})),a.push(r({type:"any",value:"any",amount:3}))})),o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:1})),a.push(r({type:n,value:0+t,amount:1})),a.push(r({type:n,value:2+t,amount:2})),a.push(r({type:n,value:4+t,amount:3})),a.push(r({type:"any",value:"any",amount:4})),a.push(r({type:"any",value:"any",amount:3}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:2,amount:3})),n.push(r({type:t[0],value:4,amount:3})),n.push(r({type:t[1],value:6,amount:1})),n.push(r({type:t[1],value:8,amount:1})),n.push(r({type:t[2],value:6,amount:3})),n.push(r({type:t[2],value:8,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:1})),n.push(r({type:t[0],value:4,amount:3})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[1],value:2,amount:1})),n.push(r({type:t[1],value:4,amount:1})),n.push(r({type:t[2],value:4,amount:1})),n.push(r({type:t[2],value:6,amount:1})),n.push(r({type:t[2],value:8,amount:3}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:1})),n.push(r({type:t,value:4,amount:3})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:2,amount:1})),n.push(r({type:t,value:4,amount:1})),n.push(r({type:t,value:4,amount:1})),n.push(r({type:t,value:6,amount:1})),n.push(r({type:t,value:8,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:t[0],value:2,amount:1})),n.push(r({type:t[1],value:4,amount:3})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[2],value:8,amount:3}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[0],value:2,amount:3})),n.push(r({type:"dragon",value:"white",amount:3})),n.push(r({type:t[1],value:2,amount:3})),n.push(r({type:t[2],value:1,amount:3}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){o.forEach((function(n){i.forEach((function(a){var o=[];e.push(o),o.push(r({type:"wind",value:"south",amount:1})),o.push(r({type:n,value:7,amount:1})),o.push(r({type:"wind",value:"east",amount:1})),o.push(r({type:"wind",value:"west",amount:1})),o.push(r({type:"dragon",value:"white",amount:1})),o.push(r({type:"flower",amount:1})),o.push(r({type:a[0],value:t,amount:3})),o.push(r({type:a[1],value:t,amount:2})),o.push(r({type:a[2],value:t,amount:3}))}))}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"any",value:"any",amount:3})),a.push(r({type:"any",value:"any",amount:1})),a.push(r({type:"wind",value:"south",amount:1})),a.push(r({type:t,value:1,amount:1})),a.push(r({type:"dragon",value:"white",amount:1})),a.push(r({type:"wind",value:"north",amount:1})),a.push(r({type:n[0],value:8,amount:3})),a.push(r({type:n[1],value:4,amount:1})),a.push(r({type:"wind",value:"west",amount:1})),a.push(r({type:"joker",amount:1}))}))})),o.forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"any",value:"any",amount:3})),a.push(r({type:"any",value:"any",amount:1})),a.push(r({type:"wind",value:"south",amount:1})),a.push(r({type:t,value:1,amount:1})),a.push(r({type:"dragon",value:"white",amount:1})),a.push(r({type:"wind",value:"north",amount:1})),a.push(r({type:n,value:8,amount:3})),a.push(r({type:n,value:4,amount:1})),a.push(r({type:"wind",value:"west",amount:1})),a.push(r({type:"joker",amount:1}))}))})),{tiles:e,score:40,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Double Harness",n}))},6128:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits;a.allSuitArrangements,a.oddOptions,a.evenOptions,a.allOptions,a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){o.forEach((function(a){var o=[];e.push(o),o.push(r({type:"any",value:"any",amount:3})),o.push(r({type:t,value:7,amount:1})),o.push(r({type:"dragon",value:"white",amount:1})),o.push(r({type:"wind",value:"west",amount:1})),o.push(r({type:"any",value:"any",amount:1})),o.push(r({type:"flower",amount:3})),o.push(r({type:a,value:1,amount:1})),o.push(r({type:"wind",value:"east",amount:1})),o.push(r({type:n,value:7,amount:1})),o.push(r({type:"dragon",value:"any",amount:1}))}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:t,value:2,amount:1})),a.push(r({type:n,value:1,amount:1})),a.push(r({type:"character",value:"any",amount:1})),a.push(r({type:"any",value:"any",amount:2})),a.push(r({type:"dragon",value:"red",amount:3})),a.push(r({type:"dragon",value:"green",amount:3})),a.push(r({type:"dragon",value:"white",amount:3}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){o.forEach((function(a){var o=[];e.push(o),o.push(r({type:"dragon",value:"white",amount:1})),o.push(r({type:"character",value:"any",amount:1})),o.push(r({type:"any",value:"any",amount:4})),o.push(r({type:"wind",value:"south",amount:3})),o.push(r({type:t,value:2,amount:2})),o.push(r({type:"any",value:"any",amount:1})),o.push(r({type:a,value:1,amount:1})),o.push(r({type:n,value:7,amount:1}))}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"character",value:"any",amount:1})),n.push(r({type:"wind",value:"south",amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:t,value:4,amount:3})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"dragon",value:"red",amount:1})),n.push(r({type:"any",value:"any",amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:"dragon",value:"green",amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"any",value:"any",amount:3})),n.push(r({type:t,value:7,amount:1})),n.push(r({type:"wind",value:"east",amount:3})),n.push(r({type:"dragon",value:"red",amount:1}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"bamboo",value:"any",amount:1})),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:"bamboo",value:"any",amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"bamboo",value:"any",amount:1})),n.push(r({type:t,value:7,amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"character",value:"any",amount:1})),n.push(r({type:"any",value:"any",amount:4}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){o.forEach((function(a){var o=[];e.push(o),o.push(r({type:"any",value:"any",amount:2})),o.push(r({type:t,value:7,amount:1})),o.push(r({type:n,value:7,amount:1})),o.push(r({type:a,value:1,amount:2})),o.push(r({type:"any",value:"any",amount:4})),o.push(r({type:"wind",value:"east",amount:1})),o.push(r({type:"wind",value:"west",amount:2})),o.push(r({type:"joker",amount:1}))}))}))})),{tiles:e,score:40,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Field and Stream",n}))},8091:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements,s=a.oddOptions,u=(a.evenOptions,a.allOptions,a.windOptions,a.windArrangments,a.dragonOptions);a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:1,amount:1})),n.push(r({type:t[1],value:3,amount:1})),n.push(r({type:t[1],value:5,amount:1})),n.push(r({type:t[1],value:7,amount:1})),n.push(r({type:t[2],value:9,amount:3})),n.push(r({type:"any",value:"any",amount:4})),n.push(r({type:"any",value:"any",amount:3}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:1,amount:1})),n.push(r({type:t,value:3,amount:1})),n.push(r({type:t,value:5,amount:1})),n.push(r({type:t,value:7,amount:1})),n.push(r({type:t,value:9,amount:3})),n.push(r({type:"any",value:"any",amount:4})),n.push(r({type:"any",value:"any",amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:t,value:3,amount:3})),n.push(r({type:t,value:5,amount:2})),n.push(r({type:t,value:7,amount:3})),n.push(r({type:t,value:9,amount:3}))})),i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:2})),n.push(r({type:t[0],value:1,amount:1})),n.push(r({type:t[0],value:3,amount:3})),n.push(r({type:t[0],value:5,amount:1})),n.push(r({type:t[1],value:5,amount:1})),n.push(r({type:t[1],value:7,amount:3})),n.push(r({type:t[1],value:9,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0,2,4].forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n,value:t+1,amount:3})),a.push(r({type:n,value:t+3,amount:3})),a.push(r({type:n,value:t+5,amount:3})),a.push(r({type:n,value:1,amount:1})),a.push(r({type:n,value:3,amount:1})),a.push(r({type:n,value:5,amount:1})),a.push(r({type:n,value:7,amount:1})),a.push(r({type:n,value:9,amount:1}))})),i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t+1,amount:3})),a.push(r({type:n[1],value:t+3,amount:3})),a.push(r({type:n[2],value:t+5,amount:3})),a.push(r({type:n[0],value:1,amount:1})),a.push(r({type:n[0],value:3,amount:1})),a.push(r({type:n[0],value:5,amount:1})),a.push(r({type:n[0],value:7,amount:1})),a.push(r({type:n[0],value:9,amount:1}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:4})),a.push(r({type:"dragon",value:t,amount:3})),a.push(r({type:n[0],value:2,amount:1})),a.push(r({type:n[0],value:1,amount:1})),a.push(r({type:n[1],value:1,amount:1})),a.push(r({type:n[1],value:3,amount:1})),a.push(r({type:n[1],value:5,amount:1})),a.push(r({type:n[1],value:7,amount:1})),a.push(r({type:n[1],value:9,amount:1}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:t[0],value:1,amount:1})),n.push(r({type:t[1],value:3,amount:3})),n.push(r({type:t[1],value:5,amount:3})),n.push(r({type:t[2],value:9,amount:3}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){o.forEach((function(n){i.forEach((function(a){var o=[];e.push(o),o.push(r({type:"wind",value:"south",amount:1})),o.push(r({type:n,value:7,amount:1})),o.push(r({type:"wind",value:"east",amount:1})),o.push(r({type:"wind",value:"west",amount:1})),o.push(r({type:"dragon",value:"white",amount:1})),o.push(r({type:"flower",amount:1})),o.push(r({type:a[0],value:t,amount:3})),o.push(r({type:a[1],value:t,amount:2})),o.push(r({type:a[2],value:t,amount:3}))}))}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){o.forEach((function(a){var o=[];e.push(o),o.push(r({type:"wind",value:"west",amount:1})),o.push(r({type:"joker",amount:1})),o.push(r({type:"flower",amount:1})),o.push(r({type:n,value:1,amount:1})),o.push(r({type:"dragon",value:"red",amount:1})),o.push(r({type:"wind",value:"east",amount:1})),o.push(r({type:"character",value:"any",amount:1})),o.push(r({type:"any",value:"any",amount:1})),o.push(r({type:t,value:7,amount:3})),o.push(r({type:a,value:9,amount:1})),o.push(r({type:a,value:1,amount:2}))}))}))})),{tiles:e,score:40,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Oddly Matched",n}))},4337:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits;a.allSuitArrangements,a.oddOptions,a.evenOptions,a.allOptions,a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.push(t),t.push(r({type:"any",value:"any",amount:2})),t.push(r({type:"any",value:"any",amount:3})),t.push(r({type:"any",value:"any",amount:4})),t.push(r({type:"any",value:"any",amount:5})),{tiles:e,score:35,concealed:!1,maxJokers:1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"dragon",value:"any",amount:1})),a.push(r({type:"wind",value:"east",amount:1})),a.push(r({type:n,value:7,amount:1})),a.push(r({type:t,value:1,amount:1})),a.push(r({type:"wind",value:"north",amount:1})),a.push(r({type:"any",value:"any",amount:4})),a.push(r({type:"any",value:"any",amount:5}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"any",value:"any",amount:5})),a.push(r({type:t,value:1,amount:1})),a.push(r({type:"character",value:"any",amount:1})),a.push(r({type:"any",value:"any",amount:4})),a.push(r({type:"wind",value:"west",amount:1})),a.push(r({type:n,value:1,amount:1})),a.push(r({type:"wind",value:"north",amount:1}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.push(t),t.push(r({type:"flower",amount:5})),t.push(r({type:"bamboo",value:"any",amount:1})),t.push(r({type:"dragon",value:"white",amount:3})),t.push(r({type:"wind",value:"west",amount:1})),t.push(r({type:"wind",value:"east",amount:1})),t.push(r({type:"dragon",value:"red",amount:3})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){o.forEach((function(a){var o=[];e.push(o),o.push(r({type:"wind",value:"north",amount:1})),o.push(r({type:"dragon",value:"white",amount:1})),o.push(r({type:"any",value:"any",amount:5})),o.push(r({type:n,value:1,amount:1})),o.push(r({type:"bamboo",value:"any",amount:1})),o.push(r({type:"bamboo",value:"any",amount:1})),o.push(r({type:t,value:7,amount:1})),o.push(r({type:a,value:1,amount:1})),o.push(r({type:"wind",value:"north",amount:1})),o.push(r({type:"dragon",value:"green",amount:1}))}))}))})),{tiles:e,score:50,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Quintaabulous",n}))},8591:(e,t,n)=>{n(1249),n(1539),n(4747),n(7042);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions),u=(a.windOptions,a.windArrangments);a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){s.slice(0,-4).forEach((function(n){var a=[];e.push(a),a.push(r({type:t,value:n+0,amount:1})),a.push(r({type:t,value:n+1,amount:3})),a.push(r({type:t,value:n+2,amount:1})),a.push(r({type:t,value:n+3,amount:4})),a.push(r({type:t,value:n+4,amount:1})),a.push(r({type:"any",value:"any",amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:0+t,amount:4})),a.push(r({type:n[1],value:1+t,amount:3})),a.push(r({type:n[1],value:2+t,amount:3})),a.push(r({type:n[2],value:3+t,amount:4}))})),o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n,value:0+t,amount:4})),a.push(r({type:n,value:1+t,amount:3})),a.push(r({type:n,value:2+t,amount:3})),a.push(r({type:n,value:3+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-4).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:0+t,amount:3})),a.push(r({type:n[1],value:1+t,amount:2})),a.push(r({type:n[2],value:2+t,amount:4})),a.push(r({type:n[1],value:3+t,amount:2})),a.push(r({type:n[0],value:4+t,amount:3}))})),o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n,value:0+t,amount:3})),a.push(r({type:n,value:1+t,amount:2})),a.push(r({type:n,value:2+t,amount:4})),a.push(r({type:n,value:3+t,amount:2})),a.push(r({type:n,value:4+t,amount:3}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-4).forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"any",value:"any",amount:2})),a.push(r({type:n[0],value:0+t,amount:3})),a.push(r({type:n[0],value:1+t,amount:3})),a.push(r({type:n[1],value:2+t,amount:1})),a.push(r({type:n[1],value:3+t,amount:1})),a.push(r({type:n[1],value:4+t,amount:1})),a.push(r({type:n[2],value:2+t,amount:1})),a.push(r({type:n[2],value:3+t,amount:1})),a.push(r({type:n[2],value:4+t,amount:1}))}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=1;return i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:1})),a.push(r({type:n[0],value:0+t,amount:1})),a.push(r({type:n[0],value:1+t,amount:1})),a.push(r({type:n[0],value:2+t,amount:1})),a.push(r({type:n[0],value:3+t,amount:1})),a.push(r({type:n[0],value:4+t,amount:1})),a.push(r({type:n[1],value:5+t,amount:3})),a.push(r({type:n[1],value:6+t,amount:1})),a.push(r({type:n[1],value:7+t,amount:3})),a.push(r({type:n[1],value:8+t,amount:1}))})),o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:1})),a.push(r({type:n,value:0+t,amount:1})),a.push(r({type:n,value:1+t,amount:1})),a.push(r({type:n,value:2+t,amount:1})),a.push(r({type:n,value:3+t,amount:1})),a.push(r({type:n,value:4+t,amount:1})),a.push(r({type:n,value:5+t,amount:3})),a.push(r({type:n,value:6+t,amount:1})),a.push(r({type:n,value:7+t,amount:3})),a.push(r({type:n,value:8+t,amount:1}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t){i.forEach((function(n){u.forEach((function(a){var o=[];e.push(o),o.push(r({type:n[0],value:2,amount:1})),o.push(r({type:"dragon",value:"white",amount:1})),o.push(r({type:"wind",value:a[0],amount:3})),o.push(r({type:n[1],value:0+t,amount:1})),o.push(r({type:n[1],value:1+t,amount:1})),o.push(r({type:n[1],value:2+t,amount:1})),o.push(r({type:n[1],value:3+t,amount:1})),o.push(r({type:"wind",value:a[1],amount:3})),o.push(r({type:n[2],value:2,amount:1})),o.push(r({type:n[2],value:1,amount:1}))}))}))})),{tiles:e,score:35,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Running With The Bulls",n}))},8267:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions);a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"any",value:"any",amount:1})),s.forEach((function(e){a.push(r({type:t,value:e,amount:1}))})),a.push(r({type:n[0],value:2,amount:1})),a.push(r({type:"dragon",value:"white",amount:1})),a.push(r({type:n[1],value:2,amount:1})),a.push(r({type:n[2],value:1,amount:1}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Sub Atomic",n}))},9464:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements;a.oddOptions,a.evenOptions,a.allOptions,a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:2,amount:1})),n.push(r({type:t[0],value:1,amount:1})),n.push(r({type:t[0],value:5,amount:3})),n.push(r({type:t[1],value:4,amount:3})),n.push(r({type:t[2],value:3,amount:3})),n.push(r({type:t[2],value:9,amount:3}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:2,amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:t,value:5,amount:3})),n.push(r({type:t,value:4,amount:3})),n.push(r({type:t,value:3,amount:3})),n.push(r({type:t,value:9,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:2,amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:t[1],value:2,amount:3})),n.push(r({type:t[1],value:1,amount:3})),n.push(r({type:t[2],value:8,amount:3})),n.push(r({type:t[2],value:9,amount:3}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:2,amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:t,value:2,amount:3})),n.push(r({type:t,value:1,amount:3})),n.push(r({type:t,value:8,amount:3})),n.push(r({type:t,value:9,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:1,amount:1})),n.push(r({type:t[0],value:9,amount:1})),n.push(r({type:t[0],value:7,amount:3})),n.push(r({type:t[0],value:6,amount:3})),n.push(r({type:t[1],value:2,amount:3})),n.push(r({type:t[2],value:4,amount:3}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:1,amount:1})),n.push(r({type:t,value:9,amount:1})),n.push(r({type:t,value:7,amount:3})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:2,amount:3})),n.push(r({type:t,value:4,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{tiles:e,score:40,concealed:!0,skipDuplicateRemoval:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t[0],value:1,amount:1})),n.push(r({type:t[0],value:9,amount:1})),n.push(r({type:t[0],value:4,amount:1})),n.push(r({type:t[0],value:9,amount:1})),n.push(r({type:t[1],value:1,amount:1})),n.push(r({type:t[1],value:9,amount:1})),n.push(r({type:t[1],value:6,amount:1})),n.push(r({type:t[1],value:1,amount:1})),n.push(r({type:t[2],value:1,amount:1})),n.push(r({type:t[2],value:9,amount:1})),n.push(r({type:t[2],value:7,amount:1})),n.push(r({type:t[2],value:3,amount:1}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:t,value:9,amount:1})),n.push(r({type:t,value:4,amount:1})),n.push(r({type:t,value:9,amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:t,value:9,amount:1})),n.push(r({type:t,value:6,amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:t,value:9,amount:1})),n.push(r({type:t,value:7,amount:1})),n.push(r({type:t,value:3,amount:1}))})),{tiles:e,score:75,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="What's Your Number Please?",n}))},9252:(e,t,n)=>{function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309),n(4916);var o=n(2976);var i,s={name:"2022 Marvelous Mahjongg"};Object.defineProperty(s,"combos",{get:function(){return i||(console.time("Generate "+s.name),(e=[]).push.apply(e,a(n(5116))),e.push.apply(e,a(n(4248))),e.push.apply(e,a(n(9584))),e.push.apply(e,a(n(525))),e.push.apply(e,a(n(9708))),e.push.apply(e,a(n(91))),e.push.apply(e,a(n(5515))),e.push.apply(e,a(n(3517))),e.push.apply(e,a(n(6402))),e.push.apply(e,a(n(446))),i=o.outputExpander(e),console.timeEnd("Generate "+s.name),i);var e}}),e.exports=s},5116:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits;a.allSuitArrangements,a.oddOptions,a.evenOptions,a.allOptions,a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"any",value:"any",amount:3})),a.push(r({type:"any",value:"any",amount:1})),a.push(r({type:"any",value:"any",amount:3})),a.push(r({type:"wind",value:"east",amount:1})),a.push(r({type:"dragon",value:"red",amount:1})),a.push(r({type:t,value:2,amount:1})),a.push(r({type:n,value:1,amount:1})),a.push(r({type:"dragon",value:"green",amount:1})),a.push(r({type:"wind",value:"east",amount:1})),a.push(r({type:"dragon",value:"red",amount:1}))}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"joker",amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"any",value:"any",amount:3})),n.push(r({type:"wind",value:"south",amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:"any",value:"any",amount:3})),n.push(r({type:"wind",value:"south",amount:1}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:"joker",amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"dragon",value:"green",amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"bamboo",value:"any",amount:1})),n.push(r({type:"dragon",value:"white",amount:3})),n.push(r({type:"any",value:"any",amount:4}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"dragon",value:"red",amount:1})),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"dragon",value:"green",amount:1})),n.push(r({type:"wind",value:"east",amount:1})),n.push(r({type:"bamboo",value:"any",amount:1})),n.push(r({type:t,value:7,amount:1})),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:"character",value:"any",amount:1})),n.push(r({type:"any",value:"any",amount:4}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n,a){var o=[];e.push(o),o.push(r({type:"any",value:"any",amount:4})),o.push(r({type:n,value:1,amount:1})),o.push(r({type:"wind",value:"north",amount:1})),o.push(r({type:"dragon",value:"green",amount:1})),o.push(r({type:"dragon",value:"white",amount:1})),o.push(r({type:"flower",amount:1})),o.push(r({type:"joker",amount:1})),o.push(r({type:"wind",value:"north",amount:1})),o.push(r({type:"dragon",value:"green",amount:1})),o.push(r({type:t,value:1,amount:1})),o.push(r({type:"wind",value:"east",amount:1}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n,a){var o=[];e.push(o),o.push(r({type:"dragon",value:"green",amount:3})),o.push(r({type:"dragon",value:"red",amount:3})),o.push(r({type:t,value:1,amount:1})),o.push(r({type:"flower",amount:3})),o.push(r({type:n,value:1,amount:1})),o.push(r({type:"character",value:"any",amount:1})),o.push(r({type:"wind",value:"west",amount:1})),o.push(r({type:"joker",amount:1}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n,a){o.forEach((function(n,a){var o=[];e.push(o),o.push(r({type:"character",value:"any",amount:1})),o.push(r({type:t,value:1,amount:3})),o.push(r({type:"dragon",value:"red",amount:1})),o.push(r({type:"character",value:"any",amount:1})),o.push(r({type:"dragon",value:"white",amount:1})),o.push(r({type:"wind",value:"south",amount:3})),o.push(r({type:"dragon",value:"green",amount:1})),o.push(r({type:t,value:1,amount:1})),o.push(r({type:"dragon",value:"red",amount:1})),o.push(r({type:n,value:1,amount:1}))}))}))})),{tiles:e,score:40,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Animal Magnetism",n}))},4248:(e,t,n)=>{n(1249);var a=n(2976);a.allTiles,a.nonJokerTiles,a.createTiles,a.allSuits,a.allSuitArrangements,a.oddOptions,a.evenOptions,a.allOptions,a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Atomic",n}))},9584:(e,t,n)=>{n(1249),n(1539),n(4747),n(7042);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements,s=a.oddOptions,u=(a.evenOptions,a.allOptions,a.windOptions),l=(a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential,a.permutations);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:t[0],value:1,amount:3})),n.push(r({type:t[1],value:3,amount:3})),n.push(r({type:t[2],value:5,amount:1})),n.push(r({type:t[2],value:7,amount:1})),n.push(r({type:t[2],value:9,amount:1})),n.push(r({type:"any",value:"any",amount:4}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:1})),n.push(r({type:t,value:1,amount:3})),n.push(r({type:t,value:3,amount:3})),n.push(r({type:t,value:5,amount:1})),n.push(r({type:t,value:7,amount:1})),n.push(r({type:t,value:9,amount:1})),n.push(r({type:"any",value:"any",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){u.forEach((function(n){s.slice(0,-2).forEach((function(a){var o=[];e.push(o),o.push(r({type:"any",value:"any",amount:2})),o.push(r({type:"wind",value:n,amount:3})),o.push(r({type:t,value:a+0,amount:3})),o.push(r({type:t,value:a+2,amount:3})),o.push(r({type:t,value:a+4,amount:3}))}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t[0],value:3,amount:3})),n.push(r({type:t[1],value:5,amount:3})),o.forEach((function(e,t){n.push(r({type:e,value:7,amount:1})),n.push(r({type:e,value:9,amount:1}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){o.forEach((function(n){i.forEach((function(a){var o=[];e.push(o),o.push(r({type:"any",value:"any",amount:3})),o.push(r({type:n,value:1,amount:1})),o.push(r({type:"character",value:"any",amount:1})),o.push(r({type:"any",value:"any",amount:4})),o.push(r({type:a[0],value:t,amount:2})),o.push(r({type:a[1],value:t,amount:1})),o.push(r({type:a[2],value:t,amount:2}))}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){l(s).forEach((function(n){var a=[];e.push(a),a.push(r({type:"character",value:2,amount:1})),a.push(r({type:"dragon",value:"white",amount:1})),a.push(r({type:"bamboo",value:2,amount:1})),a.push(r({type:"circle",value:2,amount:1})),a.push(r({type:t[0],value:n[0],amount:3})),a.push(r({type:t[1],value:n[1],amount:4})),a.push(r({type:t[2],value:n[2],amount:3}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:3})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"joker",amount:1})),n.push(r({type:t[0],value:3,amount:1})),n.push(r({type:t[1],value:5,amount:2})),n.push(r({type:t[2],value:7,amount:3})),n.push(r({type:t[2],value:9,amount:3}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:3})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"joker",amount:1})),n.push(r({type:t,value:3,amount:1})),n.push(r({type:t,value:5,amount:2})),n.push(r({type:t,value:7,amount:3})),n.push(r({type:t,value:9,amount:3}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){i.forEach((function(a){o.forEach((function(i){o.forEach((function(o){var s=[];e.push(s),s.push(r({type:t,value:2,amount:1})),s.push(r({type:n,value:1,amount:1})),s.push(r({type:"dragon",value:"green",amount:1})),s.push(r({type:"wind",value:"east",amount:1})),s.push(r({type:"dragon",value:"red",amount:1})),s.push(r({type:a[0],value:7,amount:3})),s.push(r({type:i,value:1,amount:1})),s.push(r({type:a[1],value:7,amount:3})),s.push(r({type:o,value:1,amount:1})),s.push(r({type:"wind",value:"east",amount:1}))}))}))}))}))})),{tiles:e,score:40,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Circus Oddity",n}))},525:(e,t,n)=>{function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(1249),n(1539),n(4747),n(7042),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(8309),n(1038),n(4916);var o=n(2976),i=o.getPairs,s=(o.allTiles,o.nonJokerTiles,o.createTiles),u=o.allSuits,l=o.allSuitArrangements;o.oddOptions,o.evenOptions,o.allOptions,o.windOptions,o.windArrangments,o.dragonOptions,o.dragonArrangments,o.suitDragonConversion,o.outputExpander,o.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){u.forEach((function(n,a){u.forEach((function(a,r){var o=[];e.push(o),o.push(s({type:"any",value:"any",amount:2})),o.push(s({type:"flower",amount:1})),o.push(s({type:"any",value:"any",amount:2})),o.push(s({type:"wind",value:"north",amount:1})),o.push(s({type:"character",value:"any",amount:1})),o.push(s({type:t,value:1,amount:1})),o.push(s({type:"flower",amount:1})),o.push(s({type:"wind",value:"east",amount:1})),o.push(s({type:a,value:7,amount:1})),o.push(s({type:n,value:1,amount:1})),o.push(s({type:"wind",value:"north",amount:1})),o.push(s({type:"wind",value:"east",amount:1}))}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){u.forEach((function(n,a){u.forEach((function(a,r){u.forEach((function(r,o){u.forEach((function(o,i){var u=[];e.push(u),u.push(s({type:"any",value:"any",amount:1})),u.push(s({type:t,value:1,amount:1})),u.push(s({type:"dragon",value:"any",amount:1})),u.push(s({type:"dragon",value:"red",amount:1})),u.push(s({type:"flower",amount:1})),u.push(s({type:a,value:7,amount:1})),u.push(s({type:n,value:1,amount:1})),u.push(s({type:"dragon",value:"any",amount:1})),u.push(s({type:"dragon",value:"red",amount:1})),u.push(s({type:"flower",amount:1})),u.push(s({type:r,value:7,amount:1})),u.push(s({type:"wind",value:"any",amount:1})),u.push(s({type:o,value:1,amount:1})),u.push(s({type:"wind",value:"north",amount:1}))}))}))}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){u.forEach((function(n,a){u.forEach((function(a,r){u.forEach((function(r,o){var i=[];e.push(i),i.push(s({type:t,value:2,amount:2})),i.push(s({type:"flower",amount:1})),i.push(s({type:"wind",value:"east",amount:1})),i.push(s({type:a,value:7,amount:1})),i.push(s({type:n,value:1,amount:1})),i.push(s({type:"wind",value:"north",amount:1})),i.push(s({type:"wind",value:"east",amount:1})),i.push(s({type:"flower",amount:1})),i.push(s({type:"dragon",value:"red",amount:1})),i.push(s({type:"wind",value:"east",amount:1})),i.push(s({type:"wind",value:"north",amount:1})),i.push(s({type:"wind",value:"south",amount:1})),i.push(s({type:r,value:1,amount:1}))}))}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t,n){u.forEach((function(n,a){var r=[];e.push(r),r.push(s({type:"any",value:"any",amount:2})),r.push(s({type:"character",value:"any",amount:1})),r.push(s({type:"any",value:"any",amount:1})),r.push(s({type:"dragon",value:"green",amount:1})),r.push(s({type:"wind",value:"east",amount:1})),r.push(s({type:"dragon",value:"any",amount:1})),r.push(s({type:"any",value:"any",amount:2})),r.push(s({type:"wind",value:"north",amount:1})),r.push(s({type:t,value:1,amount:1})),r.push(s({type:"wind",value:"west",amount:1})),r.push(s({type:"any",value:"any",amount:1})),r.push(s({type:n,value:7,amount:1}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i(u.slice(0)).forEach((function(t){var n=a(t,2),r=n[0],o=n[1];i(u.slice(0)).forEach((function(t){var n=a(t,2),i=n[0],l=n[1];u.forEach((function(t){u.forEach((function(n,a){u.forEach((function(a,u){var c=[];e.push(c),c.push(s({type:"character",value:"any",amount:1})),c.push(s({type:"any",value:"any",amount:1})),c.push(s({type:t,value:7,amount:2})),c.push(s({type:a,value:4,amount:1})),c.push(s({type:"any",value:"any",amount:1})),c.push(s({type:i,value:2,amount:1})),c.push(s({type:r,value:1,amount:1})),c.push(s({type:n,value:7,amount:1})),c.push(s({type:"wind",value:"east",amount:1})),c.push(s({type:l,value:2,amount:1})),c.push(s({type:"wind",value:"west",amount:1})),c.push(s({type:o,value:1,amount:1})),c.push(s({type:"wind",value:"north",amount:1}))}))}))}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l.forEach((function(t){var n=[];e.push(n),n.push(s({type:t[0],value:3,amount:1})),n.push(s({type:t[0],value:4,amount:1})),n.push(s({type:t[0],value:5,amount:1})),n.push(s({type:t[0],value:9,amount:1})),n.push(s({type:t[0],value:4,amount:1})),n.push(s({type:t[0],value:7,amount:1})),n.push(s({type:"wind",value:"north",amount:1})),n.push(s({type:t[1],value:8,amount:1})),n.push(s({type:t[1],value:3,amount:1})),n.push(s({type:t[1],value:2,amount:1})),n.push(s({type:t[1],value:6,amount:1})),n.push(s({type:t[1],value:3,amount:1})),n.push(s({type:t[1],value:9,amount:1})),n.push(s({type:"wind",value:"west",amount:1}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t,n){u.forEach((function(n,a){u.forEach((function(a,r){var o=[];e.push(o),o.push(s({type:"dragon",value:"red",amount:1})),o.push(s({type:t,value:1,amount:1})),o.push(s({type:"wind",value:"north",amount:1})),o.push(s({type:"dragon",value:"green",amount:1})),o.push(s({type:"wind",value:"west",amount:1})),o.push(s({type:"any",value:"any",amount:1})),o.push(s({type:"wind",value:"south",amount:1})),o.push(s({type:n,value:2,amount:1})),o.push(s({type:"dragon",value:"red",amount:1})),o.push(s({type:a,value:4,amount:1})),o.push(s({type:"character",value:2,amount:1})),o.push(s({type:"dragon",value:"white",amount:1})),o.push(s({type:"bamboo",value:2,amount:1})),o.push(s({type:"circle",value:2,amount:1}))}))}))})),{tiles:e,score:75,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Crack The Whip",n}))},9708:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions),u=(a.allOptions,a.windOptions,a.windArrangments);a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t[0],value:2,amount:1})),n.push(r({type:t[0],value:4,amount:1})),n.push(r({type:t[0],value:8,amount:1})),n.push(r({type:t[0],value:6,amount:3})),n.push(r({type:t[1],value:8,amount:3})),n.push(r({type:t[1],value:6,amount:1})),n.push(r({type:t[1],value:4,amount:1})),n.push(r({type:t[1],value:2,amount:1}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t[0],value:2,amount:1})),n.push(r({type:t[0],value:4,amount:1})),n.push(r({type:t[0],value:6,amount:1})),n.push(r({type:t[0],value:8,amount:1})),n.push(r({type:t[1],value:6,amount:4})),n.push(r({type:t[2],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){u.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:2})),a.push(r({type:"wind",value:n[0],amount:1})),a.push(r({type:t[0],value:2,amount:1})),a.push(r({type:t[0],value:4,amount:3})),a.push(r({type:t[1],value:6,amount:1})),a.push(r({type:t[1],value:4,amount:1})),a.push(r({type:t[2],value:6,amount:3})),a.push(r({type:t[2],value:8,amount:1})),a.push(r({type:"wind",value:n[1],amount:1}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){o.forEach((function(n){i.forEach((function(a){var o=[];e.push(o),o.push(r({type:"any",value:"any",amount:3})),o.push(r({type:n,value:1,amount:1})),o.push(r({type:"character",value:"any",amount:1})),o.push(r({type:"any",value:"any",amount:4})),o.push(r({type:a[0],value:t,amount:2})),o.push(r({type:a[1],value:t,amount:1})),o.push(r({type:a[2],value:t,amount:2}))}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"character",value:2,amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"bamboo",value:2,amount:1})),n.push(r({type:"circle",value:2,amount:1})),n.push(r({type:t[0],value:4,amount:3})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[2],value:8,amount:4}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"character",value:2,amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"bamboo",value:2,amount:1})),n.push(r({type:"circle",value:2,amount:1})),n.push(r({type:t,value:4,amount:3})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:8,amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:3})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"joker",amount:1})),n.push(r({type:t[0],value:2,amount:1})),n.push(r({type:t[1],value:4,amount:2})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[2],value:8,amount:3}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:3})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"joker",amount:1})),n.push(r({type:t,value:2,amount:1})),n.push(r({type:t,value:4,amount:2})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:8,amount:3}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n,value:2,amount:3})),a.push(r({type:"dragon",value:"white",amount:3})),a.push(r({type:"wind",value:"north",amount:3})),a.push(r({type:t,value:1,amount:2})),a.push(r({type:"wind",value:"east",amount:3}))}))})),{tiles:e,score:35,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Evenly Striped",n}))},91:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits;a.allSuitArrangements,a.oddOptions,a.evenOptions,a.allOptions,a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.push(t),t.push(r({type:"any",value:"any",amount:2})),t.push(r({type:"any",value:"any",amount:3})),t.push(r({type:"any",value:"any",amount:4})),t.push(r({type:"any",value:"any",amount:5})),{tiles:e,score:35,concealed:!1,maxJokers:1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:t,value:7,amount:1})),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"any",value:"any",amount:3})),n.push(r({type:"any",value:"any",amount:5})),n.push(r({type:"dragon",value:"red",amount:1})),n.push(r({type:"wind",value:"south",amount:1}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n,a){var o=[];e.push(o),o.push(r({type:"flower",amount:5})),o.push(r({type:t,value:7,amount:1})),o.push(r({type:"any",value:"any",amount:2})),o.push(r({type:"wind",value:"west",amount:1})),o.push(r({type:"any",value:"any",amount:2})),o.push(r({type:"bamboo",value:"any",amount:1})),o.push(r({type:n,value:7,amount:1})),o.push(r({type:"wind",value:"east",amount:1}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n,a){o.forEach((function(a,i){o.forEach((function(o,i){var s=[];e.push(s),s.push(r({type:"any",value:"any",amount:1})),s.push(r({type:"any",value:"any",amount:5})),s.push(r({type:"any",value:"any",amount:1})),s.push(r({type:o,value:7,amount:1})),s.push(r({type:t,value:1,amount:1})),s.push(r({type:a,value:2,amount:1})),s.push(r({type:"wind",value:"east",amount:1})),s.push(r({type:"wind",value:"west",amount:1})),s.push(r({type:n,value:1,amount:1})),s.push(r({type:"wind",value:"north",amount:1}))}))}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"character",value:"any",amount:1})),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:"dragon",value:"red",amount:1})),n.push(r({type:"wind",value:"north",amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:"flower",amount:5})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:"dragon",value:"red",amount:1})),n.push(r({type:"wind",value:"east",amount:1}))})),{tiles:e,score:40,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="It's a Jungle in Here!",n}))},5515:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements;a.oddOptions,a.evenOptions,a.allOptions,a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:3,amount:1})),n.push(r({type:t[0],value:6,amount:1})),n.push(r({type:t[0],value:9,amount:1})),n.push(r({type:t[1],value:3,amount:3})),n.push(r({type:t[1],value:6,amount:1})),n.push(r({type:t[1],value:9,amount:3})),n.push(r({type:"any",value:"any",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:3})),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t[0],value:3,amount:1})),n.push(r({type:t[1],value:6,amount:2})),n.push(r({type:t[2],value:9,amount:3})),n.push(r({type:"wind",value:"any",amount:3}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"flower",amount:3})),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t,value:3,amount:1})),n.push(r({type:t,value:6,amount:2})),n.push(r({type:t,value:9,amount:3})),n.push(r({type:"wind",value:"any",amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:t[0],value:3,amount:1})),n.push(r({type:t[0],value:6,amount:3})),n.push(r({type:t[0],value:9,amount:3})),n.push(r({type:"any",value:"any",amount:3})),n.push(r({type:t[1],value:3,amount:1})),n.push(r({type:t[1],value:6,amount:2})),n.push(r({type:t[1],value:9,amount:1}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"wind",value:"west",amount:1})),n.push(r({type:"joker",amount:1})),n.push(r({type:t[0],value:3,amount:3})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[2],value:3,amount:3})),n.push(r({type:t[1],value:9,amount:3}))})),{tiles:e,score:35,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t,n){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"wind",value:"south",amount:1})),a.push(r({type:t,value:1,amount:1})),a.push(r({type:"wind",value:"north",amount:1})),a.push(r({type:"bamboo",value:"any",amount:1})),a.push(r({type:"any",value:"any",amount:1})),a.push(r({type:"dragon",value:"any",amount:1})),a.push(r({type:n[0],value:3,amount:2})),a.push(r({type:n[1],value:6,amount:3})),a.push(r({type:n[2],value:9,amount:3}))})),o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"wind",value:"south",amount:1})),a.push(r({type:t,value:1,amount:1})),a.push(r({type:"wind",value:"north",amount:1})),a.push(r({type:"bamboo",value:"any",amount:1})),a.push(r({type:"any",value:"any",amount:1})),a.push(r({type:"dragon",value:"any",amount:1})),a.push(r({type:n,value:3,amount:2})),a.push(r({type:n,value:6,amount:3})),a.push(r({type:n,value:9,amount:3}))}))})),{tiles:e,score:35,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Nine Lives",n}))},3517:(e,t,n)=>{n(1249),n(1539),n(4747),n(7042);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions);a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t[0],value:3,amount:3})),n.push(r({type:t[1],value:4,amount:3})),n.push(r({type:t[1],value:5,amount:3})),n.push(r({type:t[2],value:9,amount:3}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t,value:3,amount:3})),n.push(r({type:t,value:4,amount:3})),n.push(r({type:t,value:5,amount:3})),n.push(r({type:t,value:9,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t[0],value:1,amount:3})),n.push(r({type:t[1],value:4,amount:3})),n.push(r({type:t[1],value:6,amount:3})),n.push(r({type:t[2],value:8,amount:3}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t,value:1,amount:3})),n.push(r({type:t,value:4,amount:3})),n.push(r({type:t,value:6,amount:3})),n.push(r({type:t,value:8,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-1).forEach((function(t,n){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:4})),a.push(r({type:"any",value:"any",amount:2})),a.push(r({type:n[0],value:t+0,amount:4})),a.push(r({type:n[1],value:t+1,amount:4}))})),o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:4})),a.push(r({type:"any",value:"any",amount:2})),a.push(r({type:n,value:t+0,amount:4})),a.push(r({type:n,value:t+1,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t,n){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:4})),a.push(r({type:n[0],value:t+0,amount:4})),a.push(r({type:"any",value:"any",amount:2})),a.push(r({type:n[1],value:t+3,amount:4}))})),o.forEach((function(n){var a=[];e.push(a),a.push(r({type:"flower",amount:4})),a.push(r({type:n,value:t+0,amount:4})),a.push(r({type:"any",value:"any",amount:2})),a.push(r({type:n,value:t+3,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t[0],value:1,amount:1})),n.push(r({type:t[0],value:9,amount:1})),n.push(r({type:t[0],value:5,amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:t[1],value:1,amount:1})),n.push(r({type:t[1],value:9,amount:1})),n.push(r({type:t[1],value:6,amount:1})),n.push(r({type:t[1],value:2,amount:1})),n.push(r({type:t[2],value:1,amount:1})),n.push(r({type:t[2],value:9,amount:1})),n.push(r({type:t[2],value:7,amount:1})),n.push(r({type:t[2],value:4,amount:1}))})),o.forEach((function(t){var n=[];e.push(n),n.push(r({type:"any",value:"any",amount:2})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:t,value:9,amount:1})),n.push(r({type:t,value:5,amount:1})),n.push(r({type:"dragon",value:"white",amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:t,value:9,amount:1})),n.push(r({type:t,value:6,amount:1})),n.push(r({type:t,value:2,amount:1})),n.push(r({type:t,value:1,amount:1})),n.push(r({type:t,value:9,amount:1})),n.push(r({type:t,value:7,amount:1})),n.push(r({type:t,value:4,amount:1}))})),{tiles:e,score:40,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Out Numbered",n}))},6402:(e,t,n)=>{n(1249),n(1539),n(4747),n(7042);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=a.allSuitArrangements,s=(a.oddOptions,a.evenOptions,a.allOptions);a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-6).forEach((function(t,n){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"any",value:"any",amount:2})),a.push(r({type:n[0],value:t+0,amount:1})),a.push(r({type:n[0],value:t+1,amount:1})),a.push(r({type:n[0],value:t+2,amount:1})),a.push(r({type:n[0],value:t+3,amount:1})),a.push(r({type:n[0],value:t+4,amount:1})),a.push(r({type:n[0],value:t+5,amount:1})),a.push(r({type:n[1],value:t+6,amount:3})),a.push(r({type:n[2],value:t+6,amount:3}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-4).forEach((function(t,n){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t+0,amount:1})),a.push(r({type:n[0],value:t+1,amount:1})),a.push(r({type:n[0],value:t+2,amount:1})),a.push(r({type:n[0],value:t+3,amount:1})),a.push(r({type:n[1],value:t+4,amount:3})),a.push(r({type:"any",value:"any",amount:4})),a.push(r({type:"any",value:"any",amount:3}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-5).forEach((function(t,n){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:"any",value:"any",amount:2})),a.push(r({type:n[0],value:t+0,amount:3})),a.push(r({type:n[1],value:t+1,amount:1})),a.push(r({type:n[0],value:t+2,amount:3})),a.push(r({type:n[1],value:t+3,amount:1})),a.push(r({type:n[0],value:t+4,amount:3})),a.push(r({type:n[1],value:t+5,amount:1}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-5).forEach((function(t,n){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t+0,amount:4})),a.push(r({type:n[1],value:t+1,amount:4})),a.push(r({type:"any",value:"any",amount:3})),a.push(r({type:n[2],value:t+5,amount:3}))})),o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n,value:t+0,amount:4})),a.push(r({type:n,value:t+1,amount:4})),a.push(r({type:"any",value:"any",amount:3})),a.push(r({type:n,value:t+5,amount:3}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-3).forEach((function(t,n){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:2,amount:1})),a.push(r({type:"dragon",value:"white",amount:1})),a.push(r({type:"flower",amount:3})),a.push(r({type:n[1],value:t+0,amount:1})),a.push(r({type:n[1],value:t+1,amount:1})),a.push(r({type:n[1],value:t+2,amount:1})),a.push(r({type:n[1],value:t+3,amount:1})),a.push(r({type:"wind",value:"any",amount:3})),a.push(r({type:n[2],value:2,amount:2}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-4).forEach((function(t,n){i.forEach((function(n){var a=[];e.push(a),a.push(r({type:n[0],value:t+0,amount:3})),a.push(r({type:n[1],value:t+1,amount:3})),a.push(r({type:"wind",value:"any",amount:2})),a.push(r({type:n[1],value:t+3,amount:3})),a.push(r({type:n[2],value:t+4,amount:3}))})),o.forEach((function(n){var a=[];e.push(a),a.push(r({type:n,value:t+0,amount:3})),a.push(r({type:n,value:t+1,amount:3})),a.push(r({type:"wind",value:"any",amount:2})),a.push(r({type:n,value:t+3,amount:3})),a.push(r({type:n,value:t+4,amount:3}))}))})),{tiles:e,score:30,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Out Run",n}))},446:(e,t,n)=>{n(1249),n(1539),n(4747);var a=n(2976),r=(a.allTiles,a.nonJokerTiles,a.createTiles),o=a.allSuits,i=(a.allSuitArrangements,a.oddOptions,a.evenOptions,a.allOptions);a.windOptions,a.windArrangments,a.dragonOptions,a.dragonArrangments,a.suitDragonConversion,a.outputExpander,a.getTileDifferential;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.forEach((function(t){o.forEach((function(n){o.forEach((function(a){var o=[];o.push(r({type:n,value:2,amount:1})),o.push(r({type:a,value:1,amount:1})),o.push(r({type:"dragon",value:"green",amount:1})),o.push(r({type:"wind",value:"east",amount:1})),o.push(r({type:"dragon",value:"red",amount:1})),i.forEach((function(e,n){o.push(r({type:t,value:e,amount:1}))})),e.push(o)}))}))})),{tiles:e,score:40,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Sub-Atomic",n}))},2976:(e,t,n)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(6535),n(9244),n(1539),n(1249),n(7327),n(2222),n(4747),n(3290),n(2707),n(9601),n(7042),n(4553),n(561),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038),n(8309),n(4916);var i=n(2946),s=n(502),u=n(6212),l=n(1070);function c(e){return e.length?e.flatMap((function(t,n){return c(e.filter((function(e,t){return n!==t}))).map((function(e){return[t].concat(r(e))}))})):[[]]}var h={};var p=["bamboo","character","circle"],d=c(p),v=[1,3,5,7,9],f=[2,4,6,8],m=v.concat(f).sort(),y=["north","east","west","south"],g=["red","green","white"],w=c(g),b=c(y);function E(e,t,n){for(var o=[],u=[],c=[],h=0;h<e.tiles.length;h++){var p=e.tiles[h],d="any"===p[0].type,v="any"===p[0].value;if(!n.onlyExactMatch){if(1===p.length&&d&&v)continue;if(1===p.length&&v){c.push.apply(c,r(p));continue}if(p.length>1&&d&&v){var f=function(){var a=[];t.forEach((function(e){var t;if(e.tiles&&(e=e.tiles),"any"===(t=e instanceof Array?s.findBaseTile(e):e).type||"any"===t.value)return!1;!a.some((function(e){return e.matches(t)}))&&a.push(t)}));for(var o=[],i=0;i<a.length;i++){var u=Object.assign({},e),l=u.tiles.slice(0);l[h]=new Array(p.length).fill(a[i]),u.tiles=l;var c=E(u,t,n);c instanceof Array?o.push.apply(o,r(c)):c&&o.push(c)}return{v:o}}();if("object"===a(f))return f.v}}p.length<=2&&"joker"!==p[0].type?u.push.apply(u,r(p)):o.push.apply(o,r(p))}u.push.apply(u,c);var m,y=0,g=0,w=[];function b(e){if("joker"===e.type)return++y,!0;var t=u.findIndex((function(t){return t.matches(e)}));if(-1!==t)return u.splice(t,1),!0;var a=o.findIndex((function(t){return t.matches(e)}));return-1!==a?(o.splice(a,1),!0):-1!==(t=u.findIndex((function(t){return t.matches(e,!n.onlyExactMatch)})))&&(u.splice(t,1),!0)}var S=function(n){var a=t[n];if(a instanceof s&&(a=a.tiles),a instanceof Array){!0===e.concealed&&g++;var r=s.isValidMatch(a,!0);if(!e.tiles.some((function(e){return!r||!(e.length!==a.length||!r.matches(s.findBaseTile(e)))})))return m=1/0,"break|processHandItems";for(var o=0;o<a.length;o++){var i=a[o];if("joker"===i.type&&(i=r),!b(i))return m=1/0,"break|processHandItems"}}};e:for(var T=0;T<t.length;T++){if("break|processHandItems"===S(T))break e}var x=0;if(void 0!==e.maxJokers&&(x=l(t,!0))>e.maxJokers)m=1/0;else if(m!==1/0){for(var k,C=0;C<t.length;C++){var M=t[C];M instanceof s||M instanceof Array||b(M)||w.push(M)}return m=u.length+Math.max(0,o.length-Math.min(y,(null!==(k=e.maxJokers)&&void 0!==k?k:1/0)-x)),n.skipConcealedCheck||!e.concealed||0===g||1===g&&0===m?(y>o.length&&(w.push(new i({type:"joker",value:""})),y--),{diff:m,handOption:e,noFillJoker:u,canFillJoker:o,notUsed:w,jokerCount:y}):void(m=1/0)}}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.combos&&(e=e.combos);for(var a=[],o=0;o<e.length;o++){var i,s=e[o],u=E(s,t,n);if(u instanceof Array)(i=a).push.apply(i,r(u));else u&&a.push(u)}return a=a.sort((function(e,t){var n=.15,a=e.diff,r=t.diff;function o(e){if(e.handOption.concealed)return Math.max(0,e.diff-1);if(void 0===e.uncallableTiles){var t=e.handOption.tiles.filter((function(e){return e.length<3}));function n(e){for(var n=0,a=function(a){var r=e[a];t.some((function(e){return r.matches(e[0])}))&&n++},r=0;r<e.length;r++)a(r);return n}var a=n(e.noFillJoker)+Math.max(0,n(e.canFillJoker)-e.jokerCount);e.uncallableTiles=Math.max(0,a-1)}return e.uncallableTiles}return a+=.15*o(e),r+=.15*o(t),a+=e.noFillJoker.length*n,r+=t.noFillJoker.length*n,void 0!==e.handOption.maxJokers&&(a+=Math.max(0,e.canFillJoker.length-e.handOption.maxJokers)*n/1.5),void 0!==t.handOption.maxJokers&&(r+=Math.max(0,t.canFillJoker.length-t.handOption.maxJokers)*n/1.5),e.weightedDiff=a,t.weightedDiff=r,a!==r?a-r:t.handOption.score-e.handOption.score})),a}var T=u.getNonPrettyTiles(1);T.push(new i({type:"flower"}));var x=T.slice(0);x.push(new i({type:"joker"})),e.exports={getPairs:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=t.pop();if(n.push([a,a]),0!==t.length)return t.forEach((function(e){n.push([a,e])})),e(t,n),n},allTiles:x,nonJokerTiles:T,createTiles:function(e){var t=e.type,n=e.value,a=e.amount;return h[t]||(h[t]={}),h[t][n]||(h[t][n]=new i({type:t,value:n})),new Array(a).fill(h[t][n])},allSuits:p,allSuitArrangements:d,oddOptions:v,evenOptions:f,allOptions:m,windOptions:y,windArrangments:b,dragonOptions:g,dragonArrangments:w,suitDragonConversion:{character:"red",bamboo:"green",circle:"white"},outputExpander:function(e){console.time("Expand");var t=[],n=0;return e.forEach((function(e){var a=[];if(e.tiles.forEach((function(t){var n=Object.assign({},e);n.tiles=t;var r=0;if(n.tileValueSum=0,n.tiles.forEach((function(e){r+=e.length,n.tileValueSum+=e[0].getTileValue(!0)*e.length})),14!==r)throw console.error(n.tiles),"Invalid Combo";a.push(n)})),e.skipDuplicateRemoval)console.warn("Skipping Duplicate Removal"),delete e.skipDuplicateRemoval;else{for(var o=[],i=function(e){var t=a[e];o.some((function(e){var n;return e.tileValueSum===t.tileValueSum&&0===(null===(n=S([e],t.tiles,{skipConcealedCheck:!0,onlyExactMatch:!0})[0])||void 0===n?void 0:n.diff)}))?n++:o.push(t)},s=0;s<a.length;s++)i(s);a=o}for(var u=0;u<a.length;u++)delete a[u].tileValueSum,delete a[u].skipDuplicateRemoval;t.push.apply(t,r(a))})),console.timeEnd("Expand"),n&&console.warn("Removed "+n+" Duplicate Combos"),t},getTileDifferential:S,permutations:c}},5025:(e,t,n)=>{n(2222),n(3210),n(4916),n(5306),n(5837),n(1539),n(4747),n(9600),n(6755),n(6699),n(2023);var a,r=n(8258),o=(n(927),n(3418)),i=n(4044),s=n(915);function u(e,t,n){return JSON.stringify({type:e,message:t,status:n})}e.exports=function(e){var t,n="";e.on("message",(function(l){try{var c,h;try{c=JSON.parse(l)}catch(t){return e.send(u("error","Message must be valid JSON"))}try{var p=function(){var e,t,n=null===(e=a)||void 0===e?void 0:e.timeStamp,r=null===(t=a)||void 0===t?void 0:t.message;if(r&&n){var o="";if(n){var i=(new Date(n).getTime()-Date.now())/1e3/60,s=i/60,u=s/24;i%=60,s%=24,i=Math.floor(i),s=Math.floor(s),(u=Math.floor(u))&&(o+="".concat(u," ").concat(u>1?"days":"day")),s&&(o&&(o+=", "),o+="".concat(s," ").concat(s>1?"hours":"hour")),i&&(o&&(o+=" and "),o+="".concat(i," ").concat(i>1?"minutes":"minute")),o=o.trim()}return r.replace("${remainingTime}",o)}return r}();n!==p&&(e.send(u("setStaticMessageBar",p)),n=p)}catch(e){console.error(e)}if("callServerSave"===c.type||"messageAllServerClients"===c.type||"setStaticMessageBar"===c.type)return c.auth?"014eea3157474ede4dccc818d1a84efff650b82b8d67d3470f46e4ecc2f5d829"!==s.createHash("sha256").update(c.auth).digest("hex")?e.send(u("displayMessage",{title:"Auth Error",body:"Invalid Admin Password"})):"callServerSave"===c.type?e.send(u("displayMessage",{title:"Server Save",body:globalThis.saveServerState(c.saveName)})):void("messageAllServerClients"===c.type?globalThis.serverStateManager.getAllClients().forEach((function(e){e.message("displayMessage",{title:c.title,body:c.body,onlineOnly:c.onlineOnly})})):"setStaticMessageBar"===c.type&&(a={message:c.message,timeStamp:c.timeStamp})):e.send(u("displayMessage",{title:"Auth Error",body:"This command must be authed"}));if("uploadOfflineSave"===c.type){var d=globalThis.serverStateManager.serverDataDirectory,v=o.join(d,c.saveId+".server.json");return void(v.startsWith(d)&&i.promises.writeFile(v,c.message))}if(console.log("received: "+JSON.stringify(c)),!t&&!c.clientId)return e.send(u("error","No clientId specified"));if(t=c.clientId,globalThis.serverStateManager.getClient(t)?(h=globalThis.serverStateManager.getClient(t)).setWebsocket(e):h=t.startsWith("bot")?globalThis.serverStateManager.createBot(t,e):globalThis.serverStateManager.createClient(t,e),"createRoom"===c.type)return"string"!=typeof c.roomId?e.send(u("createRoom","roomId must be a string","error")):globalThis.serverStateManager.getRoom(c.roomId)?e.send(u("createRoom","Room Already Exists","error")):(h.setNickname(c.nickname),globalThis.serverStateManager.createRoom(c.roomId).addClient(t),e.send(u("createRoom",h.getRoomId(),"success")));if("joinRoom"===c.type)return globalThis.serverStateManager.getRoom(c.roomId)?(h.setNickname(c.nickname),globalThis.serverStateManager.getRoom(c.roomId).addClient(t)):e.send(u("joinRoom","Room ".concat(c.roomId," does not exist. You can click the Create Room button to create it!"),"error"));if("getCurrentRoom"===c.type){var f=h.getRoomId();return h.message(c.type,f,"success"),e.send(u(c.type,f,"success"))}if("createRoomFromState"===c.type){try{var m=o.join(globalThis.serverStateManager.serverDataDirectory,c.saveId);if(i.existsSync(m)){var y=r.fromJSON(i.readFileSync(m,{encoding:"utf8"})),g=y.roomId;if(!globalThis.serverStateManager.createRoom(g,y))return console.warn("Room already exists. ");y.init()}else console.warn("Invalid save path. Make sure to include file extension. ")}catch(e){console.error(e)}return}if(c.type.includes("roomAction")){var w=globalThis.serverStateManager.getRoom(c.roomId)||h.getRoom();if(!w)return e.send(u(c.type,"Room Does Not Exist","error"));try{return w.onIncomingMessage(t,c)}catch(e){return console.error(e),void console.error(e.stack)}}console.log("Nothing happened. ")}catch(e){console.error(e)}}))}},4696:(e,t,n)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t,n,a,r,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(a,r)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,u,"next",e)}function u(e){r(i,a,o,s,u,"throw",e)}s(void 0)}))}}n(1539),n(8674),n(4747),n(2222),n(9653),n(4916),n(4723),n(4944),n(3792),n(7327),n(9600),n(3123),n(6699),n(2023),n(1249),n(3290),n(2772),n(7042),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(5666);var i=n(2946),s=n(2169),u=n(6212),l=n(4376),c=(n(7793),n(9458),n(8643).updateTilesInContainer),h=n(4843).displayCenterTilePopup,p=document.createElement("div");function d(e){var t=document.createElement("div");return t.id=e,p.appendChild(t),t}function v(e,t){var n=d(e),a=document.createElement("div");return a.id=t,n.appendChild(a),a}p.id="gameBoard",document.body.appendChild(p);var f=new function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.id=e.id||"compass",this.compass=document.createElement("img"),this.compass.id=e.id,this.compass.alt="Compass",p.appendChild(this.compass),this.setDirectionForUserWind=function(e){this.compass.src="assets/compass-"+e+".svg"}}({id:"compass"});var m=new function(e){var t,n,a;if(!document.fullscreenEnabled&&document.webkitFullscreenEnabled&&(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.webkitFullscreenElement}}),document.documentElement.requestFullscreen=function(){document.documentElement.webkitRequestFullScreen()},document.exitFullscreen=function(){document.webkitExitFullscreen()},document.addEventListener("webkitfullscreenchange",(function(){document.dispatchEvent(new Event("fullscreenchange"))}))),null!==(t=window)&&void 0!==t&&null!==(n=t.Capacitor)&&void 0!==n&&null!==(a=n.Plugins)&&void 0!==a&&a.StatusBar?(this.goFullscreen=function(){return Capacitor.Plugins.StatusBar.hide()},this.exitFullscreen=function(){return Capacitor.Plugins.StatusBar.show()},this.isFullscreen=o(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Capacitor.Plugins.StatusBar.getInfo();case 2:return t=e.sent,e.abrupt("return",!t.visible);case 4:case"end":return e.stop()}}),e)})))):void 0!==document.fullscreenElement&&(this.goFullscreen=function(){document.documentElement.requestFullscreen()},this.exitFullscreen=function(){document.exitFullscreen()},this.isFullscreen=function(){return document.fullscreenElement}),this.goFullscreen){this.toggleElement=document.createElement("img"),this.toggleElement.id=e,this.toggleElement.title="Toggle Full Screen";var r=function(){var e=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isFullscreen();case 2:if(!e.sent){e.next=6;break}this.toggleElement.src="assets/exit-full-screen.svg",e.next=7;break;case 6:this.toggleElement.src="assets/go-full-screen.svg";case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}().bind(this);this.toggleElement.addEventListener("click",o(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isFullscreen();case 2:if(!e.sent){e.next=6;break}t=this.exitFullscreen(),e.next=7;break;case 6:t=this.goFullscreen();case 7:t&&t.then(r);case 8:case"end":return e.stop()}}),e,this)}))).bind(this)),document.addEventListener("fullscreenchange",r),r()}}("fullscreenControls");if(m.toggleElement){function y(){(window.innerWidth<600||window.innerHeight<600)&&m.goFullscreen()}var g;p.appendChild(m.toggleElement),document.addEventListener("click",(function(e){e.isTrusted&&!g&&(g=!0,y())}));try{y()}catch(e){console.error(e)}}var w=document.createElement("img");w.src="assets/reload-icon.svg",w.id="syncButton",w.title="Sync (Reload)",p.appendChild(w),w.addEventListener("click",o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e,t){window.saveOfflineGame().then(e),setTimeout(t,500,"Ran Out Of Time to Save")}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:window.location.reload();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))),window.Tile=i,window.Sequence=n(7793),window.Match=n(9458);var b=function(){var e=document.createElement("div");return e.id="tilePlacemat",e}();p.appendChild(b);var E=document.createElement("button");E.id="revertStateButton",E.innerHTML="History",p.appendChild(E),E.addEventListener("click",(function(){var e=document.createElement("div"),t=document.createElement("p");t.innerHTML="Loading Game History... (This should only take a second or two - otherwise, close menu and try again)",e.appendChild(t);var n=new l.Notification("History",e);n.show(),stateManager.getMessageHistory().then((function(a){var r=a.message;t.innerHTML="Click to reset the game back in history: ";var o=document.createElement("div");o.className="historyMenuButtonContainer",e.appendChild(o),r.forEach((function(e){var t=document.createElement("button");t.innerHTML="Move ".concat(e.move," - ").concat(e.message),o.appendChild(t),t.addEventListener("click",(function(){confirm("Are you sure you would like to revert the game state to move ".concat(e.move,"? This will affect ALL players, and can't be undone!"))&&(window.stateManager.revertState(e.move),n.dismiss())}))})),o.scrollTo(0,999999)}))}));var S=document.createElement("button");S.id="swapJokerButton",S.innerHTML="Swap Joker",p.appendChild(S),S.addEventListener("click",(function(){if(1===H.inPlacemat.length){var e,t=document.createElement("div"),n=document.createElement("p");n.innerHTML="Who would you like to try and swap with?",t.appendChild(n),stateManager.lastState.message.clients.forEach((function(n,a){var r=document.createElement("button");r.innerHTML=n.nickname,r.className="swapJokerOptionMenuButton",n.id===window.clientId&&(r.innerHTML+=" (You)"),t.appendChild(r),r.addEventListener("click",(function(){window.stateManager.placeTiles(H.inPlacemat,!1,{swapJoker:n.id}),e.dismiss()}))})),(e=new l.Notification("Swap Tile For Joker",t)).show()}else new l.Notification("Error With Swap","You must have exactly one tile in your placemat to swap - act like you are going to discard the tile, but hit Swap Joker instead of proceed. ").show()}));var T=document.createElement("button");T.id="proceedButton",T.innerHTML="Proceed",p.appendChild(T),T.addEventListener("click",(function(){var e=H.inPlacemat;e.length!==Number(e.some((function(e){return e.evicting})))?(console.log(e),window.stateManager.placeTiles(e)):window.stateManager.placeTiles([])})),window.stateManager.onPlaceTiles=function(e){"error"===e.status&&new l.Notification("Error Placing Tiles",e.message).show()};var x=document.createElement("button");function k(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=!r;try{var i=stateManager.lastState.message.settings.card;if("american"!==stateManager.lastState.message.settings.gameStyle){window.settings.hasReceivedScoringHint.value=!0;var s=e.score(),u=s.scoreText,c=new l.Panel(u),h=document.createElement("div");function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");n.className="tableContainer";var a=document.createElement("table");function r(e){var t=document.createElement("td");return e.appendChild(t),t}n.appendChild(a);var o=document.createElement("tr");return a.appendChild(o),r(o).innerHTML=t?"Sets (In-Hand Blue)":"Bonuses",r(o).innerHTML="Pts",r(o).innerHTML="Dbs",e.forEach((function(e){var n=document.createElement("tr");if(a.appendChild(n),e.text)r(n).innerHTML=e.text;else{var o=r(n);itemContent=document.createElement("span"),t&&!e.match.exposed&&(n.style.backgroundColor="rgb(214, 226, 231)"),e.match.tiles.flat().forEach((function(e){var t,n,a,r;o.appendChild(e.createImageElem({gameStyle:null===(t=stateManager)||void 0===t||null===(n=t.lastState)||void 0===n||null===(a=n.message)||void 0===a||null===(r=a.settings)||void 0===r?void 0:r.gameStyle}))}))}r(n).innerHTML=e.points,r(n).innerHTML=e.doubles})),n}h.className="itemTableContainer",c.panel.appendChild(h);var v=d(s.matchItems,!0),f=d(s.otherItems);return h.appendChild(v),h.appendChild(f),void c.show(p)}var m=o?"Suggested Hands":r+" Possible Hands",y=e.contents.concat(e.inPlacemat);if(y=y.filter((function(e){return!e.evicting})).filter((function(e){return!e.faceDown})),"Other Card - Bots Use Random Card"===i)t=new l.Notification(m,"This card does not support ".concat(m,". "));else if(stateManager.lastState.message.settings.disableHints)t=new l.Notification(m,"".concat(m,"/Hints are disabled by the host. "));else{var g=n(6587),w=n(2976),b=g[i];console.time("Gen Options");var E=w.getTileDifferential(b,y);if(console.timeEnd("Gen Options"),0===E.length)t=new l.Notification("No Hands Found"," - This hand might be dead<br> - You might be playing with the wrong card (using ".concat(i,"). <br> - Bots might only support a portion of your card"));else{var S=document.createElement("div"),T=document.createElement("p");T.innerHTML=o?"Discard pile not analyzed":"Only Exposed Tiles Considered",E.length>1&&(T.innerHTML+=" - Scroll for more"),S.appendChild(T);var x=document.createElement("table"),k=0;function C(){for(var e=function(e){var t=E[e];if(!t)return{v:void 0};var n=document.createElement("tr");x.appendChild(n);var a=document.createElement("td");a.innerHTML="".concat(t.handOption.section," #").concat(t.handOption.cardIndex+1," - ").concat(t.diff," Tiles Away (").concat(t.handOption.concealed?"C":"X",", ").concat(t.handOption.score,"pt)"),n.appendChild(a);var r=document.createElement("tr");x.appendChild(r),t.handOption.tiles.flat().forEach((function(e){var t,n,a,o;r.appendChild(e.createImageElem({gameStyle:null===(t=stateManager)||void 0===t||null===(n=t.lastState)||void 0===n||null===(a=n.message)||void 0===a||null===(o=a.settings)||void 0===o?void 0:o.gameStyle}))}))},t=k;t<k+2;t++){var n=e(t);if("object"===a(n))return n.v}(k+=2)>200||window.requestAnimationFrame(C)}window.requestAnimationFrame(C),S.appendChild(x),x.className="suggestedHandsTable",console.log(S),t=new l.Notification(m,S),window.settings.hasReceivedPossibleHandsHint.value||(o?t.ondismissed=function(){window.settings.hasReceivedPossibleHandsHint.value=!0,new l.Notification("Gameplay Tip!","Wondering what hands your opponents could be playing? <br>You can click on their tiles for a list of hands possible with their exposures!").show()}:window.settings.hasReceivedPossibleHandsHint.value=!0)}}}catch(e){console.error(e),t=new l.Notification("Suggested Hands","There was an error displaying suggested hands. Sorry. ")}t.show()}x.id="hintButton",x.innerHTML="Suggested Hands",p.appendChild(x),x.addEventListener("click",(function(){k(H)}));var C=document.createElement("button");C.id="claimButton",C.innerHTML="Claim",C.addEventListener("click",(function(){stateManager.placeTiles("Claim")})),p.appendChild(C);var M=document.createElement("div");M.id="instructionBubble",M.style.display="none",p.appendChild(M),window.stateManager.addEventListener("onStateUpdate",(function(e){M.style.display="",M.innerHTML=e.message.instructions.split("\n").join("<br>")})),window.stateManager.onGameplayAlert=function(e){var t,n,a=document.createElement("audio"),r=[];e.message.includes("thrown")?(a.volume=.5,r=["tile-drop-table.mp3"]):e.message.includes("mahjong")&&(a.volume=1,r=["tiles-dropping-table.mp3"]),r.length>0&&window.settings.soundEffects.value&&(a.src="assets/sounds/"+r[Math.floor(Math.random()*r.length)],a.setAttribute("preload","auto"),a.setAttribute("controls","none"),a.style.display="none",document.body.appendChild(a),a.play(),setTimeout((function(){a.remove()}),2e3));new l.BlocklessAlert(e.message,{duration:4e3*((null==e||null===(t=e.status)||void 0===t?void 0:t.durationMultiplier)||1),optional:null==e||null===(n=e.status)||void 0===n?void 0:n.optional,onStart:function(){var t,n;if(window.voiceChoices[null==e||null===(t=e.status)||void 0===t?void 0:t.clientId]&&null!=e&&null!==(n=e.status)&&void 0!==n&&n.speech){var a=new SpeechSynthesisUtterance(e.status.speech),r=window.voiceChoices[e.status.clientId].get();if(console.log(window.voiceChoices[e.status.clientId]),console.log(window.voiceChoices[e.status.clientId].get()),console.log(r),"string"!=typeof r)try{a.voice=r}catch(e){console.error(e)}"none"!==r&&speechSynthesis.speak(a)}}})};var O=!0;function A(e){if("Leave Room"===I.innerHTML||!O||confirm(e)){var t=stateManager.lastState.message;window.stateManager.endGame();try{var n;if(t.currentTurn.userTurn===window.clientId&&1===t.isGameOver)null!==(n=window)&&void 0!==n&&n.Capacitor&&AppRate.promptForRating(!1)}catch(e){console.error(e)}return!0}return!1}var I=document.createElement("button");I.id="endGameButton",p.appendChild(I);var P=document.createElement("button");P.id="newGameNoLobbyButton",P.innerHTML="New Game",p.appendChild(P),I.addEventListener("click",(function(){A("Are you sure you want to end the game?")})),P.addEventListener("click",(function(){A("Are you sure you want to start a new game?")&&document.getElementById("startGameButton").click()}));var D=document.createElement("button");D.id="goMahjongButton",p.appendChild(D),D.addEventListener("click",(function(){var e=H.inPlacemat;console.log(e),window.stateManager.placeTiles(e,{mahjong:!0})}));var j=document.createElement("div");j.id="wallAndDiscardContainer",p.appendChild(j);var R=document.createElement("div");R.className="wall",j.appendChild(R);var L=document.createElement("div");L.id="discardPile",j.appendChild(L);var N=d("userHand"),H=(d("userHandExposed"),new s({handToRender:N,handForExposed:userHandExposed,interactive:!0,tilePlacemat:b}));window.userHand=H;var _=v("rightHand","rightHandContainer"),B=new s({handToRender:_}),F=d("topHand"),G=new s({handToRender:F}),J=v("leftHand","leftHandContainer"),U=new s({handToRender:J}),q=["bottomNametag","rightNametag","topNametag","leftNametag"].map((function(e){var t=document.createElement("p");return t.id=e,p.appendChild(t),t}));F.addEventListener("click",(function(){k(G,q[2].innerHTML)})),J.addEventListener("click",(function(){k(U,q[3].innerHTML)})),_.addEventListener("click",(function(){k(B,q[1].innerHTML)})),userHandExposed.addEventListener("click",(function(){k(H)}));var V=!0;function Y(){H.contents=[]}function W(){G.renderTiles(),U.renderTiles(),B.renderTiles(),H.renderTiles()}window.stateManager.onRevertState=Y,window.stateManager.addEventListener("onEndGame",Y),window.stateManager.addEventListener("onStateUpdate",(function(e){var t,n,r,o,d,v;D.innerHTML="Mahjong",window.stateManager.isHost?P.style.display="":P.style.display="none",p.className=null==e||null===(t=e.message)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.gameStyle;var m=e.message;function y(){C.style.display="none",T.classList.remove("shrinkForClaimButton")}if(O=!m.isGameOver,x.style.display="",T.classList.add("shrinkForHintButton"),null!=m&&null!==(r=m.settings)&&void 0!==r&&r.disableHints&&(x.style.display="none",T.classList.remove("shrinkForHintButton")),C.style.display="",T.classList.add("shrinkForClaimButton"),null!=m&&null!==(o=m.settings)&&void 0!==o&&o.pickupDiscardForDraw||y(),m.inGame){var g,w;document.body.style.overflow="hidden",void 0!==m.wallTiles&&("object"===a(m.wallTiles)?m.wallTiles=s.convertStringsToTiles(m.wallTiles):m.wallTiles=new Array(m.wallTiles).fill(new i({faceDown:!0})),u.renderWall(R,m.wallTiles)),m.discardPile&&(g=m.discardPile,w=g.map((function(e){return i.fromJSON(e)})),w=s.sortTiles(w),c(L,w),L.onclick=function(){h(w,"Discard Pile (".concat(w.length," tile").concat(1===w.length?"":"s",")"))});var b=m.clients,E=["north","east","south","west"],k=[H,B,G,U];delete H.wind,b.forEach((function(e){var t;(e.hand&&(e.hand=s.fromString(e.hand)),e.id===window.clientId)&&H.sync(e.hand,null==m||null===(t=m.currentTurn)||void 0===t?void 0:t.charleston)}));var M,A=E.indexOf(H.wind),j=E.slice(A).concat(E.slice(0,A));if(H.wind?(f.setDirectionForUserWind(H.wind),I.innerHTML="End Game"):(f.setDirectionForUserWind(j[0]),I.innerHTML="Leave Room",V&&(new l.MessageBar("You are spectating (message will close automatically)").show(1e4),V=!1)),b.forEach((function(e){var t=0;e.hand.wind&&(t=j.indexOf(e.hand.wind));var n,a=k[t];e.hand&&e.id!==window.clientId&&a.sync(e.hand,null==m||null===(n=m.currentTurn)||void 0===n?void 0:n.charleston);var r=q[t];r.innerHTML=e.nickname,r.style.color="",m.currentTurn&&e.id===m.currentTurn.userTurn&&(M=e.hand.wind,r.style.color="red")})),k.forEach((function(e){var t;e.renderTiles(null==m||null===(t=m.currentTurn)||void 0===t?void 0:t.lastDrawn)})),S.disabled="",H.setEvictingThrownTile(),m.currentTurn.charleston&&y(),(null===(d=m.currentTurn)||void 0===d||null===(v=d.playersReady)||void 0===v?void 0:v.length)>0){var N=m.currentTurn.playersReady.includes(window.clientId);C.disabled=D.disabled=T.disabled=N?"disabled":"",(E.indexOf(M)+1)%4!==E.indexOf(H.wind)&&y(),S.disabled="disabled",T.innerHTML="Proceed ("+m.currentTurn.playersReady.length+"/4)",m.currentTurn.thrown||m.currentTurn.charleston||m.currentTurn.userTurn!==clientId||(T.disabled=""),m.currentTurn.charleston&&m.currentTurn.userTurn!==clientId&&(D.disabled="disabled"),m.currentTurn.userTurn!==clientId&&m.currentTurn.thrown&&H.setEvictingThrownTile(i.fromJSON(m.currentTurn.thrown)),H.renderPlacemat("")}else y(),T.disabled="",D.disabled="",T.innerHTML="Proceed",m.currentTurn.charleston&&(D.disabled="disabled"),m.currentTurn.userTurn===window.clientId?(H.renderPlacemat("pending"),S.disabled=""):(H.renderPlacemat(""),S.disabled="disabled",m.currentTurn.charleston||(T.disabled="disabled",D.disabled="disabled"));if(T.disabled||m.isGameOver?T.classList.remove("scaleAnimation"):T.classList.add("scaleAnimation"),m.isGameOver&&(T.innerHTML="View Scores",T.disabled="",D.innerHTML="Scores",D.disabled="","chinese"===m.settings.gameStyle))try{window.settings.hasReceivedScoringHint.value||(window.settings.hasReceivedScoringHint.value=!0,new l.Notification("Gameplay Tip!","Confused about scoring? Click on an opponents hand, or on your exposed tiles, for a score summary! You can check the tutorial, linked off the main menu (scroll if not visible), for more details. ").show())}catch(e){console.error(e)}}else document.body.style.overflow=""})),T.addEventListener("click",(function(){T.style.animation="none",setTimeout((function(){T.style.animation=""}),100)})),document.addEventListener("keyup",(function(e){var t=["q","w","e","r","t","y","u","i","o","p","a","s","d","f"];if(stateManager.inGame)if("Space"===e.code&&e.shiftKey)D.click();else if("Space"===e.code)T.click();else if(Number(e.key)>0&&Number(e.key)<5){var n=Number(e.key)-1;H.moveTile(H.inPlacemat[n])}else if(t.includes(e.key.toLowerCase())){var a=t.indexOf(e.key.toLowerCase()),r=H.contents.filter((function(e){return e instanceof i}));H.moveTile(r[a])}})),window.addEventListener("resize",W),window.addEventListener("orientationchange",W),window.addEventListener("scroll",(function(e){window.stateManager.inGame&&window.scrollTo(0,0)})),e.exports=p},2169:(e,t,n)=>{function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n(2222),n(3753),n(7327),n(1539),n(4553),n(561),n(2772),n(4747),n(3290),n(6699),n(2707),n(1249);var o=n(2946),i=n(9458),s=n(7793),u=n(4810),l=(n(6212),n(502)),c=n(1070),h=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function r(e){e.preventDefault()}function h(e){var t="randomClassForTransfer"+Math.pow(2,53)*Math.random();e.target.classList.add(t),e.dataTransfer.setData("randomClass",t)}a(this,e),this.handToRender=t.handToRender,this.handForExposed=t.handForExposed,this.tilePlacemat=t.tilePlacemat,this.interactive=t.interactive||!1,this.wind=t.wind,this.contents=[],this.inPlacemat=[],this.syncContents=n(974).bind(this),this.sync=function(e,t){this.syncContents(e.contents,t),this.wind=e.wind,this.status=e.status}.bind(this),this.score=n(839).bind(this),this.getClearHandInfo=n(8135).bind(this),this.isMahjong=n(5867).bind(this),this.isCalling=n(6527).bind(this),this.calculateJokerAmount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,[this.contents].concat(t))}.bind(this),Object.defineProperty(this,"placematLength",{get:function(){var e,t,n,a;return"american"===(null===(e=stateManager)||void 0===e||null===(t=e.lastState)||void 0===t||null===(n=t.message)||void 0===n||null===(a=n.settings)||void 0===a?void 0:a.gameStyle)?6:4}});var p=function(e){e.preventDefault();var t,n=e.dataTransfer.getData("randomClass"),a=document.getElementsByClassName(n)[0];a.classList.remove(n);for(var r=0;r<this.handToRender.children.length;r++){var o=this.handToRender.children[r],i=o.getBoundingClientRect();if(t=o.tileIndex+1,e.clientX<i.left+i.width/2){t--;break}}void 0!==a.placematIndex?this.moveTile(this.inPlacemat[a.placematIndex],!0,t):this.moveTile(this.contents[a.tileIndex],!1,t)}.bind(this),d=function(e){e.preventDefault();var t=e.dataTransfer.getData("randomClass"),n=document.getElementsByClassName(t)[0];n.classList.remove(t),this.moveTile(this.contents[n.tileIndex])}.bind(this);this.interactive&&(this.handToRender.addEventListener("dragover",r),this.handToRender.addEventListener("dragenter",r),this.handToRender.addEventListener("drop",p),this.tilePlacemat&&(this.tilePlacemat.addEventListener("dragover",r),this.tilePlacemat.addEventListener("dragenter",r),this.tilePlacemat.addEventListener("drop",d),this.tilePlacemat.addEventListener("dragover",(function(){this.style.backgroundColor="lightblue"})),this.tilePlacemat.addEventListener("dragleave",(function(){this.style.backgroundColor=""})),this.tilePlacemat.addEventListener("drop",(function(){this.style.backgroundColor=""})))),this.renderPlacemat=function(e){var t,n,a=this;for(e=null!==(t=e)&&void 0!==t?t:null===(n=this.tilePlacemat.firstChild)||void 0===n?void 0:n.className;this.tilePlacemat.firstChild;)this.tilePlacemat.firstChild.remove();for(var r=function(t){var n,r,o,i,s=a.inPlacemat[t],u=void 0;s?((u=s.createImageElem({gameStyle:null===(n=stateManager)||void 0===n||null===(r=n.lastState)||void 0===r||null===(o=r.message)||void 0===o||null===(i=o.settings)||void 0===i?void 0:i.gameStyle})).draggable=!0,u.placematIndex=t,u.addEventListener("dragstart",h),u.addEventListener("click",function(){this.moveTile(s)}.bind(a))):((u=document.createElement("img")).src="assets/tiles/tile-outline.png",u.alt="Placemat Slot for Tile");0===t&&e&&(u.className=e),a.tilePlacemat.appendChild(u)},o=0;o<this.placematLength;o++)r(o)}.bind(this),this.renderTiles=function(e){if(!this.handToRender)throw"Unable to render hand. You must pass config.handToRender to the constructor. ";"string"==typeof e&&(e=o.fromJSON(e));for(var t=[],n=[],a=0;a<this.contents.length;a++){var r=this.contents[a];if(r instanceof o)t.push(r);else if(r instanceof u)n.push(r);else if(r instanceof i||r instanceof s){var c=r.tiles;r instanceof i&&4===r.amount&&(c[0].faceDown=!0,c[0]=o.fromJSON(c[0].toJSON())),r.exposed?n.push(c):r instanceof i&&4===r.amount?(c[3].faceDown=!0,c[3]=o.fromJSON(c[3].toJSON()),n.push(c)):(console.log(c),t.push(c))}else r instanceof l?n.push(r.tiles):console.error("Unknown item "+r)}var p=0,d=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];("unexposed"!==n||this.handForExposed)&&(p=0);for(var r=function(t,r){var o,i,s,u,l=this.handToRender;"exposed"===n&&this.handForExposed&&(l=this.handForExposed);var c=l.children[p++],d=t.createImageElem({gameStyle:null===(o=stateManager)||void 0===o||null===(i=o.lastState)||void 0===i||null===(s=i.message)||void 0===s||null===(u=s.settings)||void 0===u?void 0:u.gameStyle});if(c?(c.src=d.src,c.title=d.title):(c=d,l.appendChild(c)),r&&0!==r?c.style.setProperty("--negativeMarginMultiplier",2):0===r?c.style.setProperty("--negativeMarginMultiplier",0):c.style.setProperty("--negativeMarginMultiplier",""),"exposed"===n)c.style.filter=a?"brightness(1.2)":"";else if("unexposed"===n&&(!this.handForExposed&&a?c.style.filter="brightness(0.8)":c.style.filter="",this.interactive)){if(c.classList.remove("animateTile"),e&&t.matches(e)){function t(){c.classList.add("animateTile"),c.style.opacity=""}e=void 0,c.style.opacity="0",c.addEventListener("load",t,{once:!0})}c.draggable=!0,c.onclick=function(){this.moveTile(t)}.bind(this),c.ondragstart=h,c.tileIndex=this.contents.findIndex((function(e){return e===t}))}}.bind(this),o=0;o<t.length;o++){var i=t[o];if(i instanceof Array)for(var s=0;s<i.length;s++)r(i[s],s);else"unexposed"===n&&0===o?r(i,0):r(i)}function u(e){if(e.children.length>14){var t=parseFloat(document.documentElement.style.getPropertyValue("--vh"));t/=e.children.length/14;var n=parseFloat(document.documentElement.style.getPropertyValue("--vw"));n/=e.children.length/14;for(var a=0;a<e.children.length;a++){var r=e.children[a];r.style.setProperty("--vh",t+"px"),r.style.setProperty("--vw",n+"px")}}}u(this.handToRender),this.handForExposed&&u(this.handForExposed)}.bind(this),v=!1;if((t.some((function(e){return!e.faceDown}))||0===t.length)&&(v=!0),d(n,"exposed",v),this.handForExposed)for(;this.handForExposed.children.length>p;)this.handForExposed.lastChild.remove();for(d(t,"unexposed",v);this.handToRender.children.length>p;)this.handToRender.lastChild.remove();this.tilePlacemat&&this.renderPlacemat()}.bind(this)}var t,h,p;return t=e,h=[{key:"add",value:function(e){var t;t=e instanceof s||e instanceof l?e.tiles[0].getTileValue():e.getTileValue();for(var n=0;n<this.contents.length;n++){var a=this.contents[n];if(a instanceof s&&(a=a.tiles[2]),a instanceof l&&(a=a.tiles[0]),t<a.getTileValue())return void this.contents.splice(n,0,e)}this.contents.push(e)}},{key:"remove",value:function(e){var t=this.contents.indexOf(e),n=this.inPlacemat.indexOf(e);if(-1!==t)this.contents.splice(t,1);else{if(-1===n)throw e+" does not exist in hand. ";this.inPlacemat.splice(n,1)}}},{key:"moveTile",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,a=this.inPlacemat.indexOf(e),r=this.contents.indexOf(e);if(console.log(n),a+r!==-2){if(this.inPlacemat,this.contents,t)if(-1===a){if(this.inPlacemat.length>=this.placematLength)return void alert("Placemat is already full. ");this.inPlacemat.push(this.contents.splice(r,1)[0])}else{if(0===a&&this.inPlacemat[0].evicting)return void alert("This tile was discarded. To claim it, select the tiles you would like to match with it, then hit proceed. ");var o=this.inPlacemat.splice(a,1)[0];isNaN(n)?this.add(o):this.contents.splice(n,0,o)}else isNaN(n)?console.error("Unable to determine how this tile should be moved. "):-1===r?console.error("Reordering in placemat is not supported. Must be in hand."):(n>r&&n--,this.contents.splice(n,0,this.contents.splice(r,1)[0]));this.renderTiles(),this.renderPlacemat()}else console.error("Tile does not exist. ")}},{key:"removeMatchingTile",value:function(e){var t=this;if(!e instanceof o)throw"removeMatchingTile only supports Tiles";return this.inPlacemat.length>0&&console.warn("Hand.removeMatchingTile is intended for server side use only. "),!!this.contents.some(function(n,a){return!!e.matches(n)&&(t.contents.splice(a,1),!0)}.bind(this))}},{key:"getExposedTiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return this.contents.forEach((function(n){n.exposed||n instanceof i&&4===n.amount?t.push(n):e&&t.push(new o({faceDown:!0}))})),t}},{key:"removeMatchingTilesFromHand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e instanceof o)throw"You must send a tile. ";return this.removeTilesFromHand(new Array(t).fill(e),n)}},{key:"removeTilesFromHand",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((e instanceof s||e instanceof l)&&(e=e.tiles),e instanceof o)e=[e];else if(!e instanceof Array)throw"Must send a Sequence, Tile, or Array. ";var a=[];e.forEach((function(e,n){if(!(e instanceof o))throw"Your Sequence or Array contains non-tiles. ";for(var r=t.contents.length-1;r>=0;r--){var i=e.matches(t.contents[r]);if(!a.includes(r))if(2===i)a[n]=r;else if(i)return void(a[n]=r)}}));for(var r=!0,i=0;i<e.length;i++)void 0===a[i]&&(r=!1);return!!r&&(n||a.sort((function(e,t){return t-e})).forEach((function(e){t.contents.splice(e,1)})),!0)}},{key:"setEvictingThrownTile",value:function(e){for(var t=this.inPlacemat.length-1;t>=0;t--)this.inPlacemat[t].evicting&&this.inPlacemat.splice(t,1);e&&(this.inPlacemat.length>=this.placematLength&&this.contents.push(this.inPlacemat.pop()),this.inPlacemat.unshift(e),e.evicting=!0)}},{key:"getStringContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"contents";return this[e].map((function(e){return e.toJSON()}))}},{key:"toJSON",value:function(){return JSON.stringify({wind:this.wind,contents:this.contents,status:this.status})}}],p=[{key:"sortTiles",value:function(e){return e.sort((function(e,t){return e.getTileValue()-t.getTileValue()}))}},{key:"convertStringsToTiles",value:function(e){return e.map((function(e){var t=JSON.parse(e);if("Pretty"===t.class)return u.fromJSON(e);if("Tile"===t.class)return o.fromJSON(e);if("Sequence"===t.class)return s.fromJSON(e);if("TileContainer"===t.class)return l.fromJSON(e);if("Match"===t.class)return i.fromJSON(e);throw"Unable to identify itemString "+e}))}},{key:"fromString",value:function(t){var n=JSON.parse(t),a=(n.wind,new e({wind:n.wind}));return a.status=n.status,a.contents=e.convertStringsToTiles(n.contents),a}}],h&&r(t.prototype,h),p&&r(t,p),e}();e.exports=h},1070:(e,t,n)=>{function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(1539),n(4747),n(5827),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309),n(4916);var o=n(2946);e.exports=function(e,t){var n=[];return e.forEach((function(e){e instanceof o?!0!==t&&n.push(e):!1!==t&&n.push.apply(n,a(e.tiles))})),n.reduce((function(e,t){return"joker"===t.type?++e:e}),0)}},8135:(e,t,n)=>{n(1539),n(4747),n(6699),n(7941);var a=n(7793),r=n(4810);e.exports=function(){var e={},t=!1,n=!0;if(this.contents.forEach((function(t){t instanceof a?(e[t.tiles[0].type]=!0,n=!1):t instanceof r||(e[t.type]=!0,["wind","dragon"].includes(t.type)||1===t.value||9===t.value||(n=!1))})),(e.wind||e.dragon)&&(delete e.wind,delete e.dragon,t=!0),e=Object.keys(e).length,t){if(0===e)return{type:"All Honors",doubles:3};if(1===e&&n)return{type:"1/9s/Suit + Honors",doubles:1};if(1===e)return{type:"One Suit + Honors",doubles:1};if(n)return{type:"1/9s + Honors",doubles:1}}else{if(1===e)return{type:"All One Suit",doubles:3};if(n)return{type:"All 1/9s",doubles:3}}return{type:"Not Clear",doubles:0}}},6527:(e,t,n)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}n(1539),n(4747),n(3290),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);var r=n(7793),o=(n(4810),n(6212)),i=n(9458),s=n(2946),u=n(2169);e.exports=function(e,t){var n=this,l=new u;l.contents=o.getNonPrettyTiles(),e.forEach((function(e){l.removeMatchingTile(e)})),this.contents.forEach((function(e){e instanceof s?l.removeMatchingTile(e):e instanceof r?e.tiles.forEach((function(e){l.removeMatchingTile(e)})):e instanceof i&&new Array(e.amount).fill().forEach((function(){l.removeMatchingTile(e.getComponentTile())}))}));for(var c=function(){for(var e=l.contents[0];l.removeMatchingTile(e););var a=n.contents.some((function(t,n){return e.matches(t)}));if(!a&&!isNaN(e.value)){var r=[,,!0,,,];n.contents.forEach((function(t){t.type===e.type&&Math.abs(t.value-e.value)<=2&&(r[2-(t.value-e.value)]=!0)})),(r[0]&&r[1]||r[1]&&r[3]||r[3]&&r[4])&&(a=!0)}return a?(n.add(e),n.isMahjong(t)?(n.remove(e),{v:e}):void n.remove(e)):"continue"};l.contents.length;){var h=c();if("continue"!==h&&"object"===a(h))return h.v}return!1}},5867:(e,t,n)=>{function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(5666),n(7042),n(1539),n(4747),n(4944),n(3792),n(3290),n(8783),n(6992),n(3948),n(2222),n(7327),n(5827),n(9653),n(8309),n(1038),n(4916),n(2526),n(1817),n(2165);var o=n(7793),i=n(4810),s=n(6212),u=n(9458),l=n(2946),c=n(2169);e.exports=function(){for(var e=regeneratorRuntime.mark(E),t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=0,h=0,p=0,d=[],v=[],f=0;f<this.contents.length;f++){var m=this.contents[f];m.isPongOrKong?(r++,v.push(m)):m.isPair?(h++,v.push(m)):m.isSequence?(p++,v.push(m)):m instanceof i?v.push(m):d.push(m)}if(1===h&&Math.min(p,t)+r===4)return 2;var y=c.sortTiles(s.getNonPrettyTiles(1)),g=[],w=[],b=new c;function E(t,n){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e,o){var i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o.length!=n){a.next=5;break}return a.next=3,o;case 3:a.next=11;break;case 5:i=e;case 6:if(!(i<t.length)){a.next=11;break}return a.delegateYield(r(i+1,o.concat(t[i])),"t0",8);case 8:i++,a.next=6;break;case 11:case"end":return a.stop()}}),a)},a=regeneratorRuntime.mark(r),e.delegateYield(r(0,[]),"t0",3);case 3:case"end":return e.stop()}}),e)}b.contents=d.slice(0),y.forEach((function(e){b.removeMatchingTilesFromHand(e,3,!0)&&g.push(e)})),y.forEach((function(e,n){if(o.isValidSequence(y.slice(n,n+3))){for(var a=0,r=y.slice(n,n+3);a<t;){var i=Array(a+1).fill(r).flat();if(!b.removeTilesFromHand(i,!0))break;a++}for(var s=0;s<a;s++)w.push(new o({exposed:!1,tiles:r}))}}));var S=[],T=g,x=4;t>p?(T=T.concat(w),x-=p):x-=Math.min(p,1);var k,C=a(E(T,x-=r));try{for(C.s();!(k=C.n()).done;){var M=k.value,O=M.reduce((function(e,t){return e+Number(t instanceof o)}),0),A=x-O;O+=p,4-r-A>Math.min(t,O)||S.push(M)}}catch(e){C.e(e)}finally{C.f()}e:for(var I=0;I<S.length;I++){var P=S[I],D=new c;D.contents=b.contents.slice(0);for(var j=void 0,R=!!n.thrownTile,L=0;L<P.length;L++){var N=P[L];if(N instanceof l){if(!D.removeMatchingTilesFromHand(N,3))continue e;var H=new u({type:N.type,value:N.value,exposed:!1,amount:3});R&&N.matches(n.thrownTile)&&(j=H),D.add(H)}else if(N instanceof o){if(!D.removeTilesFromHand(N))continue e;R&&N.tiles.some((function(e){return e.matches(n.thrownTile)}))&&(j=N,R=!1),D.add(N)}}j&&(j.exposed=!0);var _=D.contents.filter((function(e){return e instanceof l}))[0];if(0!==h||D.removeMatchingTilesFromHand(_,2,!0)){if(0===h){var B=new u({type:_.type,value:_.value,exposed:!1,amount:2});R&&_.matches(n.thrownTile)&&(B.exposed=!0,R=!1),D.add(B),D.removeMatchingTilesFromHand(_,2)}return D.contents=D.contents.concat(v),D}}return 0}},839:(e,t,n)=>{var a=n(2734),r=n(2300);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"american"===e.type?r.call(this,e):a.call(this,e)}},2300:(e,t,n)=>{var a=n(2976);n(2946);e.exports=function(e){var t;if(!e.card)throw"Must pass config.card";var n={noJokers:!1,score:0,handName:"Unable to Score"},r=a.getTileDifferential(e.card,this.contents);if(0!==(null==r||null===(t=r[0])||void 0===t?void 0:t.diff))return n;var o=r[0].handOption;return n.score=o.score,n.handName=o.section+" #"+(o.cardIndex+1),0===this.calculateJokerAmount(this.contents)&&a.getTileDifferential([o],[])[0].canFillJoker.length>0&&(n.noJokers=!0,n.score*=2),n}},2734:(e,t,n)=>{function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(7042),n(9653),n(4916),n(4723),n(2707),n(7327),n(1539),n(2222),n(5827),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038),n(8309);var o=n(9458),i=n(2946),s=n(4810),u=n(502);e.exports=function(){var e,t,n=this.contents.slice(0),r=this.getClearHandInfo(),l=!1,c={match:new u({tiles:[]}),doubles:0,points:0},h={match:new u({tiles:[]}),doubles:0,points:0},p=[c,h],d=[];e:for(var v=0;v<this.contents.length;v++){var f=this.contents[v];if(f instanceof i)for(var m=4;m>=1;m--){if(1===m)continue e;if(this.removeMatchingTilesFromHand(f,m)){v--,f=new o({amount:m,type:f.type,value:f.value,exposed:!1});break}}var y=Number(f.isDouble(this.wind)),g=f.getPoints(this.wind);if(f instanceof s){var w="flower"===f.seasonOrFlower?c:h;w.match.tiles.push(f),w.doubles+=y,w.points+=g,4===w.match.tiles.length&&(w.doubles+=2)}else d.push({match:f,doubles:y,points:g,exposed:f.exposed}),l=l||f.isSequence}function b(e){return 1e6*Number(e.exposed)+1e3*e.doubles+e.points}d.sort((function(e,t){return b(t)-b(e)})),"mahjong"===(null===(e=this.status)||void 0===e?void 0:e.status)&&(p.push({text:"Mahjong",doubles:0,points:20}),null!==(t=this.status)&&void 0!==t&&t.drewOwnTile&&p.push({text:"Self-Draw",doubles:0,points:2}),l||p.push({text:"No Sequence",doubles:0,points:10})),p.push({text:r.type,doubles:r.doubles,points:0}),d=d.filter((function(e){return e.doubles+e.points})),p=p.filter((function(e){return e.doubles+e.points}));var E=a(d.concat(p)),S=E.reduce((function(e,t){return e+t.points}),0),T=E.reduce((function(e,t){return e+t.doubles}),0),x=S*Math.pow(2,T),k="".concat(S," points  2<sup>").concat(T," double").concat(1===T?"":"s","</sup> = ").concat(x," points");return this.contents=n,{matchItems:d,otherItems:p,items:E,points:S,doubles:T,score:x,scoreText:k}}},974:(e,t,n)=>{n(1539),n(4747),n(3753),n(6699),n(2772),n(7042),n(2222),n(7327);var a=n(2946);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=[];this.contents.forEach((function(e){n.push(e.toJSON())})),this.inPlacemat.forEach((function(e){e.evicting||n.push(e.toJSON())})),e.forEach((function(e){r.push(e.toJSON())}));for(var o=0;o<n.length;o++){var i=n[o];i&&r.includes(i)&&(n[o]=null,r[r.indexOf(i)]=null)}var s=this.contents.slice(0);s=this.inPlacemat[0]&&this.inPlacemat[0].evicting?s.concat(this.inPlacemat.slice(1)):s.concat(this.inPlacemat.slice(0));for(var u=0;u<n.length;u++){var l=n[u];l&&this.remove(s[u])}var c=r.filter((function(e){return e})).length;c>3&&(t=!1);for(var h=0;h<r.length;h++){var p=r[h];p&&(t&&this.inPlacemat.length<3&&e[h]instanceof a?this.inPlacemat.push(e[h]):this.add(e[h]))}}},9458:(e,t,n)=>{function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n(6699),n(1249),n(3290),n(3753);var o=n(2946),i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a(this,e),null==t.exposed)throw"Must specify either true or false for config.exposed. ";if(t.amount<2||t.amount>4)throw"config.mount must be either 2, 3, or 4. ";this.type=t.type,this.value=t.value,this.amount=t.amount,this.exposed=t.exposed,this.getTileName=function(){var e;return(e=this.getComponentTile()).getTileName.apply(e,arguments)}.bind(this),this.getComponentTile=function(){return new o({type:this.type,value:this.value})},this.getPoints=function(e){var t=0;if(["bamboo","character","circle"].includes(this.type)){if(t=2,(1===this.value||9===this.value)&&(t*=2,2===this.amount))return 2;if(2===this.amount)return 0}else if(t=4,2===this.amount)return"wind"===this.type&&this.value!==e?0:2;return 4===this.amount&&(t*=4),this.exposed||(t*=2),t},this.isDouble=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(2===this.amount&&!t)&&("dragon"===this.type||"wind"===this.type&&this.value===e)},Object.defineProperty(this,"tiles",{get:function(){var e=this;return new Array(this.amount).fill().map(function(){return e.getComponentTile()}.bind(this))}.bind(this)}),Object.defineProperty(this,"isPair",{get:function(){return 2===this.amount}}),Object.defineProperty(this,"isPongOrKong",{get:function(){return this.amount>=3}}),this.toJSON=function(){var e={class:"Match"};return e.type=this.type,e.value=this.value,e.amount=this.amount,e.exposed=this.exposed,JSON.stringify(e)}.bind(this),this.isSequence=!1}var t,n,i;return t=e,i=[{key:"isValidMatch",value:function(e){for(var t=0;t<e.length;t++)if(!e[0].matches(e[t]))return!1;return!0}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Match"!==n.class)throw"String was not created by Match.toJSON()";return new e(n)}}],(n=[{key:"getTileValue",value:function(){return this.getComponentTile().getTileValue()}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},4376:(e,t,n)=>{function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(9600),n(4916),n(3123),n(1539),n(2772),n(561);var o,i=[],s=function(){"use strict";function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var a=document.createElement("div");a.classList.add("blocklessAlertCover"),a.style.display="none",document.body.appendChild(a);var o=document.createElement("p");o.innerHTML=t,a.appendChild(o),this.cover=a,this.optional=n.optional,this.duration=n.duration,this.shortened=!1,this.dismissed=!1,a.style.animation="fadeInAndOut "+this.duration+"ms ease-in",this.onStart=n.onStart,i.forEach((function(e){e.dismissIfOptional()})),i.push(this),i[0]===this&&this.show()}var t,n,o;return t=e,n=[{key:"show",value:function(){this.cover.style.display="",setTimeout(this.remove.bind(this),this.duration),this.startTime=Date.now(),this.onStart&&this.onStart()}},{key:"remove",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=i.indexOf(this);-1!==n&&i.splice(n,1),this.cover.remove(),t||this.dismissed||(this.dismissed=!0,null==i||null===(e=i[0])||void 0===e||e.show())}},{key:"dismissIfOptional",value:function(){if(this.shortened||(this.shortened=!0,this.duration/=2),this.startTime){var e=this.startTime+this.duration-Date.now();e<=0||this.optional?this.remove():setTimeout(this.remove.bind(this),e)}else this.optional&&this.remove(!0)}}],n&&a(t.prototype,n),o&&a(t,o),e}();e.exports={Notification:function e(t,n){"use strict";r(this,e);var a=document.createElement("div");a.id="errorPopupCover",a.style.display="none",document.body.appendChild(a);var o=document.createElement("div");o.id="errorPopup",a.appendChild(o);var i=document.createElement("div");i.className="panelHeader",i.appendChild(document.createElement("span"));var s=document.createElement("span");s.innerHTML=t,s.className="headerText",i.appendChild(s);var u=document.createElement("span");if(u.className="headerText panelClose",u.innerHTML="",i.appendChild(u),o.appendChild(i),"string"==typeof n){var l=document.createElement("p");l.innerHTML=n.split("\n").join("<br>"),l.id="messageText",o.appendChild(l)}else o.appendChild(n),n.id="messageText";var c=function(e){this.ondismissed&&this.ondismissed(),a.remove()}.bind(this);setTimeout((function(){u.addEventListener("click",c),a.addEventListener("click",(function(e){e.target===a&&c()}))}),500),this.show=function(){return a.style.display="",o},this.dismiss=c},MessageBar:function e(t){"use strict";r(this,e);var n=document.createElement("div");this.elem=n,n.id="notificationBar";var a=t;"string"==typeof a&&((a=document.createElement("p")).innerHTML=t),n.appendChild(a),this.show=function(e){o&&o.dismiss(),document.body.appendChild(n),o=this,setTimeout((function(){n.remove()}),e)},this.dismiss=function(){n.remove(),o=void 0}},BlocklessAlert:s,Panel:function e(t){"use strict";r(this,e);var n=document.createElement("div");n.className="panel";var a=document.createElement("div");a.className="panelHeader",n.appendChild(a),a.appendChild(document.createElement("span"));var o=document.createElement("span");o.innerHTML=t,a.appendChild(o);var i=document.createElement("span");function s(){n.remove()}i.innerHTML="",i.className="panelClose",a.appendChild(i),this.panel=n,this.show=function(e){e.appendChild(n)},this.dismiss=s,i.addEventListener("click",s)}}},4810:(e,t,n)=>{function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n(6699),n(3753);var o=n(2946),i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a(this,e),!["season","flower"].includes(t.seasonOrFlower))throw"config.seasorOrFlower must either be 'season' or 'flower'";this.type="pretty",this.value=t.value,this.seasonOrFlower=t.seasonOrFlower,this.exposed=!0,this.getTileName=function(){return"Pretty"};var n=["east","south","west","north"];this.isDouble=function(e){return e===n[this.value-1]},this.getPoints=function(){return 4},this.toJSON=function(){var e={class:"Pretty"};return e.value=this.value,e.seasonOrFlower=this.seasonOrFlower,JSON.stringify(e)}.bind(this),this.isSequence=!1,this.isPongOrKong=!1,this.isPair=!1}var t,n,i;return t=e,n=[{key:"getTileValue",value:function(){return this.value||0}},{key:"getImageUrl",value:function(){return"assets/tiles/"+this.seasonOrFlower+"s/"+this.value+".png"}},{key:"createImageElem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.createImageElem({src:this.getImageUrl(),title:this.getTileName(e.gameStyle)})}}],i=[{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Pretty"!==n.class)throw"String was not created by Pretty.toJSON()";return new e(n)}}],n&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},2342:(e,t,n)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,a,r,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(a,r)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){d(o,a,r,i,s,"next",e)}function s(e){d(o,a,r,i,s,"throw",e)}i(void 0)}))}}n(5666),n(6992),n(1539),n(8783),n(3948),n(1637),n(7042),n(4916),n(4765),n(3210),n(9826),n(8674),n(4747),n(9600),n(7941),n(7327),n(285),n(2481),n(6699),n(2023),n(2707),n(2222),n(8309),n(3753),n(489),n(2419),n(2526),n(1817),n(2165);var f=n(4376),m=n(9467),y=n(7576),g=y.readSave,w=y.writeSave,b=y.deleteSave,E=n(6192);n(5220);var S=document.createElement("div");S.id="roomManager",document.body.appendChild(S);var T=document.createElement("div");T.id="heading",S.appendChild(T);var x=document.createElement("h1");x.innerHTML="Mahjong",x.id="mahjongHeading",T.appendChild(x);var k=document.createElement("h1");k.innerHTML="4 Friends",k.id="fourFriendsHeading",T.appendChild(k);var C=document.createElement("div");C.id="notInRoomContainer",S.appendChild(C);var M=document.createElement("h4");M.style.marginTop=0,M.style.display="none",C.appendChild(M),window.stateManager.onSetStaticMessageBar=function(e){var t=e.message;t?(M.innerHTML=t,M.style.display=""):M.style.display="none"};var O=document.createElement("input");O.id="roomIdInput",O.placeholder="Enter Room Name...",O.setAttribute("enterkeyhint","next"),C.appendChild(O),C.appendChild(document.createElement("br"));var A=document.createElement("input");A.id="nicknameInput",A.placeholder="Nickname (Optional)",A.setAttribute("enterkeyhint","done"),C.appendChild(A),O.addEventListener("keydown",(function(e){13===e.keyCode&&(O.blur(),A.focus())})),A.addEventListener("keydown",(function(e){13===e.keyCode&&A.blur()}));var I=new URLSearchParams(window.location.hash.slice(1)),P=new URLSearchParams(window.location.search);I.has("roomId")&&(O.value=I.get("roomId")),I.has("name")&&(A.value=I.get("name")),I.has("fakeNative")?window.nativePlatform=I.get("fakeNative"):window.Capacitor?window.nativePlatform=Capacitor.getPlatform():"microsoft-store"===P.get("app-install-source")&&(window.nativePlatform="windows");var D=document.createElement("div");D.id="joinOrCreateRoom",C.appendChild(D);var j=document.createElement("span");D.appendChild(j);var R=document.createElement("button");R.id="joinRoom",R.innerHTML="Join Room",R.addEventListener("click",(function(){if(stateManager.offlineMode=!1,0===O.value.trim().length)return new f.Notification("Whoops!",'Please enter the name of the room you would like to join into the box labeled "Enter Room Name"').show();window.stateManager.joinRoom(O.value.toLowerCase(),A.value)})),j.appendChild(R),j.style.position="relative",j.style.display="inline-block";var L=document.createElement("div");L.style.position="absolute",L.style.top=L.style.left=L.style.right="0",L.style.height="100%",L.style.backgroundColor="#000000bb",j.appendChild(L);var N=document.createElement("button");N.id="createRoom",N.innerHTML="Create Room",N.addEventListener("click",(function(){stateManager.offlineMode=!1,window.stateManager.createRoom(O.value.toLowerCase(),A.value)})),j.appendChild(N);var H=document.createElement("div");C.appendChild(H);var _=document.createElement("div");_.id="savedGameDiv",_.style.display="none",H.appendChild(_);var B=document.createElement("button");function F(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(serverStateManager.init(e),window.clientId=serverStateManager.getRoom("Offline").clientIds.find((function(e){if(!serverStateManager.getClient(e).isBot)return e})),stateManager.offlineMode=!0,stateManager.getCurrentRoom(),t){stateManager.revertState(0),setTimeout((function(){stateManager.revertState(0)}),300);var n=new f.MessageBar("Click Here to Load End of Game (Closes Automatically)");n.elem.addEventListener("click",(function(){F(e),n.dismiss()})),n.elem.style.cursor="pointer",n.show(1e4)}}B.id="offlineSinglePlayer",B.innerHTML="Single Player",B.addEventListener("click",(function(){stateManager.offlineMode=!0;var e=A.value||"Player 1";window.stateManager.createRoom("Offline",e);for(var t=0;t<3;t++)window.stateManager.addBot()})),H.appendChild(B);var G=document.createElement("button");G.innerHTML="Use Save File",G.id="uploadSaveButton",H.appendChild(G);var J=document.createElement("input");J.style.display="none",J.type="file",J.accept="application/json",document.body.appendChild(J),G.addEventListener("click",(function(){var e,t=new DocumentFragment,n=document.createElement("p");function a(e,t){var n=document.createElement("td");n.innerHTML="<span>".concat(t,"</span>"),e.appendChild(n)}n.innerHTML="You can upload/drag a save file from your device, or download one of ours: ",n.id="messageText",t.appendChild(n);var o=document.createElement("div");function s(e){return u.apply(this,arguments)}function u(){return(u=v(regeneratorRuntime.mark((function t(n){var a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return a=new FileReader,t.next=4,new Promise((function(e,t){a.onload=e,a.onerror=t,a.readAsText(n)}));case 4:r=a.result;try{F(r,!0),e.dismiss(),J.value=""}catch(e){console.error(e),alert("Error loading save. Please make sure you selected the correct file. ")}case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}o.className="guaranteedHandsTableContainer",o.innerHTML="Loading Tutorials and Challenges...",t.appendChild(o),v(regeneratorRuntime.mark((function e(){var t,n,s,u,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch((window.Capacitor?"https://mahjong4friends.com/":"")+"guaranteedHands.json");case 3:return n=e.sent,e.next=6,n.json();case 6:t=e.sent,console.log(t),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),o.innerHTML="Error Loading Tutorials and Challenges...",e.abrupt("return");case 14:(s=document.createElement("table")).className="guaranteedHandsTable",o.innerHTML="",o.appendChild(s),u=document.createElement("tr"),s.appendChild(u),a(u,"Card"),a(u,"Section"),a(u,"Option"),a(u,"Item"),c=function(){"use strict";function e(t){var n=t.obj,r=t.key,o=t.columns,i=void 0===o?[]:o,s=t.depth,u=void 0===s?0:s;l(this,e),p(this,"emptyColumns",0),p(this,"items",[]),this.elem=document.createElement("tr"),this.columns=i.slice(0),this.columns.push(r),this.depth=u;for(var c=0;c<this.columns.length;c++){var h=this.columns[c];2===c&&(h="#"+h),a(this.elem,h)}i=this.columns.slice(0),this.elem.className="guaranteedHands"+u,this.obj=n[r],this.elem.addEventListener("click",function(){this.setExpanded()}.bind(this))}return h(e,[{key:"addEmptyColumns",value:function(e){for(this.emptyColumns=e;this.elem.children.length<e;)a(this.elem,"");this.items.forEach((function(t){t.addEmptyColumns(e)}))}},{key:"setExpanded",value:function(t){console.log(this.obj),this.items.forEach((function(e){e.setExpanded(!1),e.elem.remove()}));var n=this.elem.nextSibling;if(!0===t||void 0===t&&0===this.items.length)for(var a in this.items=[],this.obj){var r=void 0;(r=this.obj[a]instanceof Object?new e({obj:this.obj,key:a,columns:this.columns,depth:this.depth+1}):new d({obj:this.obj,key:a,columns:this.columns,depth:this.depth+1})).addEmptyColumns(this.emptyColumns),this.items.push(r),this.elem.parentNode.insertBefore(r.elem,n)}else this.items=[]}}]),e}(),d=function(e){"use strict";r(n,e);var t=i(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).elem.className="saveRow",r.elem.lastChild.remove(),a(r.elem,e.key+" (".concat(Math.round(e.obj[e.key]/1e3),"kB)")),r}return h(n,[{key:"setExpanded",value:function(e){if(!1!==e){var t=window.location.origin+window.location.pathname;window.Capacitor&&(t="https://mahjong4friends.com/"),console.log(this.columns),t+=encodeURI("server/mahjong-tutorials/".concat(this.columns.join("/"),".server.json")),console.log(t),v(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.text();case 6:a=e.sent,console.log(a),F(a,!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),alert("Error Downloading Save File");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}}]),n}(c),Object.keys(t).forEach((function(e){var n=new c({obj:t,key:e});n.addEmptyColumns(4),s.appendChild(n.elem)}));case 27:case"end":return e.stop()}}),e,null,[[0,10]])})))();var c=document.createElement("button");c.innerHTML="Upload From Device",J.oninput=function(){s(J.files[0])},c.addEventListener("click",(function(){J.click()})),c.id="resumeSaveNowButton",t.appendChild(c);var d=(e=new f.Notification("Select Save File",t)).show();function m(e){e.preventDefault(),e.stopPropagation()}function y(e){d.style.filter="brightness(1.25)"}function g(e){d.style.filter=""}["dragenter","dragover","dragleave","drop"].forEach((function(e){d.addEventListener(e,m,!1)})),["dragenter","dragover"].forEach((function(e){d.addEventListener(e,y,!1)})),["dragleave","drop"].forEach((function(e){d.addEventListener(e,g,!1)})),d.addEventListener("drop",(function(e){g(),s(e.dataTransfer.files[0])}),!1)}));var U,q,V,Y,W="save0.server.json";function $(){return z.apply(this,arguments)}function z(){return(z=v(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==serverStateManager.getAllRoomIds().length){e.next=6;break}if(!U){e.next=5;break}return console.error("Deleting"),e.next=5,b(W);case 5:return e.abrupt("return");case 6:return t=serverStateManager.toJSON(),e.next=9,g(W);case 9:if(n=e.sent,U=!0,t===n){e.next=16;break}return console.log("Saving Game (".concat(t.length," characters)")),e.next=15,w(W,t);case 15:if(window.settings.singlePlayerDebuggingData.value)try{console.log("Attempting Offline Upload"),stateManager.uploadOfflineSave({saveId:serverStateManager.getRoom("Offline").logFileSaveId,message:t})}catch(e){console.error(e)}case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}try{g(W).then((function(e){if(e){_.style.display="";var t=document.createElement("span");t.innerHTML="Saved Game: ",t.style.fontSize="1.7em",_.appendChild(t);var n=document.createElement("button");n.innerHTML="Resume",n.addEventListener("click",(function(){F(e),_.remove()})),n.id="resumeSaveNowButton",_.appendChild(n);var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 24 24");var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d","M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"),a.appendChild(r),a.addEventListener("click",v(regeneratorRuntime.mark((function t(){var n,a,r,o,i,s,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r="mahjong4friends.server.json",null===(n=window)||void 0===n||null===(a=n.Capacitor)||void 0===a||!a.getPlatform()){t.next=10;break}return t.next=4,w(r,e,"CACHE");case 4:return o=t.sent,i={title:r,url:o.uri},t.next=8,Capacitor.Plugins.Share.share(i);case 8:t.next=19;break;case 10:(s=document.createElement("a")).download=r,u=new Blob([e],{type:"application/json"}),l=URL.createObjectURL(u),s.href=l,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(l);case 19:case"end":return t.stop()}}),t)})))),a.id="downloadSaveNowButton",_.appendChild(a);var o=document.createElement("span");o.innerHTML="",o.addEventListener("click",(function(){b(W),_.remove()})),o.id="deleteSaveNowButton",_.appendChild(o)}}))}catch(e){console.error(e)}(window.saveOfflineGame=$,setInterval($,5e3),window.onbeforeunload=function(){$()},window.Capacitor)&&(null===(q=Capacitor)||void 0===q||null===(V=q.Plugins)||void 0===V||null===(Y=V.App)||void 0===Y||Y.addListener("appStateChange",(function(e){!1===e.isActive&&$()})));var K=document.createElement("p");K.id="connectionStatus",D.appendChild(K);var X=1;window.setConnectionStatus=function(e){var t=e.connected;K.innerHTML="Multiplayer Needs Internet"+".".repeat(1+ ++X%5),L.style.display=t?"none":"",R.disabled=N.disabled=t?"":"disabled",K.style.display=t?"none":""},window.setConnectionStatus({connected:!1});var Q=document.createElement("p");function Z(e){var t,n,a=null===(t=window.screen)||void 0===t||null===(n=t.orientation)||void 0===n?void 0:n.type;(a?a.includes("portrait"):90!==Math.abs(window.orientation))&&screen.width<900?Q.style.display="":Q.style.display="none"}Q.id="screenRotationAlert",Q.innerHTML="Rotating your screen to Landscape mode is recommended. ",C.appendChild(Q),window.addEventListener("orientationchange",Z),Z();var ee=document.createElement("div");ee.id="inRoomContainer",ee.style.display="none",S.appendChild(ee);var te=document.createElement("h2");te.id="roomInfo",ee.appendChild(te);var ne=document.createElement("div");ne.id="gameSettingsElem",ee.appendChild(ne);var ae=document.createElement("div");ae.id="playerView",ee.appendChild(ae);var re=document.createElement("button");re.innerHTML="Leave Room",re.id="leaveRoomButton",ee.appendChild(re),re.addEventListener("click",(function(){window.stateManager.leaveRoom(window.stateManager.roomId)}));var oe=document.createElement("button");oe.innerHTML="Close Room",oe.id="closeRoomButton",oe.style.display="none",ee.appendChild(oe),oe.addEventListener("click",(function(){window.stateManager.closeRoom(window.stateManager.roomId)}));var ie=document.createElement("button");ie.innerHTML="Add Bot",ie.id="addBotButton",ie.style.display="none",ee.appendChild(ie),ie.addEventListener("click",(function(){window.stateManager.addBot()}));var se=document.createElement("button");se.innerHTML="Start Game",se.id="startGameButton",se.style.display="none",ee.appendChild(se);var ue=new m(ne),le=document.createElement("button");le.innerHTML="Settings",le.id="settingsMenuButton",ee.appendChild(le),le.addEventListener("click",(function(){ue.openMenu()})),se.addEventListener("click",(function(){function e(){window.stateManager.startGame(ue.getChoices())}try{if(!stateManager.offlineMode&&!window.settings.overruledOnlineSinglePlayerAlert.value){var t=0;if(stateManager.lastState.message.clients.forEach((function(e){e.isBot||t++})),1===t){var n,a=new DocumentFragment,r=document.createElement("p");r.innerHTML="You're playing online - Rooms created with the Single Player button are faster <i>and</i> work offline! You can find it on the main page, below the Join Room button.",r.id="messageText",a.appendChild(r);var o=document.createElement("button");o.innerHTML="Go Offline",o.addEventListener("click",(function(){stateManager.addEventListener("onLeaveRoom",(function e(){B.click(),se.click(),stateManager.removeEventListener("onLeaveRoom",e)})),oe.click(),n.dismiss()})),o.id="goOfflineButton",a.appendChild(o);var i=document.createElement("button");return i.innerHTML="Stay Online",i.addEventListener("click",(function(){window.settings.overruledOnlineSinglePlayerAlert.value=!0,e(),n.dismiss()})),i.id="stayOnlineButton",a.appendChild(i),void(n=new f.Notification("Play Offline?",a)).show()}}}catch(e){console.error(e)}e()}));var ce=document.createElement("div");ce.id="inviteYourFriendsElem",ee.appendChild(ce);var he=document.createElement("div");he.id="inviteYourFriendsDiv",ce.appendChild(he);var pe=document.createElement("h2");pe.innerHTML="Invite Players to Join This Game!",he.appendChild(pe);var de=document.createElement("p");de.id="joinRoomLinkElem",de.innerHTML="Share the link: <br>";var ve=document.createElement("a");ve.target="_blank",de.appendChild(ve),he.appendChild(de);var fe=document.createElement("img");fe.id="QRImageElement",ce.appendChild(fe);var me=document.createElement("a");me.href="tutorial.html",me.id="tutorialLink",me.innerHTML="Mahjong 4 Friends Tutorial",S.appendChild(me),S.appendChild(document.createElement("br"));var ye=document.createElement("a");ye.href="documentation.html",ye.id="documentationLink",ye.innerHTML="See Full Documentation",S.appendChild(ye);var ge=document.createElement("p");if(ge.id="supportInfo",ge.innerHTML="Questions, Comments, or Concerns? Contact <a href='mailto:support@mahjong4friends.com'>support@mahjong4friends.com</a>",S.appendChild(ge),window.nativePlatform){var we=document.createElement("p");we.id="supportInfo","ios"===window.nativePlatform?we.innerHTML='Enjoying Mahjong 4 Friends? Please <a href="https://apps.apple.com/us/app/mahjong-4-friends/id1552704332" target="_blank">rate us in the App Store</a>!':"android"===window.nativePlatform?we.innerHTML='Enjoying Mahjong 4 Friends? Please <a href="https://play.google.com/store/apps/details?id=com.mahjong4friends.twa" target="_blank">leave a review on Google Play</a>!':"windows"===window.nativePlatform&&(we.innerHTML='Enjoying Mahjong 4 Friends? Please <a href="ms-windows-store://pdp/?productid=9NQS9Z5JJJ8P" target="_blank">leave a review in the Microsoft Store</a>!'),S.appendChild(we)}else{var be=document.createElement("div");be.id="externalAppStoresDiv",S.appendChild(be);function Ee(e){if(!e.strings)return 0;e.strings instanceof Array||(e.strings=[e.strings]);for(var t=0;t<e.strings.length;t++){var n,a;if(null!==(n=navigator)&&void 0!==n&&null!==(a=n.userAgent)&&void 0!==a&&a.includes(e.strings[t]))return 1}return-1}[{href:"https://apps.apple.com/us/app/mahjong-4-friends/id1552704332",src:"assets/badges/appstore.svg",text:"Get Mahjong 4 Friends on the App Store",strings:["iPad","iPhone","Mac OS X"]},{href:"https://www.microsoft.com/store/apps/9NQS9Z5JJJ8P",src:"assets/badges/microsoft.svg",text:"Get Mahjong 4 Friends from Microsoft",strings:"Windows"},{href:"https://play.google.com/store/apps/details?id=com.mahjong4friends.twa",src:"assets/badges/googleplay.svg",text:"Get Mahjong 4 Friends on Google Play",strings:["Android","CrOS"]}].sort((function(e,t){return Ee(t)-Ee(e)})).forEach((function(e){!function(e){var t=e.href,n=e.src,a=e.text,r=document.createElement("a");r.href=t,r.target="_blank",r.rel="noopener";var o=document.createElement("img");o.src=n,o.alt=a,r.appendChild(o),be.appendChild(r)}(e)}))}try{S.appendChild(n(6554))}catch(e){console.error(e)}setTimeout((function(){stateManager.inRoom&&stateManager.inRoom.includes("fbtest")?n(4616):stateManager.inRoom&&stateManager.inRoom.includes("ratingtest")&&AppRate.promptForRating(!0)}),2e3);var Se=document.createElement("p");if(Se.innerHTML="Copyright  2021, All Rights Reserved",Se.id="copyrightNotice",S.appendChild(Se),window.speechSynthesis)try{if(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)){document.addEventListener("click",(function e(){var t=new SpeechSynthesisUtterance("hello");t.volume=0,speechSynthesis.speak(t),document.removeEventListener("click",e)}))}}catch(e){console.error(e)}var Te={},xe={};function ke(){(xe={},window.speechSynthesis)&&speechSynthesis.getVoices().forEach((function(e){var t="".concat(e.name," (").concat(e.lang,")");xe[t]=e}));window.dispatchEvent(new Event("voiceoptionschanged"))}if(window.voiceChoices=Te,window.speechSynthesis)try{speechSynthesis.onvoiceschanged=ke,ke()}catch(e){console.warn("Voice Error",e)}function Ce(){var e=document.createElement("select");this.generateOptions=function(){for(;e.firstChild;)e.firstChild.remove();var t=document.createElement("option");if(t.value="none",t.innerHTML="No Voice",t.selected=!0,e.appendChild(t),Object.keys(xe).length>0){var n=document.createElement("option");for(var a in n.value="default",n.innerHTML="Default Voice",e.appendChild(n),xe){var r=document.createElement("option");r.value=a,r.innerHTML=a,e.appendChild(r)}}},window.addEventListener("voiceoptionschanged",this.generateOptions),this.generateOptions(),this.elem=e,this.get=function(){return xe[e.value]||e.value},this.set=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";e.value=t}}function Me(){var e="#roomId="+stateManager.inRoom;return window.Capacitor?"https://mahjong4friends.com"+e:e}function Oe(){T.style.fontSize="0.7em",ee.style.display="block",C.style.display="none",ve.href=Me(),ve.innerHTML=ve.href,ce.style.display=stateManager.offlineMode?"none":"";try{var e=E(0,"H");e.addData(ve.href),e.make();var t=document.createElement("canvas");t.width=t.height=12*e.getModuleCount();var n=t.getContext("2d");e.renderTo2dContext(n,12);var a=document.createElement("canvas");a.width=a.height=t.width+48;var r=a.getContext("2d");r.fillStyle="white",r.fillRect(0,0,a.width,a.height),r.drawImage(t,24,24);var o=document.createElement("img");o.src="assets/tiles/dragons/green.png",o.addEventListener("load",(function(){var e=.3*a.width,t=o.width,n=o.height,i=Math.max(1,Math.max(t,n)/e);t/=i,n/=i;var s=a.width/2-t/2,u=a.height/2-n/2;r.fillRect(s-12,u-12,t+24,n+24),r.drawImage(o,s,u,t,n),fe.src=a.toDataURL("image/png"),fe.width=fe.height=a.width/4})),fe.src=a.toDataURL("image/png"),fe.width=fe.height=a.width/4}catch(e){console.error(e)}}var Ae,Ie,Pe=!0;function De(){var e=S.scrollHeight,t=Math.max(document.documentElement.clientHeight,window.innerHeight);"none"===S.style.display&&(e=t),document.body.style.height=Math.min(e,window.pageYOffset+t)+"px",Date.now()-Ae>1e3&&(clearInterval(Ie),Ie=void 0)}window.stateManager.onJoinRoom=function(e){if("error"===e.status)return new f.Notification("Unable to Join Room",e.message).show();Pe&&I.has("roomId")&&I.get("roomId")!==e.message&&(new f.Notification("Room Restored","You followed a link to room "+I.get("roomId")+", but were already in room "+e.message+". Your room has been restored - to join a new room, leave your current one. ").show(),Pe=!1),Oe()},window.stateManager.onCreateRoom=function(e){if("error"===e.status)return new f.Notification("Unable to Create Room",e.message).show();Oe()},window.stateManager.addEventListener("onLeaveRoom",(function(e){T.style.fontSize="",ee.style.display="none",C.style.display="block",stateManager.offlineMode&&(stateManager.offlineMode=!1,stateManager.getCurrentRoom()),"You closed the room. "!==e.message&&"You left the room. "!==e.message&&new f.Notification("Out of Room",e.message).show()})),window.stateManager.addEventListener("onStateUpdate",(function(e){var t=stateManager.offlineMode?stateManager.inRoom:'<a href="'.concat(Me(),'" target="_blank">').concat(stateManager.inRoom,"</a>"),n=e.message.clients.length;te.innerHTML="".concat(n," player").concat(n>1?"s are":" is"," in room ").concat(t),window.stateManager.isHost?(se.style.display="",ie.style.display="",oe.style.display="",re.style.display="",1===e.message.clients.length?re.style.display="none":e.message.clients.length>=4&&(ie.style.display="none")):(ie.style.display="none",oe.style.display="none",se.style.display="none",re.style.display=""),ue.setHost(window.stateManager.isHost),function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;ae.firstChild;)ae.firstChild.remove();e.forEach((function(e){var n=document.createElement("div");n.classList.add("playerViewRow");var a=document.createElement("span");a.classList.add("playerViewNameSpan"),a.innerHTML=e.nickname,n.appendChild(a);var r=document.createElement("span");r.classList.add("playerViewCard"),n.appendChild(r);var o=document.createElement("span");function i(t,n){t.classList.add("editableName");var r="Enter a new nickname for ".concat(e.nickname,": ");n===window.clientId&&(r="Enter a new nickname: "),a.addEventListener("click",(function(){var t=prompt(r);null!==t&&window.stateManager.setNickname(t,e.id)}))}if(o.classList.add("playerViewVoiceChoice"),n.appendChild(o),e.id===window.clientId)o.innerHTML="N/A",i(a,e.id),window.stateManager.isHost?r.innerHTML="You (Host)":r.innerHTML="You";else if(Te[e.id]=Te[e.id]||new Ce,o.appendChild(Te[e.id].elem),e.isHost)r.innerHTML="Host";else if(window.stateManager.isHost){i(a,e.id);var s=document.createElement("button");s.innerHTML="Remove "+e.nickname,s.classList.add("playerViewKickButton"),s.addEventListener("click",(function(){(e.isBot||confirm("Are you sure you want to remove "+e.nickname))&&t(e.id)})),r.appendChild(s)}else r.innerHTML="Player";ae.appendChild(n)}))}(e.message.clients,(function(e){window.stateManager.kickUser(window.stateManager.roomId,e)}))})),window.stateManager.getCurrentRoom(),window.stateManager.addEventListener("onStartGame",(function(){S.style.display="none"})),window.stateManager.addEventListener("onEndGame",(function(e){S.style.display="","State Sync"!==e.message&&new f.Notification("Game Ended",e.message).show()})),window.addEventListener("scroll",(function(){Ae=Date.now(),De(),Ie||setInterval((function(){De()}),16)})),De(),window.addEventListener("resize",De),e.exports=S},9467:(e,t,n)=>{function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=n(4376),o=["Please Select Variant...",{name:"American (NMJL/Marvelous)",value:"american"},{name:"Chinese/British/HK",value:"chinese"},{name:"Panama Rules",value:"panama"}],i=["Select Card:","2021 National Mahjongg League",{name:"2022 Marvelous Mah Jongg",value:"2022 Marvelous Mahjongg"},"2020 National Mahjongg League",{name:"2021 Marvelous Mah Jongg",value:"2021 Marvelous Mahjongg"},"Other Card - Bots Use Random Card"],s=function(){"use strict";function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settingsDiv=t}var t,n,s;return t=e,n=[{key:"render",value:function(){for(;this.settingsDiv.firstChild;)this.settingsDiv.firstChild.remove();this.isHost&&(window.settings.gameStyle.createSelector("Mahjong Variant: ",o,this.settingsDiv),window.settings.gameStyle.onValueSet=this.render.bind(this),"american"===window.settings.gameStyle.value&&window.settings.american.card.createSelector("Select Card: ",i,this.settingsDiv))}},{key:"openMenu",value:function(){var e=window.settings.gameStyle.value,t=document.createElement("div"),n=document.createElement("div");n.className="settingsMenuDiv",t.appendChild(n);var a="";"american"===e?(window.settings.american.suggestedHands.createSelector("Suggested Hands: ",n),window.settings.american.suggestedHands.createSelector("Ignore Bot Mahjong: ",n)):"chinese"===e?(a="Most variants should be supported - self-scoring and overrides may be needed. Can't play your way? Send an email to support@mahjong4friends.com!",window.settings.chinese.tableLimitEnabled.createSelector("Table Limit: ",n),window.settings.chinese.allow4thTilePickup.createSelector("Allow 4th Tile Pickup: ",n),window.settings.chinese.botCanStartCharleston.createSelector("Bots Can Initiate Charleston: ",n),window.settings.chinese.pickupDiscardForDraw.createSelector("Pickup Discard for Draw: ",n)):"panama"===e&&(a="Chinese, but with a limit of 1 sequence/chow, and an optional 3 pass charleston (decided by East wind)",window.settings.chinese.tableLimitEnabled.createSelector("Table Limit: ",n)),window.settings.soundEffects.createSelector("Sound Effects: ",n);var o=document.createElement("p");o.innerHTML=a,t.appendChild(o),new r.Notification("Game Settings",t).show().style.width="100vw"}},{key:"setHost",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isHost=e,this.render()}},{key:"getChoices",value:function(){}}],n&&a(t.prototype,n),s&&a(t,s),e}();e.exports=s},7576:(e,t,n)=>{function a(e,t,n,a,r,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,u,"next",e)}function u(e){a(i,r,o,s,u,"throw",e)}s(void 0)}))}}function o(){return(o=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.Capacitor){e.next=13;break}return e.prev=1,e.next=4,Capacitor.Plugins.Filesystem.readFile({path:t,directory:"DATA",encoding:"utf8"});case 4:return e.abrupt("return",e.sent.data);case 7:return e.prev=7,e.t0=e.catch(1),console.error("Failed to Read",e.t0),e.abrupt("return",null);case 11:e.next=14;break;case 13:return e.abrupt("return",localStorage.getItem(t));case 14:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function i(){return i=r(regeneratorRuntime.mark((function e(t,n){var a,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.length>2&&void 0!==r[2]?r[2]:"DATA",!window.Capacitor){e.next=7;break}return e.next=4,Capacitor.Plugins.Filesystem.writeFile({path:t,directory:a,data:n,recursive:!0,encoding:"utf8"});case 4:return e.abrupt("return",e.sent);case 7:localStorage.setItem(t,n);case 8:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function s(){return(s=r(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.Capacitor){e.next=5;break}return e.next=3,Capacitor.Plugins.Filesystem.deleteFile({path:t,directory:"DATA"});case 3:e.next=6;break;case 5:localStorage.removeItem(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(5666),n(1539),n(8674),e.exports={readSave:function(e){return o.apply(this,arguments)},writeSave:function(e,t){return i.apply(this,arguments)},deleteSave:function(e){return s.apply(this,arguments)}}},7793:(e,t,n)=>{function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n(2707),n(3753),n(6699),n(1249);var o=n(2946),i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a(this,e),void 0===t.exposed)throw"config.exposed must not be undefined. ";if(this.isDouble=function(e){return!1},this.getPoints=function(){return 0},!t.tiles instanceof Array)throw"config.tiles must be an array of Tiles";if(!e.isValidSequence(t.tiles))throw"config.tiles is not a valid sequence. ";this.tiles=t.tiles,this.tiles=this.tiles.sort((function(e,t){return e.value-t.value})),this.exposed=t.exposed,this.isSequence=!0,this.isPongOrKong=!1,this.isPair=!1,this.toJSON=function(){var e={class:"Sequence"};return e.exposed=this.exposed,e.tiles=this.tiles,JSON.stringify(e)}.bind(this)}var t,n,i;return t=e,i=[{key:"isValidSequence",value:function(e){var t=e[0].type;if(!["bamboo","character","circle"].includes(t))return!1;e=e.sort((function(e,t){return e.value-t.value}));for(var n=1;n<e.length;n++){var a=e[n];if(a.type!==t)return!1;if(1!==Math.abs(e[n-1].value-a.value))return!1}return 3===e.length}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Sequence"!==n.class)throw"String was not created by Sequence.toJSON()";return n.tiles=n.tiles.map((function(e){return o.fromJSON(e)})),new e(n)}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},2560:(e,t,n)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t,n,a,r,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(a,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){l(o,a,r,i,s,"next",e)}function s(e){l(o,a,r,i,s,"throw",e)}i(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}n(1539),n(4747),n(8309),n(9653),n(8674),n(489),n(2419),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(5666);var v=n(7576),f=v.readSave,m=v.writeSave,y=v.deleteSave,g=function(){"use strict";function e(t,n){h(this,e),this.saveKey=t,this.defaultValue=String(n),this.loaded=this.getValueFromDisk()}var t,n;return d(e,[{key:"getValueFromDisk",value:(n=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(this.saveKey);case 2:this.currentValue=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setValueToDisk",value:(t=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentValue!==this.defaultValue){e.next=4;break}return e.next=3,y(this.saveKey);case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,m(this.saveKey,this.currentValue);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getValue",value:function(){var e;return null!==(e=this.currentValue)&&void 0!==e?e:this.defaultValue}},{key:"setValue",value:function(e){this.currentValue=String(e),this.saved=this.setValueToDisk();try{this.onValueSet&&this.onValueSet(e)}finally{return this.saved}}},{key:"value",get:function(){return this.getValue()},set:function(e){this.setValue(e)}},{key:"createSelector",value:function(e,t,n){var a=document.createElement("div"),r=document.createElement("label");r.innerHTML=e,a.appendChild(r);var o=document.createElement("select");return a.appendChild(o),t.forEach((function(e){"string"==typeof e&&(e={name:e,value:e});var t=document.createElement("option");t.value=e.value,t.innerHTML=e.name,o.appendChild(t)})),o.value=this.value,o.addEventListener("change",function(){this.value=o.value}.bind(this)),n&&n.appendChild(a),a}}]),e}(),w=function(e){"use strict";r(n,e);var t=i(n);function n(e,a){return h(this,n),t.call(this,e,String(a))}return d(n,[{key:"value",get:function(){return"false"!==this.getValue()},set:function(e){this.setValue(e)}},{key:"createSelector",value:function(e,t){var n=document.createElement("label");n.innerHTML=e;var a="booleanSetting"+Math.random()*Math.pow(2,52),r=document.createElement("input");r.type="checkbox",r.classList.add("switch"),r.id=a;var o=document.createElement("label");o.setAttribute("for",a),o.setAttribute("data-on-label","Yes"),o.setAttribute("data-off-label","No"),r.checked=this.value,r.classList.add("animate"),r.addEventListener("click",function(){this.value=r.checked}.bind(this));var i=document.createElement("div");return i.appendChild(n),i.appendChild(r),i.appendChild(o),t&&t.appendChild(i),i}}]),n}(g),b=function(e){"use strict";r(n,e);var t=i(n);function n(e,a){return h(this,n),t.call(this,e,String(a))}return d(n,[{key:"value",get:function(){return Number(this.getValue())},set:function(e){this.setValue(e)}}]),n}(g),E=function(e){"use strict";r(n,e);var t=i(n);function n(e,a){return h(this,n),t.call(this,e,String(a))}return n}(b);e.exports={BooleanSetting:w,Setting:g,NumberSetting:b,NumberSliderSetting:E}},3642:(e,t,n)=>{function a(e,t,n,a,r,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,u,"next",e)}function u(e){a(i,r,o,s,u,"throw",e)}s(void 0)}))}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n(5666),n(1539),n(8674),n(5837),n(2772),n(561),n(4747),n(6992),n(8783),n(3948),n(1637),n(7042);var u=n(4376),l=function(){"use strict";function e(t){o(this,e);var a,i=function(e){var t=JSON.parse(e.data);if(console.log(t),"joinRoom"===t.type)c(t);else if("createRoom"===t.type)l(t);else if("roomActionState"===t.type)v(t);else if("roomActionKickFromRoom"===t.type);else if("roomActionLeaveRoom"===t.type)h(t);else if("getCurrentRoom"===t.type)f(t);else if("displayMessage"===t.type){var n;null!=t&&null!==(n=t.message)&&void 0!==n&&n.onlineOnly&&window.stateManager.offlineMode?console.warn("Suppressing displayMessage as offline. "):new u.Notification(t.message.title,t.message.body).show()}else"roomActionStartGame"===t.type?(p(t),window.scrollTo(0,0)):"roomActionEndGame"===t.type?d(t):"roomActionPlaceTiles"===t.type?this.onPlaceTiles instanceof Function&&this.onPlaceTiles(t):"roomActionRevertState"===t.type?this.onRevertState instanceof Function&&this.onRevertState(t):"roomActionGameplayAlert"===t.type?this.onGameplayAlert instanceof Function&&this.onGameplayAlert(t):"roomActionGetMessageHistory"===t.type?this.onGetMessageHistory instanceof Function&&this.onGetMessageHistory(t):"setStaticMessageBar"===t.type?this.onSetStaticMessageBar instanceof Function&&this.onSetStaticMessageBar(t):console.log("Unknown Type "+t.type)}.bind(this);this.createWebsocket=function(){var e=r(regeneratorRuntime.mark((function e(){var l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.websocket=new WebSocket(t),this.websocket.addEventListener("message",i),this.websocket.addEventListener("open",(function(){window.setConnectionStatus&&window.setConnectionStatus({connected:!0}),a&&(a.dismiss(),a=null)})),this.websocket.addEventListener("close",function(){var e=r(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.setConnectionStatus&&window.setConnectionStatus({connected:!1}),console.warn(t),1e3===t.code){e.next=8;break}return!1===stateManager.offlineMode&&(n=1500,a&&(n=0,a.dismiss(),a=null),a=new u.MessageBar("You Disconnected from the Server. Attempting to Reconnect..."),setTimeout((function(){a&&a.show(8e3)}),n)),e.next=6,new Promise((function(e,t){setTimeout(e,1e3)}));case 6:this.createWebsocket(),stateManager.offlineMode||this.getCurrentRoom();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)),l=new(function(){function e(){o(this,e)}return s(e,[{key:"on",value:function(e,t){console.log(e),this.onmessage=t}},{key:"send",value:function(e){i({data:e})}}]),e}()),globalThis.serverStateManager||(c=n(3093),globalThis.serverStateManager=new c),this.sendMessage=function(){var e=r(regeneratorRuntime.mark((function e(t){var a,r=this,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]&&o[1],!this.offlineMode||a){e.next=7;break}this.localServer||(this.localServer=n(5025),console.log(this.localServer),this.localServer(l)),l.onmessage||(console.log(l),this.localServer(l)),l.onmessage(t),e.next=11;break;case 7:if(0!==this.websocket.readyState){e.next=10;break}return e.next=10,new Promise((function(e,t){r.websocket.onopen=e,r.websocket.onerror=t}));case 10:this.websocket.send(t);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}().bind(this),this.createWebsocket(),this.inRoom=!1,this.isHost=!1,this.inGame=!1,this.joinRoom=function(e,t){this.sendMessage(JSON.stringify({type:"joinRoom",clientId:window.clientId,roomId:e,nickname:t}))},this.createRoom=function(e,t){this.sendMessage(JSON.stringify({type:"createRoom",clientId:window.clientId,roomId:e,nickname:t}))},this.kickUser=function(e,t){this.sendMessage(JSON.stringify({type:"roomActionKickFromRoom",clientId:window.clientId,id:t}))},this.leaveRoom=function(e){this.sendMessage(JSON.stringify({type:"roomActionLeaveRoom",clientId:window.clientId}))},this.closeRoom=function(e){this.sendMessage(JSON.stringify({type:"roomActionCloseRoom",clientId:window.clientId}))},this.startGame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessage(JSON.stringify({type:"roomActionStartGame",clientId:window.clientId,settings:e}))},this.endGame=function(){this.sendMessage(JSON.stringify({type:"roomActionEndGame",clientId:window.clientId}))},this.placeTiles=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.sendMessage(JSON.stringify({type:"roomActionPlaceTiles",clientId:window.clientId,mahjong:t,message:e,swapJoker:n.swapJoker}))},this.addBot=function(e){this.sendMessage(JSON.stringify({type:"roomActionAddBot",clientId:window.clientId,botName:e}))},this.setNickname=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.clientId;this.sendMessage(JSON.stringify({type:"roomActionChangeNickname",clientId:window.clientId,nickname:e,targetId:t}))},this.getCurrentRoom=function(){this.sendMessage(JSON.stringify({type:"getCurrentRoom",clientId:window.clientId}))}.bind(this),this.getMessageHistory=function(){var e=this;return new Promise((function(t){e.onGetMessageHistory=t,e.sendMessage(JSON.stringify({type:"roomActionGetMessageHistory",clientId:window.clientId}))}))}.bind(this),this.uploadOfflineSave=function(e){var t=e.message,n=e.saveId;this.sendMessage(JSON.stringify({type:"uploadOfflineSave",message:t,saveId:n,clientId:window.clientId}),!0)}.bind(this),this.revertState=function(e){this.sendMessage(JSON.stringify({type:"roomActionRevertState",message:e,clientId:window.clientId}))}.bind(this),this.createRoomFromState=function(e){this.sendMessage(JSON.stringify({type:"createRoomFromState",saveId:e,clientId:window.clientId}))}.bind(this),this.getState=function(e){console.log("Getting state..."),this.sendMessage(JSON.stringify({type:"roomActionState",clientId:window.clientId}))},this.callServerSave=function(e,t){this.sendMessage(JSON.stringify({type:"callServerSave",auth:e,saveName:t})),console.warn("You will need to manually kill the server on reboot and reload from save. ")},this.messageAllServerClients=function(e){var t=e.auth,n=e.title,a=e.body,r=e.onlineOnly,o=void 0===r||r;this.sendMessage(JSON.stringify({type:"messageAllServerClients",auth:t,title:n,body:a,onlineOnly:o}))},this.setStaticMessageBar=function(e){var t=e.auth,n=e.timeStamp,a=void 0===n?void 0:n,r=e.message;this.sendMessage(JSON.stringify({type:"setStaticMessageBar",auth:t,timeStamp:a,message:r}))};var l=function(e){"success"===e.status&&(this.inRoom=e.message,this.isHost=!0),this.onCreateRoom instanceof Function&&this.onCreateRoom(e)}.bind(this),c=function(e){"success"===e.status&&(this.inRoom=e.message),this.onJoinRoom instanceof Function&&this.onJoinRoom(e)}.bind(this);this.listeners={onStartGame:[],onEndGame:[],onStateUpdate:[],onLeaveRoom:[]},this.addEventListener=function(e,t){if(!this.listeners[e])throw e+" is not supported by this addEventListener";this.listeners[e].push(t)}.bind(this),this.removeEventListener=function(e,t){var n=this.listeners[e];if(!n)throw e+" is not supported by this addEventListener";var a=n.indexOf(t);if(-1===a)throw"Unable to find listener";n.splice(a,1)}.bind(this);var h=function(e){"success"===e.status&&(this.inRoom=!1,this.isHost=!1,!0===this.inGame&&(this.inGame=!1,d({status:"success",message:"State Sync"}))),this.listeners.onLeaveRoom.forEach((function(t){t(e)}))}.bind(this),p=function(e){"success"===e.status&&(this.inGame=!0),this.listeners.onStartGame.forEach((function(t){t(e)}))}.bind(this),d=function(e){"success"===e.status&&(this.inGame=!1),this.listeners.onEndGame.forEach((function(t){t(e)}))}.bind(this),v=function(e){this.lastState=e,this.isHost=e.message.isHost,!1===this.inGame&&!0===e.message.inGame?(void 0===stateManager.offlineMode&&(stateManager.offlineMode=!1),p({status:"success",message:"State Sync"})):!0===this.inGame&&!1===e.message.inGame&&d({status:"success",message:"State Sync"}),this.currentTurn=e.message.currentTurn,this.listeners.onStateUpdate.forEach((function(t){t(e)}))}.bind(this),f=function(e){this.inRoom=e.message||!1,this.inRoom&&(c(e),this.getState(this.inRoom))}.bind(this)}return s(e,null,[{key:"setClientId",value:function(e){window.clientId=e,localStorage.setItem("clientId",window.clientId);var t=new URLSearchParams("?"+window.location.hash.slice(1));t.has("clientId")&&(window.clientId=t.get("clientId"))}},{key:"createNewClientId",value:function(){return"user"+Math.random()*Math.pow(2,53)}},{key:"getClientId",value:function(){var t=localStorage.getItem("clientId");return null===t&&(t=e.createNewClientId()),t}}]),e}();l.setClientId(l.getClientId()),e.exports=l},2946:(e,t,n)=>{function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(6699),n(4553);var i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),o(this,"isSequence",!1),o(this,"isPongOrKong",!1),o(this,"isPair",!1),this.type=t.type,this.value=t.value,this.value||"flower"!==this.type&&"season"!==this.type||(this.value=Math.ceil(4*Math.random())),t.faceDown&&(this.faceDown=!0)}var t,n,i;return t=e,n=[{key:"getTileName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"chinese",n=this.value+" "+this.type;return"american"===t&&(n=["flower","season"].includes(this.type)?"flower":this.value+" "+(e.americanTranslations[this.type]||this.type)),this.faceDown&&(n=this.value&&this.type?"Face Down "+n:"Face Down Tile"),n}},{key:"getImageUrl",value:function(){return this.faceDown?"assets/tiles/face-down.png":"joker"===this.type?"assets/tiles/joker.png":"any"===this.type?"assets/tiles/any/"+this.value+".png":"any"===this.value?"assets/tiles/any/"+this.type+".png":"assets/tiles/"+this.type+"s/"+this.value+".png"}},{key:"createImageElem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createImageElem({src:this.getImageUrl(),title:this.getTileName(t.gameStyle)})}},{key:"matches",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.faceDown&&t instanceof e&&(!(t.type!==this.type&&(!n||"any"!==this.type&&"any"!==t.type)||t.value!==this.value&&(!n||"any"!==this.value&&"any"!==t.value))||"joker"===this.type&&t.type===this.type||!("flower"!==this.type&&"season"!==this.type||"flower"!==t.type&&"season"!==t.type)&&2)}},{key:"getTileValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=100;return n+=100*["flower","season","circle","bamboo","character","wind","dragon","joker"].findIndex((function(t){return e.type===t})),t&&n<=200?100:("number"==typeof this.value?n+=this.value:"wind"===this.type?n+=10*["north","east","south","west"].findIndex((function(t){return e.value===t})):"dragon"===this.type?n+=10*["red","green","white"].findIndex((function(t){return e.value===t})):"flower"===this.type||"season"===this.type||"any"===this.value||this.faceDown||"joker"===this.type||console.error("Couldn't fully calculate ",this),n)}},{key:"getPoints",value:function(){return 0}},{key:"isDouble",value:function(){return 0}},{key:"toJSON",value:function(){var e={class:"Tile"};return e.type=this.type,e.value=this.value,this.faceDown&&(e.faceDown=this.faceDown),JSON.stringify(e)}}],i=[{key:"createImageElem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.createElement("img");return t.src=e.src,t.title=e.title,t}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Tile"!==n.class)throw"String was not created by Tile.toJSON()";return new e(n)}}],n&&r(t.prototype,n),i&&r(t,i),e}();o(i,"americanTranslations",{bamboo:"bam",character:"crak",circle:"dot"}),e.exports=i},502:(e,t,n)=>{function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1539),n(9826),n(1249);var i=n(2946),s=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a(this,e),o(this,"exposed",!0),o(this,"isSequence",!1),o(this,"isPongOrKong",!1),o(this,"isPair",!1),!t.tiles instanceof Array)throw"config.tiles must be an array of Tiles";this.tiles=t.tiles}var t,n,s;return t=e,n=[{key:"isDouble",value:function(e){return!1}},{key:"getPoints",value:function(){return 0}},{key:"isValidMatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.isValidMatch(this.tiles,t)}},{key:"toJSON",value:function(){var e={class:"TileContainer"};return e.exposed=this.exposed,e.tiles=this.tiles,JSON.stringify(e)}}],s=[{key:"isValidMatch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.findBaseTile(t);return!!a&&!!t.every((function(e){if(e.matches(a)||n&&"joker"===e.type)return!0}))&&a}},{key:"findBaseTile",value:function(e){var t=e.find((function(e){return"joker"!==e.type}));return t||e[0]}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("TileContainer"!==n.class)throw"String was not created by TileContainer.toJSON()";return n.tiles=n.tiles.map((function(e){return i.fromJSON(e)})),new e(n)}}],n&&r(t.prototype,n),s&&r(t,s),e}();e.exports=s},6212:(e,t,n)=>{function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n(2222),n(1539),n(3753);var o=n(2946),i=n(4810),s=n(7905),u=n(8643).updateTilesInContainer,l=n(4843).displayCenterTilePopup,c=function(){"use strict";function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,e),this.drawFirst=function(){return this.tiles.pop()},this.readFirst=function(){return this.tiles[this.tiles.length-1]},this.tiles=[],this.tiles=this.tiles.concat(e.getNonPrettyTiles()),r.noPrettys||[!1,!0].forEach((function(e){for(var n=1;n<=4;n++)r.prettysAsTiles?t.tiles.push(new o({value:n,type:e?"season":"flower"})):t.tiles.push(new i({value:n,seasonOrFlower:e?"season":"flower"}))})),r.includeJokers)for(var s=0;s<r.includeJokers;s++)this.tiles.push(new o({type:"joker",value:""}));e.shuffleArray(this.tiles,n),this.toJSON=function(){return n}.bind(this)}var t,n,c;return t=e,c=[{key:"getNonPrettyTiles",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=[],n=function(n){for(var a=0;a<e;a++)["bamboo","character","circle"].forEach((function(e){t.push(new o({type:e,value:n}))}))},a=1;a<=9;a++)n(a);return["red","green","white"].forEach((function(n){for(var a=0;a<e;a++)t.push(new o({type:"dragon",value:n}))})),["north","south","east","west"].forEach((function(n){for(var a=0;a<e;a++)t.push(new o({type:"wind",value:n}))})),t}},{key:"shuffleArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random(),n=s(t),a=e.length-1;a>0;a--){var r=Math.floor(n()*(a+1)),o=[e[r],e[a]];e[a]=o[0],e[r]=o[1]}}},{key:"renderWall",value:function(e,t){if(0!==t.length){var n=e.querySelector("p");n||(n=document.createElement("p"),e.insertBefore(n,e.firstChild)),n.innerHTML=t.length,u(e,t),window.requestAnimationFrame((function(){t.length>30?e.className="wall":e.className="wall smallView"})),e.onclick=function(){l(t,"Wall View (".concat(t.length," tile").concat(1===t.length?"":"s"," left)"))}}else for(;e.firstChild;)e.firstChild.remove()}},{key:"fromJSON",value:function(t){return new e(t)}}],(n=null)&&r(t.prototype,n),c&&r(t,c),e}();e.exports=c},4616:(e,t,n)=>{n(1539);var a=document.createElement("div");a.id="fb-root",document.body.appendChild(a);var r,o,i,s,u,l=document.createElement("div");l.className="fb-customerchat",l.setAttribute("page_id","103233541852386"),l.setAttribute("greeting_dialog_display","icon"),document.body.appendChild(l),window.fbAsyncInit=function(){FB.init({xfbml:!1,version:"v10.0"}),FB.Event.subscribe("customerchat.load",(function(){for(var e=document.querySelector("head > style").innerText,t=[],n="",a=0,r=0;r<e.length;r++){var o=e[r];n+=o,"{"===o&&a++,"}"===o&&0===--a&&(t.push(n),n="")}console.log("Parsed and inserting Facebook CSS Rules to bypass inline-style CSP block",t),t.forEach((function(e){document.styleSheets[0].insertRule(e)}))})),FB.XFBML.parse()},r=document,o="script",i="facebook-jssdk",u=r.getElementsByTagName(o)[0],r.getElementById(i)||((s=r.createElement(o)).id=i,s.src="https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js",u.parentNode.insertBefore(s,u))},1945:(e,t,n)=>{function a(e,t,n,a,r,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(a,r)}var r;n(5666),n(1539),n(8674),(r=regeneratorRuntime.mark((function e(){var t,a,r,o,i,s,u,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(t=window)||void 0===t||null===(a=t.Capacitor)||void 0===a?void 0:a.getPlatform()){e.next=3;break}return e.abrupt("return");case 3:return o=n(4376),e.next=6,window.Capacitor.Plugins.Device.getInfo();case 6:if(i=e.sent,s=i.appVersion,"ios"!==r){e.next=19;break}return e.next=11,fetch("https://itunes.apple.com/lookup?bundleId=com.mahjong4friends.twa&YourCDNDoesNotChangeCORSHeadersSoMustCacheBust"+Math.random());case 11:return u=e.sent,e.next=14,u.json();case 14:l=e.sent,c=l.results[0].version,parseFloat(s)<parseFloat(c)&&new o.Notification("App Update","There is a Mahjong 4 Friends <a href='https://apps.apple.com/us/app/mahjong-4-friends/id1552704332' target='_blank'>app update</a>. Downloading it is recommended. You may experience issues if you do not update. ").show(),e.next=20;break;case 19:"android"===r&&parseFloat(s)<parseFloat("2.2")&&new o.Notification("App Update","There is a Mahjong 4 Friends <a href='https://play.google.com/store/apps/details?id=com.mahjong4friends.twa' target='_blank'>app update</a>. Downloading it is recommended. You may experience issues if you do not update. ").show();case 20:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function s(e){a(i,n,o,s,u,"next",e)}function u(e){a(i,n,o,s,u,"throw",e)}s(void 0)}))})()},5220:()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.Capacitor)&&void 0!==t&&t.getPlatform())try{var n="market://details?id=com.mahjong4friends.twa",a="1552704332";AppRate.setPreferences({displayAppName:"Mahjong 4 Friends",simpleMode:!1,usesUntilPrompt:8,promptAgainForEachNewVersion:!1,reviewType:{ios:"InAppReview",android:"InAppBrowser"},storeAppURL:{ios:a,android:n},customLocale:{title:"Would you mind rating %@?",message:"It wont take more than a minute and helps others find our app. Thanks for your support!",cancelButtonLabel:"No, Thanks",laterButtonLabel:"Remind Me Later",rateButtonLabel:"Rate It Now",yesButtonLabel:"Yes!",noButtonLabel:"Not Yet",appRatePromptTitle:"Do you like using %@",feedbackPromptTitle:"Would you like to give us feedback?"},openUrl:function(){"android"===window.Capacitor.getPlatform()?window.open(n):window.open("https://apps.apple.com/us/app/mahjong-4-friends/id1552704332")},callbacks:{handleNegativeFeedback:function(){var e="<br><br>\nPlease type your feedback above this line. <br>\nScreenshots help massively when investigating issues. If possible, please include them, as well as the times at which any affected games were played. ";try{e+="<br><br>Device Details: ",e+="<br>WebKit/WebView: ".concat(navigator.userAgent),e+="<br>Time Zone Code: ".concat((new Date).getTimezoneOffset())}catch(e){console.error(e)}cordova.plugins.email.open({to:"support@mahjong4friends.com",subject:"Mahjong 4 Friends ".concat(window.Capacitor.getPlatform()," Feedback"),body:e,isHtml:!0})},onRateDialogShow:function(e){console.log("Click"),e(1)},onButtonClicked:function(e){console.log("onButtonClicked -> "+e)}}})}catch(e){console.error(e)}},4843:(e,t,n)=>{var a=n(8643).updateTilesInContainer,r=n(4376).Panel;e.exports={displayCenterTilePopup:function(e,t){var n=new r(t);console.log(n),n.panel.classList.add("fitToBoardArea");var o=document.createElement("div");o.classList.add("tileGridPopupView"),a(o,e),n.panel.appendChild(o),n.show(gameBoard);var i=n.panel.getBoundingClientRect(),s=o.getBoundingClientRect(),u=i.bottom-s.top,l=i.right-i.left;u*=.99;for(var c=128,h=96;;){var p=u/c,d=l/h;if(Math.floor(p)*Math.floor(d)>=e.length)break;var v=u/(Math.floor(p)+1+1e-7),f=l/(Math.floor(d)+1+1e-7),m=Math.max(v/c,f/h);c*=m,h*=m}for(var y=o.querySelectorAll("img"),g=0;g<y.length;g++){var w=y[g];w.style.width=h+"px",w.style.height=c+"px"}}}},2352:(e,t,n)=>{n(4916),n(2772),n(1539),n(2222),n(6992),n(8783),n(3948),n(285),n(1637),n(9714),n(7042),n(9653);try{if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)||navigator.userAgent.indexOf("Trident/")>-1){var a=document.createElement("h2");a.innerHTML="Internet Explorer is NOT Supported. Choose a different browser (Chrome, Firefox, Edge, Safari, Opera, and most other browsers should work)",document.body.insertBefore(a,document.body.firstChild)}}catch(e){console.error(e)}try{window.Capacitor&&window.Capacitor.Plugins.SplashScreen.hide()}catch(e){console.error(e)}if("serviceWorker"in navigator)try{navigator.serviceWorker.register("packagedsw.js")}catch(e){console.error(e)}var r=n(2560),o=r.BooleanSetting,i=r.Setting,s=r.NumberSetting,u=r.NumberSliderSetting;window.settings={singlePlayerDebuggingData:new o("settingCollectDebuggingData",!0),displayTips:new o("settingDisplayTips",!0),soundEffects:new o("settingSoundEffects",!1),gameStyle:new i("gameStyle"),hasReceivedPossibleHandsHint:new o("hasReceivedPossibleHandsHint",!1),hasReceivedScoreSummaryHint:new o("hasReceivedScoringHint",!1),overruledOnlineSinglePlayerAlert:new o("overruledOnlineSinglePlayerAlert",!1)},window.settings.chinese={tableLimitEnabled:new o("chinese.tableLimitEnabled",!1),tableLimit:new s("chinese.tableLimit",500),allow4thTilePickup:new o("chinese.allow4thTilePickup",!0),botCanStartCharleston:new o("chinese.botCanStartCharleston",!1),pickupDiscardForDraw:new o("chinese.pickupDiscardForDraw",!1)},window.settings.american={card:new i("american.card","2021 National Mahjong League"),suggestedHands:new o("american.suggestedHands",!0),botDifficulty:new u("american.botDifficulty",50),ignoreBotMahjong:new o("american.ignoreBotMahjong",!1)},document.title="Mahjong 4 Friends - Free Mahjong, Friends and/or Bots",n(1945),n(819);[16,24,32,64,96,160,196].forEach((function(e){var t=document.createElement("link");t.rel="shortcut icon",t.type="image/png",t.sizes=e+"x"+e,t.href="assets/icons/".concat(e,"x").concat(e,"-green-dragon.png"),document.head.appendChild(t)}));var l=n(3642);n(8010);var c=new URL(window.location.origin+window.location.pathname);"https:"===window.location.protocol?c.protocol="wss:":c.protocol="ws:";var h=c.toString();window.Capacitor&&(h="wss://mahjong4friends.com/"),window.stateManager=new l(h),["Hand","Tile","Sequence","Pretty","Match","Wall","Popups"].forEach((function(e){window[e]=n(5301)("./"+e+".js")}));n(2342),n(4696);function p(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Math.max(document.documentElement.clientWidth,Math.min(screen.width,window.innerWidth)),n=Math.max(document.documentElement.clientHeight,window.innerHeight);document.documentElement.style.setProperty("--vh","".concat(n/100,"px")),document.documentElement.style.setProperty("--vw","".concat(t/100,"px"));var a=new URLSearchParams(window.location.hash.slice(1)),r=Number(a.get("shiftPercentageLeft")),o=Number(a.get("shiftPercentageRight")),i=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--sal"));i-=10,document.documentElement.style.setProperty("--shiftPercentageLeft","".concat(Math.max(r,i/t)));var s=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--sar"));s-=10,document.documentElement.style.setProperty("--shiftPercentageRight","".concat(Math.max(o,s/t))),e&&!1!==(null==e?void 0:e.isTrusted)&&setTimeout((function(){p(!1)}),500)}window.addEventListener("resize",p),window.addEventListener("orientationchange",(function(){window.dispatchEvent(new Event("resize"))})),p();var d=setInterval((function(){window.dispatchEvent(new Event("resize"))}),300);setTimeout((function(){clearInterval(d)}),3e3),document.body.addEventListener("load",p),window.addEventListener("touchmove",(function(){}),{passive:!1})},6554:(e,t,n)=>{var a;function r(e,t,n,a,r,o,i){try{var s=e[o](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(a,r)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,u,"next",e)}function u(e){r(i,a,o,s,u,"throw",e)}s(void 0)}))}}n(1539),n(8674),n(5666);n(4376);var i=document.createElement("img");null!==(a=window)&&void 0!==a&&a.Capacitor?i.src="https://mahjong4friends.com/assets/settings.svg":i.src="assets/settings.svg",i.className="settingsIcon",i.addEventListener("click",o(regeneratorRuntime.mark((function e(){var t,n,a,r,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){window.settings.singlePlayerDebuggingData.value?o.innerHTML=a:o.innerHTML=r},e.next=3,window.settings.singlePlayerDebuggingData.loaded;case 3:t=document.createElement("div"),(n=document.createElement("div")).className="settingsMenuDiv",t.appendChild(n),window.settings.displayTips.createSelector("Display Tips: ",n),window.settings.singlePlayerDebuggingData.createSelector("Single Player Debugging Data: ",n),a="Debugging data is collected for all games. ",r="Debugging data is collected for multiplayer games only. ",o=document.createElement("p"),n.appendChild(o),i(),window.settings.singlePlayerDebuggingData.onValueSet=i,(s=document.createElement("button")).innerHTML="Delete Collected Data",s.className="deleteDataButton",s.addEventListener("click",(function(){new Popups.Notification("Data Storage Policy","All server logs are anonymous and deleted within 7 days, unless you specified a game to be pulled for debugging - if so, please email <a href='mailto:support@mahjong4friends.com'>support@mahjong4friends.com</a> if you wish for that game to be deleted. ").show()})),t.appendChild(s),popup=new Popups.Notification("General Settings",t),popup.show().style.width="100vw";case 23:case"end":return e.stop()}}),e)})))),e.exports=i},819:(e,t,n)=>{n(6992),n(1539),n(8783),n(3948),n(285),n(1637);try{if(window.Capacitor){function a(e){console.log("Current URL: "+window.location.href);var t=new URL(e);t.hash===window.location.hash&&t.pathname===window.location.pathname?console.log("Same URLs. Skipping"):t.pathname===window.location.pathname?(console.log("Same pathname. Setting and reloading. "),window.location.hash=t.hash,window.location.reload()):(console.log("Different pathname. Setting"),window.location.hash=t.hash,window.location.pathname=t.pathname)}Capacitor.Plugins.App.addListener("appUrlOpen",(function(e){console.log("App opened with URL: "+e.url),a(e.url)})),Capacitor.Plugins.App.getLaunchUrl().then((function(e){console.log("Document Referrer: ",document.referrer),console.log("Launch url: ",e.url),e&&e.url&&""===document.referrer&&a(e.url)}))}}catch(e){console.error(e)}},8643:(e,t,n)=>{function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(1539),n(4747),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309),n(4916),e.exports={updateTilesInContainer:function(e,t){for(var n=a(e.querySelectorAll("img"));n.length>t.length;)n.pop().remove();t.forEach((function(t,a){var r,o,i,s,u=t.createImageElem({gameStyle:null===(r=stateManager)||void 0===r||null===(o=r.lastState)||void 0===o||null===(i=o.message)||void 0===i||null===(s=i.settings)||void 0===s?void 0:s.gameStyle}),l=n[a];l?(l.src=u.src,l.title=u.title):e.appendChild(u)}))}}},9662:(e,t,n)=>{var a=n(7854),r=n(614),o=n(6330),i=a.TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a function")}},9483:(e,t,n)=>{var a=n(7854),r=n(4411),o=n(6330),i=a.TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a constructor")}},6077:(e,t,n)=>{var a=n(7854),r=n(614),o=a.String,i=a.TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},1223:(e,t,n)=>{var a=n(5112),r=n(30),o=n(3070),i=a("unscopables"),s=Array.prototype;null==s[i]&&o.f(s,i,{configurable:!0,value:r(null)}),e.exports=function(e){s[i][e]=!0}},1530:(e,t,n)=>{"use strict";var a=n(8710).charAt;e.exports=function(e,t,n){return t+(n?a(e,t).length:1)}},5787:(e,t,n)=>{var a=n(7854),r=n(7976),o=a.TypeError;e.exports=function(e,t){if(r(t,e))return e;throw o("Incorrect invocation")}},9670:(e,t,n)=>{var a=n(7854),r=n(111),o=a.String,i=a.TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not an object")}},1285:(e,t,n)=>{"use strict";var a=n(7908),r=n(1400),o=n(6244);e.exports=function(e){for(var t=a(this),n=o(t),i=arguments.length,s=r(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,l=void 0===u?n:r(u,n);l>s;)t[s++]=e;return t}},8533:(e,t,n)=>{"use strict";var a=n(2092).forEach,r=n(9341)("forEach");e.exports=r?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},8457:(e,t,n)=>{"use strict";var a=n(7854),r=n(9974),o=n(6916),i=n(7908),s=n(3411),u=n(7659),l=n(4411),c=n(6244),h=n(6135),p=n(8554),d=n(1246),v=a.Array;e.exports=function(e){var t=i(e),n=l(this),a=arguments.length,f=a>1?arguments[1]:void 0,m=void 0!==f;m&&(f=r(f,a>2?arguments[2]:void 0));var y,g,w,b,E,S,T=d(t),x=0;if(!T||this==v&&u(T))for(y=c(t),g=n?new this(y):v(y);y>x;x++)S=m?f(t[x],x):t[x],h(g,x,S);else for(E=(b=p(t,T)).next,g=n?new this:[];!(w=o(E,b)).done;x++)S=m?s(b,f,[w.value,x],!0):w.value,h(g,x,S);return g.length=x,g}},1318:(e,t,n)=>{var a=n(5656),r=n(1400),o=n(6244),i=function(e){return function(t,n,i){var s,u=a(t),l=o(u),c=r(i,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},2092:(e,t,n)=>{var a=n(9974),r=n(1702),o=n(8361),i=n(7908),s=n(6244),u=n(5417),l=r([].push),c=function(e){var t=1==e,n=2==e,r=3==e,c=4==e,h=6==e,p=7==e,d=5==e||h;return function(v,f,m,y){for(var g,w,b=i(v),E=o(b),S=a(f,m),T=s(E),x=0,k=y||u,C=t?k(v,T):n||p?k(v,0):void 0;T>x;x++)if((d||x in E)&&(w=S(g=E[x],x,b),e))if(t)C[x]=w;else if(w)switch(e){case 3:return!0;case 5:return g;case 6:return x;case 2:l(C,g)}else switch(e){case 4:return!1;case 7:l(C,g)}return h?-1:r||c?c:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},1194:(e,t,n)=>{var a=n(7293),r=n(5112),o=n(7392),i=r("species");e.exports=function(e){return o>=51||!a((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,n)=>{"use strict";var a=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&a((function(){n.call(null,t||function(){throw 1},1)}))}},3671:(e,t,n)=>{var a=n(7854),r=n(9662),o=n(7908),i=n(8361),s=n(6244),u=a.TypeError,l=function(e){return function(t,n,a,l){r(n);var c=o(t),h=i(c),p=s(c),d=e?p-1:0,v=e?-1:1;if(a<2)for(;;){if(d in h){l=h[d],d+=v;break}if(d+=v,e?d<0:p<=d)throw u("Reduce of empty array with no initial value")}for(;e?d>=0:p>d;d+=v)d in h&&(l=n(l,h[d],d,c));return l}};e.exports={left:l(!1),right:l(!0)}},206:(e,t,n)=>{var a=n(1702);e.exports=a([].slice)},4362:(e,t,n)=>{var a=n(206),r=Math.floor,o=function(e,t){var n=e.length,u=r(n/2);return n<8?i(e,t):s(e,o(a(e,0,u),t),o(a(e,u),t),t)},i=function(e,t){for(var n,a,r=e.length,o=1;o<r;){for(a=o,n=e[o];a&&t(e[a-1],n)>0;)e[a]=e[--a];a!==o++&&(e[a]=n)}return e},s=function(e,t,n,a){for(var r=t.length,o=n.length,i=0,s=0;i<r||s<o;)e[i+s]=i<r&&s<o?a(t[i],n[s])<=0?t[i++]:n[s++]:i<r?t[i++]:n[s++];return e};e.exports=o},7475:(e,t,n)=>{var a=n(7854),r=n(3157),o=n(4411),i=n(111),s=n(5112)("species"),u=a.Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(o(t)&&(t===u||r(t.prototype))||i(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?u:t}},5417:(e,t,n)=>{var a=n(7475);e.exports=function(e,t){return new(a(e))(0===t?0:t)}},3411:(e,t,n)=>{var a=n(9670),r=n(9212);e.exports=function(e,t,n,o){try{return o?t(a(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},7072:(e,t,n)=>{var a=n(5112)("iterator"),r=!1;try{var o=0,i={next:function(){return{done:!!o++}},return:function(){r=!0}};i[a]=function(){return this},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o={};o[a]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},4326:(e,t,n)=>{var a=n(1702),r=a({}.toString),o=a("".slice);e.exports=function(e){return o(r(e),8,-1)}},648:(e,t,n)=>{var a=n(7854),r=n(1694),o=n(614),i=n(4326),s=n(5112)("toStringTag"),u=a.Object,l="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=u(e),s))?n:l?i(t):"Object"==(a=i(t))&&o(t.callee)?"Arguments":a}},9920:(e,t,n)=>{var a=n(2597),r=n(3887),o=n(1236),i=n(3070);e.exports=function(e,t){for(var n=r(t),s=i.f,u=o.f,l=0;l<n.length;l++){var c=n[l];a(e,c)||s(e,c,u(t,c))}}},4964:(e,t,n)=>{var a=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:(e,t,n)=>{var a=n(7293);e.exports=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,n)=>{"use strict";var a=n(3383).IteratorPrototype,r=n(30),o=n(9114),i=n(8003),s=n(7497),u=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=r(a,{next:o(1,n)}),i(e,l,!1,!0),s[l]=u,e}},8880:(e,t,n)=>{var a=n(9781),r=n(3070),o=n(9114);e.exports=a?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var a=n(4948),r=n(3070),o=n(9114);e.exports=function(e,t,n){var i=a(t);i in e?r.f(e,i,o(0,n)):e[i]=n}},654:(e,t,n)=>{"use strict";var a=n(2109),r=n(6916),o=n(1913),i=n(6530),s=n(614),u=n(4994),l=n(9518),c=n(7674),h=n(8003),p=n(8880),d=n(1320),v=n(5112),f=n(7497),m=n(3383),y=i.PROPER,g=i.CONFIGURABLE,w=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,E=v("iterator"),S="keys",T="values",x="entries",k=function(){return this};e.exports=function(e,t,n,i,v,m,C){u(n,t,i);var M,O,A,I=function(e){if(e===v&&L)return L;if(!b&&e in j)return j[e];switch(e){case S:case T:case x:return function(){return new n(this,e)}}return function(){return new n(this)}},P=t+" Iterator",D=!1,j=e.prototype,R=j[E]||j["@@iterator"]||v&&j[v],L=!b&&R||I(v),N="Array"==t&&j.entries||R;if(N&&(M=l(N.call(new e)))!==Object.prototype&&M.next&&(o||l(M)===w||(c?c(M,w):s(M[E])||d(M,E,k)),h(M,P,!0,!0),o&&(f[P]=k)),y&&v==T&&R&&R.name!==T&&(!o&&g?p(j,"name",T):(D=!0,L=function(){return r(R,this)})),v)if(O={values:I(T),keys:m?L:I(S),entries:I(x)},C)for(A in O)(b||D||!(A in j))&&d(j,A,O[A]);else a({target:t,proto:!0,forced:b||D},O);return o&&!C||j[E]===L||d(j,E,L,{name:v}),f[t]=L,O}},7235:(e,t,n)=>{var a=n(857),r=n(2597),o=n(6061),i=n(3070).f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});r(t,e)||i(t,e,{value:o.f(e)})}},9781:(e,t,n)=>{var a=n(7293);e.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var a=n(7854),r=n(111),o=a.document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,n)=>{var a=n(317)("span").classList,r=a&&a.constructor&&a.constructor.prototype;e.exports=r===Object.prototype?void 0:r},8886:(e,t,n)=>{var a=n(8113).match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},7871:e=>{e.exports="object"==typeof window},256:(e,t,n)=>{var a=n(8113);e.exports=/MSIE|Trident/.test(a)},1528:(e,t,n)=>{var a=n(8113),r=n(7854);e.exports=/ipad|iphone|ipod/i.test(a)&&void 0!==r.Pebble},6833:(e,t,n)=>{var a=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},5268:(e,t,n)=>{var a=n(4326),r=n(7854);e.exports="process"==a(r.process)},1036:(e,t,n)=>{var a=n(8113);e.exports=/web0s(?!.*chrome)/i.test(a)},8113:(e,t,n)=>{var a=n(5005);e.exports=a("navigator","userAgent")||""},7392:(e,t,n)=>{var a,r,o=n(7854),i=n(8113),s=o.process,u=o.Deno,l=s&&s.versions||u&&u.version,c=l&&l.v8;c&&(r=(a=c.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!r&&i&&(!(a=i.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=i.match(/Chrome\/(\d+)/))&&(r=+a[1]),e.exports=r},8008:(e,t,n)=>{var a=n(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var a=n(7854),r=n(1236).f,o=n(8880),i=n(1320),s=n(3505),u=n(9920),l=n(4705);e.exports=function(e,t){var n,c,h,p,d,v=e.target,f=e.global,m=e.stat;if(n=f?a:m?a[v]||s(v,{}):(a[v]||{}).prototype)for(c in t){if(p=t[c],h=e.noTargetGet?(d=r(n,c))&&d.value:n[c],!l(f?c:v+(m?".":"#")+c,e.forced)&&void 0!==h){if(typeof p==typeof h)continue;u(p,h)}(e.sham||h&&h.sham)&&o(p,"sham",!0),i(n,c,p,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,n)=>{"use strict";n(4916);var a=n(1702),r=n(1320),o=n(2261),i=n(7293),s=n(5112),u=n(8880),l=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,h){var p=s(e),d=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),v=d&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!d||!v||n){var f=a(/./[p]),m=t(p,""[e],(function(e,t,n,r,i){var s=a(e),u=t.exec;return u===o||u===c.exec?d&&!i?{done:!0,value:f(t,n,r)}:{done:!0,value:s(n,t,r)}:{done:!1}}));r(String.prototype,e,m[0]),r(c,p,m[1])}h&&u(c[p],"sham",!0)}},6790:(e,t,n)=>{"use strict";var a=n(7854),r=n(3157),o=n(6244),i=n(9974),s=a.TypeError,u=function(e,t,n,a,l,c,h,p){for(var d,v,f=l,m=0,y=!!h&&i(h,p);m<a;){if(m in n){if(d=y?y(n[m],m,t):n[m],c>0&&r(d))v=o(d),f=u(e,t,d,v,f,c-1)-1;else{if(f>=9007199254740991)throw s("Exceed the acceptable array length");e[f]=d}f++}m++}return f};e.exports=u},2104:e=>{var t=Function.prototype,n=t.apply,a=t.bind,r=t.call;e.exports="object"==typeof Reflect&&Reflect.apply||(a?r.bind(n):function(){return r.apply(n,arguments)})},9974:(e,t,n)=>{var a=n(1702),r=n(9662),o=a(a.bind);e.exports=function(e,t){return r(e),void 0===t?e:o?o(e,t):function(){return e.apply(t,arguments)}}},7065:(e,t,n)=>{"use strict";var a=n(7854),r=n(1702),o=n(9662),i=n(111),s=n(2597),u=n(206),l=a.Function,c=r([].concat),h=r([].join),p={},d=function(e,t,n){if(!s(p,t)){for(var a=[],r=0;r<t;r++)a[r]="a["+r+"]";p[t]=l("C,a","return new C("+h(a,",")+")")}return p[t](e,n)};e.exports=l.bind||function(e){var t=o(this),n=t.prototype,a=u(arguments,1),r=function(){var n=c(a,u(arguments));return this instanceof r?d(t,n.length,n):t.apply(e,n)};return i(n)&&(r.prototype=n),r}},6916:e=>{var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},6530:(e,t,n)=>{var a=n(9781),r=n(2597),o=Function.prototype,i=a&&Object.getOwnPropertyDescriptor,s=r(o,"name"),u=s&&"something"===function(){}.name,l=s&&(!a||a&&i(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},1702:e=>{var t=Function.prototype,n=t.bind,a=t.call,r=n&&n.bind(a);e.exports=n?function(e){return e&&r(a,e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},5005:(e,t,n)=>{var a=n(7854),r=n(614),o=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(a[e]):a[e]&&a[e][t]}},1246:(e,t,n)=>{var a=n(648),r=n(8173),o=n(7497),i=n(5112)("iterator");e.exports=function(e){if(null!=e)return r(e,i)||r(e,"@@iterator")||o[a(e)]}},8554:(e,t,n)=>{var a=n(7854),r=n(6916),o=n(9662),i=n(9670),s=n(6330),u=n(1246),l=a.TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(o(n))return i(r(n,e));throw l(s(e)+" is not iterable")}},8173:(e,t,n)=>{var a=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:a(n)}},647:(e,t,n)=>{var a=n(1702),r=n(7908),o=Math.floor,i=a("".charAt),s=a("".replace),u=a("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,a,h,p){var d=n+e.length,v=a.length,f=c;return void 0!==h&&(h=r(h),f=l),s(p,f,(function(r,s){var l;switch(i(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,d);case"<":l=h[u(s,1,-1)];break;default:var c=+s;if(0===c)return r;if(c>v){var p=o(c/10);return 0===p?r:p<=v?void 0===a[p-1]?i(s,1):a[p-1]+i(s,1):r}l=a[c-1]}return void 0===l?"":l}))}},7854:(e,t,n)=>{var a=function(e){return e&&e.Math==Math&&e};e.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(e,t,n)=>{var a=n(1702),r=n(7908),o=a({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var a=n(7854);e.exports=function(e,t){var n=a.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var a=n(5005);e.exports=a("document","documentElement")},4664:(e,t,n)=>{var a=n(9781),r=n(7293),o=n(317);e.exports=!a&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var a=n(7854),r=n(1702),o=n(7293),i=n(4326),s=a.Object,u=r("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?u(e,""):s(e)}:s},9587:(e,t,n)=>{var a=n(614),r=n(111),o=n(7674);e.exports=function(e,t,n){var i,s;return o&&a(i=t.constructor)&&i!==n&&r(s=i.prototype)&&s!==n.prototype&&o(e,s),e}},2788:(e,t,n)=>{var a=n(1702),r=n(614),o=n(5465),i=a(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return i(e)}),e.exports=o.inspectSource},9909:(e,t,n)=>{var a,r,o,i=n(8536),s=n(7854),u=n(1702),l=n(111),c=n(8880),h=n(2597),p=n(5465),d=n(6200),v=n(3501),f="Object already initialized",m=s.TypeError,y=s.WeakMap;if(i||p.state){var g=p.state||(p.state=new y),w=u(g.get),b=u(g.has),E=u(g.set);a=function(e,t){if(b(g,e))throw new m(f);return t.facade=e,E(g,e,t),t},r=function(e){return w(g,e)||{}},o=function(e){return b(g,e)}}else{var S=d("state");v[S]=!0,a=function(e,t){if(h(e,S))throw new m(f);return t.facade=e,c(e,S,t),t},r=function(e){return h(e,S)?e[S]:{}},o=function(e){return h(e,S)}}e.exports={set:a,get:r,has:o,enforce:function(e){return o(e)?r(e):a(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var a=n(5112),r=n(7497),o=a("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},3157:(e,t,n)=>{var a=n(4326);e.exports=Array.isArray||function(e){return"Array"==a(e)}},614:e=>{e.exports=function(e){return"function"==typeof e}},4411:(e,t,n)=>{var a=n(1702),r=n(7293),o=n(614),i=n(648),s=n(5005),u=n(2788),l=function(){},c=[],h=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=a(p.exec),v=!p.exec(l),f=function(e){if(!o(e))return!1;try{return h(l,c,e),!0}catch(e){return!1}};e.exports=!h||r((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?function(e){if(!o(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return v||!!d(p,u(e))}:f},5032:(e,t,n)=>{var a=n(2597);e.exports=function(e){return void 0!==e&&(a(e,"value")||a(e,"writable"))}},4705:(e,t,n)=>{var a=n(7293),r=n(614),o=/#|\.prototype\./,i=function(e,t){var n=u[s(e)];return n==c||n!=l&&(r(t)?a(t):!!t)},s=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=i.data={},l=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},111:(e,t,n)=>{var a=n(614);e.exports=function(e){return"object"==typeof e?null!==e:a(e)}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var a=n(111),r=n(4326),o=n(5112)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},2190:(e,t,n)=>{var a=n(7854),r=n(5005),o=n(614),i=n(7976),s=n(3307),u=a.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,u(e))}},408:(e,t,n)=>{var a=n(7854),r=n(9974),o=n(6916),i=n(9670),s=n(6330),u=n(7659),l=n(6244),c=n(7976),h=n(8554),p=n(1246),d=n(9212),v=a.TypeError,f=function(e,t){this.stopped=e,this.result=t},m=f.prototype;e.exports=function(e,t,n){var a,y,g,w,b,E,S,T=n&&n.that,x=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),M=r(t,T),O=function(e){return a&&d(a,"normal",e),new f(!0,e)},A=function(e){return x?(i(e),C?M(e[0],e[1],O):M(e[0],e[1])):C?M(e,O):M(e)};if(k)a=e;else{if(!(y=p(e)))throw v(s(e)+" is not iterable");if(u(y)){for(g=0,w=l(e);w>g;g++)if((b=A(e[g]))&&c(m,b))return b;return new f(!1)}a=h(e,y)}for(E=a.next;!(S=o(E,a)).done;){try{b=A(S.value)}catch(e){d(a,"throw",e)}if("object"==typeof b&&b&&c(m,b))return b}return new f(!1)}},9212:(e,t,n)=>{var a=n(6916),r=n(9670),o=n(8173);e.exports=function(e,t,n){var i,s;r(e);try{if(!(i=o(e,"return"))){if("throw"===t)throw n;return n}i=a(i,e)}catch(e){s=!0,i=e}if("throw"===t)throw n;if(s)throw i;return r(i),n}},3383:(e,t,n)=>{"use strict";var a,r,o,i=n(7293),s=n(614),u=n(30),l=n(9518),c=n(1320),h=n(5112),p=n(1913),d=h("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(r=l(l(o)))!==Object.prototype&&(a=r):v=!0),null==a||i((function(){var e={};return a[d].call(e)!==e}))?a={}:p&&(a=u(a)),s(a[d])||c(a,d,(function(){return this})),e.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:v}},7497:e=>{e.exports={}},6244:(e,t,n)=>{var a=n(7466);e.exports=function(e){return a(e.length)}},5948:(e,t,n)=>{var a,r,o,i,s,u,l,c,h=n(7854),p=n(9974),d=n(1236).f,v=n(261).set,f=n(6833),m=n(1528),y=n(1036),g=n(5268),w=h.MutationObserver||h.WebKitMutationObserver,b=h.document,E=h.process,S=h.Promise,T=d(h,"queueMicrotask"),x=T&&T.value;x||(a=function(){var e,t;for(g&&(e=E.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?i():o=void 0,e}}o=void 0,e&&e.enter()},f||g||y||!w||!b?!m&&S&&S.resolve?((l=S.resolve(void 0)).constructor=S,c=p(l.then,l),i=function(){c(a)}):g?i=function(){E.nextTick(a)}:(v=p(v,h),i=function(){v(a)}):(s=!0,u=b.createTextNode(""),new w(a).observe(u,{characterData:!0}),i=function(){u.data=s=!s})),e.exports=x||function(e){var t={fn:e,next:void 0};o&&(o.next=t),r||(r=t,i()),o=t}},3366:(e,t,n)=>{var a=n(7854);e.exports=a.Promise},133:(e,t,n)=>{var a=n(7392),r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},590:(e,t,n)=>{var a=n(7293),r=n(5112),o=n(1913),i=r("iterator");e.exports=!a((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,a){t.delete("b"),n+=a+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:(e,t,n)=>{var a=n(7854),r=n(614),o=n(2788),i=a.WeakMap;e.exports=r(i)&&/native code/.test(o(i))},8523:(e,t,n)=>{"use strict";var a=n(9662),r=function(e){var t,n;this.promise=new e((function(e,a){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=a})),this.resolve=a(t),this.reject=a(n)};e.exports.f=function(e){return new r(e)}},3929:(e,t,n)=>{var a=n(7854),r=n(7850),o=a.TypeError;e.exports=function(e){if(r(e))throw o("The method doesn't accept regular expressions");return e}},1574:(e,t,n)=>{"use strict";var a=n(9781),r=n(1702),o=n(6916),i=n(7293),s=n(1956),u=n(5181),l=n(5296),c=n(7908),h=n(8361),p=Object.assign,d=Object.defineProperty,v=r([].concat);e.exports=!p||i((function(){if(a&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=p({},e)[n]||s(p({},t)).join("")!=r}))?function(e,t){for(var n=c(e),r=arguments.length,i=1,p=u.f,d=l.f;r>i;)for(var f,m=h(arguments[i++]),y=p?v(s(m),p(m)):s(m),g=y.length,w=0;g>w;)f=y[w++],a&&!o(d,m,f)||(n[f]=m[f]);return n}:p},30:(e,t,n)=>{var a,r=n(9670),o=n(6048),i=n(748),s=n(3501),u=n(490),l=n(317),c=n(6200),h=c("IE_PROTO"),p=function(){},d=function(e){return"<script>"+e+"</"+"script>"},v=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{a=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&a?v(a):((t=l("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):v(a);for(var n=i.length;n--;)delete f.prototype[i[n]];return f()};s[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=r(e),n=new p,p.prototype=null,n[h]=e):n=f(),void 0===t?n:o(n,t)}},6048:(e,t,n)=>{var a=n(9781),r=n(3070),o=n(9670),i=n(5656),s=n(1956);e.exports=a?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=s(t),l=u.length,c=0;l>c;)r.f(e,n=u[c++],a[n]);return e}},3070:(e,t,n)=>{var a=n(7854),r=n(9781),o=n(4664),i=n(9670),s=n(4948),u=a.TypeError,l=Object.defineProperty;t.f=r?l:function(e,t,n){if(i(e),t=s(t),i(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var a=n(9781),r=n(6916),o=n(5296),i=n(9114),s=n(5656),u=n(4948),l=n(2597),c=n(4664),h=Object.getOwnPropertyDescriptor;t.f=a?h:function(e,t){if(e=s(e),t=u(t),c)try{return h(e,t)}catch(e){}if(l(e,t))return i(!r(o.f,e,t),e[t])}},1156:(e,t,n)=>{var a=n(4326),r=n(5656),o=n(8006).f,i=n(206),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==a(e)?function(e){try{return o(e)}catch(e){return i(s)}}(e):o(r(e))}},8006:(e,t,n)=>{var a=n(6324),r=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,r)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var a=n(7854),r=n(2597),o=n(614),i=n(7908),s=n(6200),u=n(8544),l=s("IE_PROTO"),c=a.Object,h=c.prototype;e.exports=u?c.getPrototypeOf:function(e){var t=i(e);if(r(t,l))return t[l];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof c?h:null}},7976:(e,t,n)=>{var a=n(1702);e.exports=a({}.isPrototypeOf)},6324:(e,t,n)=>{var a=n(1702),r=n(2597),o=n(5656),i=n(1318).indexOf,s=n(3501),u=a([].push);e.exports=function(e,t){var n,a=o(e),l=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&u(c,n);for(;t.length>l;)r(a,n=t[l++])&&(~i(c,n)||u(c,n));return c}},1956:(e,t,n)=>{var a=n(6324),r=n(748);e.exports=Object.keys||function(e){return a(e,r)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,r=a&&!n.call({1:2},1);t.f=r?function(e){var t=a(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var a=n(1702),r=n(9670),o=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),o(a),t?e(n,a):n.__proto__=a,n}}():void 0)},288:(e,t,n)=>{"use strict";var a=n(1694),r=n(648);e.exports=a?{}.toString:function(){return"[object "+r(this)+"]"}},2140:(e,t,n)=>{var a=n(7854),r=n(6916),o=n(614),i=n(111),s=a.TypeError;e.exports=function(e,t){var n,a;if("string"===t&&o(n=e.toString)&&!i(a=r(n,e)))return a;if(o(n=e.valueOf)&&!i(a=r(n,e)))return a;if("string"!==t&&o(n=e.toString)&&!i(a=r(n,e)))return a;throw s("Can't convert object to primitive value")}},3887:(e,t,n)=>{var a=n(5005),r=n(1702),o=n(8006),i=n(5181),s=n(9670),u=r([].concat);e.exports=a("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=i.f;return n?u(t,n(e)):t}},857:(e,t,n)=>{var a=n(7854);e.exports=a},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:(e,t,n)=>{var a=n(9670),r=n(111),o=n(8523);e.exports=function(e,t){if(a(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},2248:(e,t,n)=>{var a=n(1320);e.exports=function(e,t,n){for(var r in t)a(e,r,t[r],n);return e}},1320:(e,t,n)=>{var a=n(7854),r=n(614),o=n(2597),i=n(8880),s=n(3505),u=n(2788),l=n(9909),c=n(6530).CONFIGURABLE,h=l.get,p=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,u){var l,h=!!u&&!!u.unsafe,v=!!u&&!!u.enumerable,f=!!u&&!!u.noTargetGet,m=u&&void 0!==u.name?u.name:t;r(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||c&&n.name!==m)&&i(n,"name",m),(l=p(n)).source||(l.source=d.join("string"==typeof m?m:""))),e!==a?(h?!f&&e[t]&&(v=!0):delete e[t],v?e[t]=n:i(e,t,n)):v?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return r(this)&&h(this).source||u(this)}))},7651:(e,t,n)=>{var a=n(7854),r=n(6916),o=n(9670),i=n(614),s=n(4326),u=n(2261),l=a.TypeError;e.exports=function(e,t){var n=e.exec;if(i(n)){var a=r(n,e,t);return null!==a&&o(a),a}if("RegExp"===s(e))return r(u,e,t);throw l("RegExp#exec called on incompatible receiver")}},2261:(e,t,n)=>{"use strict";var a,r,o=n(6916),i=n(1702),s=n(1340),u=n(7066),l=n(2999),c=n(2309),h=n(30),p=n(9909).get,d=n(9441),v=n(7168),f=c("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,g=i("".charAt),w=i("".indexOf),b=i("".replace),E=i("".slice),S=(r=/b*/g,o(m,a=/a/,"a"),o(m,r,"a"),0!==a.lastIndex||0!==r.lastIndex),T=l.UNSUPPORTED_Y||l.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(S||x||T||d||v)&&(y=function(e){var t,n,a,r,i,l,c,d=this,v=p(d),k=s(e),C=v.raw;if(C)return C.lastIndex=d.lastIndex,t=o(y,C,k),d.lastIndex=C.lastIndex,t;var M=v.groups,O=T&&d.sticky,A=o(u,d),I=d.source,P=0,D=k;if(O&&(A=b(A,"y",""),-1===w(A,"g")&&(A+="g"),D=E(k,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==g(k,d.lastIndex-1))&&(I="(?: "+I+")",D=" "+D,P++),n=new RegExp("^(?:"+I+")",A)),x&&(n=new RegExp("^"+I+"$(?!\\s)",A)),S&&(a=d.lastIndex),r=o(m,O?n:d,D),O?r?(r.input=E(r.input,P),r[0]=E(r[0],P),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:S&&r&&(d.lastIndex=d.global?r.index+r[0].length:a),x&&r&&r.length>1&&o(f,r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r&&M)for(r.groups=l=h(null),i=0;i<M.length;i++)l[(c=M[i])[0]]=r[c[1]];return r}),e.exports=y},7066:(e,t,n)=>{"use strict";var a=n(9670);e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:(e,t,n)=>{var a=n(7293),r=n(7854).RegExp;t.UNSUPPORTED_Y=a((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},9441:(e,t,n)=>{var a=n(7293),r=n(7854).RegExp;e.exports=a((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,n)=>{var a=n(7293),r=n(7854).RegExp;e.exports=a((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:(e,t,n)=>{var a=n(7854).TypeError;e.exports=function(e){if(null==e)throw a("Can't call method on "+e);return e}},1150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},3505:(e,t,n)=>{var a=n(7854),r=Object.defineProperty;e.exports=function(e,t){try{r(a,e,{value:t,configurable:!0,writable:!0})}catch(n){a[e]=t}return t}},6340:(e,t,n)=>{"use strict";var a=n(5005),r=n(3070),o=n(5112),i=n(9781),s=o("species");e.exports=function(e){var t=a(e),n=r.f;i&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var a=n(3070).f,r=n(2597),o=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&a(e,o,{configurable:!0,value:t})}},6200:(e,t,n)=>{var a=n(2309),r=n(9711),o=a("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},5465:(e,t,n)=>{var a=n(7854),r=n(3505),o="__core-js_shared__",i=a[o]||r(o,{});e.exports=i},2309:(e,t,n)=>{var a=n(1913),r=n(5465);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.1",mode:a?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:(e,t,n)=>{var a=n(9670),r=n(9483),o=n(5112)("species");e.exports=function(e,t){var n,i=a(e).constructor;return void 0===i||null==(n=a(i)[o])?t:r(n)}},8710:(e,t,n)=>{var a=n(1702),r=n(9303),o=n(1340),i=n(4488),s=a("".charAt),u=a("".charCodeAt),l=a("".slice),c=function(e){return function(t,n){var a,c,h=o(i(t)),p=r(n),d=h.length;return p<0||p>=d?e?"":void 0:(a=u(h,p))<55296||a>56319||p+1===d||(c=u(h,p+1))<56320||c>57343?e?s(h,p):a:e?l(h,p,p+2):c-56320+(a-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},3197:(e,t,n)=>{"use strict";var a=n(7854),r=n(1702),o=2147483647,i=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",l=a.RangeError,c=r(s.exec),h=Math.floor,p=String.fromCharCode,d=r("".charCodeAt),v=r([].join),f=r([].push),m=r("".replace),y=r("".split),g=r("".toLowerCase),w=function(e){return e+22+75*(e<26)},b=function(e,t,n){var a=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;a+=36)e=h(e/35);return h(a+36*e/(e+38))},E=function(e){var t=[];e=function(e){for(var t=[],n=0,a=e.length;n<a;){var r=d(e,n++);if(r>=55296&&r<=56319&&n<a){var o=d(e,n++);56320==(64512&o)?f(t,((1023&r)<<10)+(1023&o)+65536):(f(t,r),n--)}else f(t,r)}return t}(e);var n,a,r=e.length,i=128,s=0,c=72;for(n=0;n<e.length;n++)(a=e[n])<128&&f(t,p(a));var m=t.length,y=m;for(m&&f(t,"-");y<r;){var g=o;for(n=0;n<e.length;n++)(a=e[n])>=i&&a<g&&(g=a);var E=y+1;if(g-i>h((o-s)/E))throw l(u);for(s+=(g-i)*E,i=g,n=0;n<e.length;n++){if((a=e[n])<i&&++s>o)throw l(u);if(a==i){for(var S=s,T=36;;T+=36){var x=T<=c?1:T>=c+26?26:T-c;if(S<x)break;var k=S-x,C=36-x;f(t,p(w(x+k%C))),S=h(k/C)}f(t,p(w(S))),c=b(s,E,y==m),s=0,++y}}++s,++i}return v(t,"")};e.exports=function(e){var t,n,a=[],r=y(m(g(e),s,"."),".");for(t=0;t<r.length;t++)n=r[t],f(a,c(i,n)?"xn--"+E(n):n);return v(a,".")}},8415:(e,t,n)=>{"use strict";var a=n(7854),r=n(9303),o=n(1340),i=n(4488),s=a.RangeError;e.exports=function(e){var t=o(i(this)),n="",a=r(e);if(a<0||a==1/0)throw s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},6091:(e,t,n)=>{var a=n(6530).PROPER,r=n(7293),o=n(1361);e.exports=function(e){return r((function(){return!!o[e]()||""!==""[e]()||a&&o[e].name!==e}))}},3111:(e,t,n)=>{var a=n(1702),r=n(4488),o=n(1340),i=n(1361),s=a("".replace),u="["+i+"]",l=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),h=function(e){return function(t){var n=o(r(t));return 1&e&&(n=s(n,l,"")),2&e&&(n=s(n,c,"")),n}};e.exports={start:h(1),end:h(2),trim:h(3)}},261:(e,t,n)=>{var a,r,o,i,s=n(7854),u=n(2104),l=n(9974),c=n(614),h=n(2597),p=n(7293),d=n(490),v=n(206),f=n(317),m=n(6833),y=n(5268),g=s.setImmediate,w=s.clearImmediate,b=s.process,E=s.Dispatch,S=s.Function,T=s.MessageChannel,x=s.String,k=0,C={},M="onreadystatechange";try{a=s.location}catch(e){}var O=function(e){if(h(C,e)){var t=C[e];delete C[e],t()}},A=function(e){return function(){O(e)}},I=function(e){O(e.data)},P=function(e){s.postMessage(x(e),a.protocol+"//"+a.host)};g&&w||(g=function(e){var t=v(arguments,1);return C[++k]=function(){u(c(e)?e:S(e),void 0,t)},r(k),k},w=function(e){delete C[e]},y?r=function(e){b.nextTick(A(e))}:E&&E.now?r=function(e){E.now(A(e))}:T&&!m?(i=(o=new T).port2,o.port1.onmessage=I,r=l(i.postMessage,i)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&a&&"file:"!==a.protocol&&!p(P)?(r=P,s.addEventListener("message",I,!1)):r=M in f("script")?function(e){d.appendChild(f("script")).onreadystatechange=function(){d.removeChild(this),O(e)}}:function(e){setTimeout(A(e),0)}),e.exports={set:g,clear:w}},863:(e,t,n)=>{var a=n(1702);e.exports=a(1..valueOf)},1400:(e,t,n)=>{var a=n(9303),r=Math.max,o=Math.min;e.exports=function(e,t){var n=a(e);return n<0?r(n+t,0):o(n,t)}},5656:(e,t,n)=>{var a=n(8361),r=n(4488);e.exports=function(e){return a(r(e))}},9303:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var a=+e;return a!=a||0===a?0:(a>0?n:t)(a)}},7466:(e,t,n)=>{var a=n(9303),r=Math.min;e.exports=function(e){return e>0?r(a(e),9007199254740991):0}},7908:(e,t,n)=>{var a=n(7854),r=n(4488),o=a.Object;e.exports=function(e){return o(r(e))}},7593:(e,t,n)=>{var a=n(7854),r=n(6916),o=n(111),i=n(2190),s=n(8173),u=n(2140),l=n(5112),c=a.TypeError,h=l("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,a=s(e,h);if(a){if(void 0===t&&(t="default"),n=r(a,e,t),!o(n)||i(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},4948:(e,t,n)=>{var a=n(7593),r=n(2190);e.exports=function(e){var t=a(e,"string");return r(t)?t:t+""}},1694:(e,t,n)=>{var a={};a[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(a)},1340:(e,t,n)=>{var a=n(7854),r=n(648),o=a.String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},6330:(e,t,n)=>{var a=n(7854).String;e.exports=function(e){try{return a(e)}catch(e){return"Object"}}},9711:(e,t,n)=>{var a=n(1702),r=0,o=Math.random(),i=a(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++r+o,36)}},3307:(e,t,n)=>{var a=n(133);e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:(e,t,n)=>{var a=n(5112);t.f=a},5112:(e,t,n)=>{var a=n(7854),r=n(2309),o=n(2597),i=n(9711),s=n(133),u=n(3307),l=r("wks"),c=a.Symbol,h=c&&c.for,p=u?c:c&&c.withoutSetter||i;e.exports=function(e){if(!o(l,e)||!s&&"string"!=typeof l[e]){var t="Symbol."+e;s&&o(c,e)?l[e]=c[e]:l[e]=u&&h?h(t):p(t)}return l[e]}},1361:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},2222:(e,t,n)=>{"use strict";var a=n(2109),r=n(7854),o=n(7293),i=n(3157),s=n(111),u=n(7908),l=n(6244),c=n(6135),h=n(5417),p=n(1194),d=n(5112),v=n(7392),f=d("isConcatSpreadable"),m=9007199254740991,y="Maximum allowed index exceeded",g=r.TypeError,w=v>=51||!o((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),b=p("concat"),E=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:i(e)};a({target:"Array",proto:!0,forced:!w||!b},{concat:function(e){var t,n,a,r,o,i=u(this),s=h(i,0),p=0;for(t=-1,a=arguments.length;t<a;t++)if(E(o=-1===t?i:arguments[t])){if(p+(r=l(o))>m)throw g(y);for(n=0;n<r;n++,p++)n in o&&c(s,p,o[n])}else{if(p>=m)throw g(y);c(s,p++,o)}return s.length=p,s}})},3290:(e,t,n)=>{var a=n(2109),r=n(1285),o=n(1223);a({target:"Array",proto:!0},{fill:r}),o("fill")},7327:(e,t,n)=>{"use strict";var a=n(2109),r=n(2092).filter;a({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:(e,t,n)=>{"use strict";var a=n(2109),r=n(2092).findIndex,o=n(1223),i="findIndex",s=!0;i in[]&&Array(1).findIndex((function(){s=!1})),a({target:"Array",proto:!0,forced:s},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(i)},9826:(e,t,n)=>{"use strict";var a=n(2109),r=n(2092).find,o=n(1223),i="find",s=!0;i in[]&&Array(1).find((function(){s=!1})),a({target:"Array",proto:!0,forced:s},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(i)},6535:(e,t,n)=>{"use strict";var a=n(2109),r=n(6790),o=n(9662),i=n(7908),s=n(6244),u=n(5417);a({target:"Array",proto:!0},{flatMap:function(e){var t,n=i(this),a=s(n);return o(e),(t=u(n,0)).length=r(t,n,n,a,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},4944:(e,t,n)=>{"use strict";var a=n(2109),r=n(6790),o=n(7908),i=n(6244),s=n(9303),u=n(5417);a({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=i(t),a=u(t,0);return a.length=r(a,t,t,n,0,void 0===e?1:s(e)),a}})},1038:(e,t,n)=>{var a=n(2109),r=n(8457);a({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:r})},6699:(e,t,n)=>{"use strict";var a=n(2109),r=n(1318).includes,o=n(1223);a({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},2772:(e,t,n)=>{"use strict";var a=n(2109),r=n(1702),o=n(1318).indexOf,i=n(9341),s=r([].indexOf),u=!!s&&1/s([1],1,-0)<0,l=i("indexOf");a({target:"Array",proto:!0,forced:u||!l},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?s(this,e,t)||0:o(this,e,t)}})},6992:(e,t,n)=>{"use strict";var a=n(5656),r=n(1223),o=n(7497),i=n(9909),s=n(654),u="Array Iterator",l=i.set,c=i.getterFor(u);e.exports=s(Array,"Array",(function(e,t){l(this,{type:u,target:a(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,a=e.index++;return!t||a>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:a,done:!1}:"values"==n?{value:t[a],done:!1}:{value:[a,t[a]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},9600:(e,t,n)=>{"use strict";var a=n(2109),r=n(1702),o=n(8361),i=n(5656),s=n(9341),u=r([].join),l=o!=Object,c=s("join",",");a({target:"Array",proto:!0,forced:l||!c},{join:function(e){return u(i(this),void 0===e?",":e)}})},1249:(e,t,n)=>{"use strict";var a=n(2109),r=n(2092).map;a({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},5827:(e,t,n)=>{"use strict";var a=n(2109),r=n(3671).left,o=n(9341),i=n(7392),s=n(5268);a({target:"Array",proto:!0,forced:!o("reduce")||!s&&i>79&&i<83},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},7042:(e,t,n)=>{"use strict";var a=n(2109),r=n(7854),o=n(3157),i=n(4411),s=n(111),u=n(1400),l=n(6244),c=n(5656),h=n(6135),p=n(5112),d=n(1194),v=n(206),f=d("slice"),m=p("species"),y=r.Array,g=Math.max;a({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,a,r,p=c(this),d=l(p),f=u(e,d),w=u(void 0===t?d:t,d);if(o(p)&&(n=p.constructor,(i(n)&&(n===y||o(n.prototype))||s(n)&&null===(n=n[m]))&&(n=void 0),n===y||void 0===n))return v(p,f,w);for(a=new(void 0===n?y:n)(g(w-f,0)),r=0;f<w;f++,r++)f in p&&h(a,r,p[f]);return a.length=r,a}})},2707:(e,t,n)=>{"use strict";var a=n(2109),r=n(1702),o=n(9662),i=n(7908),s=n(6244),u=n(1340),l=n(7293),c=n(4362),h=n(9341),p=n(8886),d=n(256),v=n(7392),f=n(8008),m=[],y=r(m.sort),g=r(m.push),w=l((function(){m.sort(void 0)})),b=l((function(){m.sort(null)})),E=h("sort"),S=!l((function(){if(v)return v<70;if(!(p&&p>3)){if(d)return!0;if(f)return f<603;var e,t,n,a,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(a=0;a<47;a++)m.push({k:t+a,v:n})}for(m.sort((function(e,t){return t.v-e.v})),a=0;a<m.length;a++)t=m[a].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));a({target:"Array",proto:!0,forced:w||!b||!E||!S},{sort:function(e){void 0!==e&&o(e);var t=i(this);if(S)return void 0===e?y(t):y(t,e);var n,a,r=[],l=s(t);for(a=0;a<l;a++)a in t&&g(r,t[a]);for(c(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=r.length,a=0;a<n;)t[a]=r[a++];for(;a<l;)delete t[a++];return t}})},561:(e,t,n)=>{"use strict";var a=n(2109),r=n(7854),o=n(1400),i=n(9303),s=n(6244),u=n(7908),l=n(5417),c=n(6135),h=n(1194)("splice"),p=r.TypeError,d=Math.max,v=Math.min,f=9007199254740991,m="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,a,r,h,y,g,w=u(this),b=s(w),E=o(e,b),S=arguments.length;if(0===S?n=a=0:1===S?(n=0,a=b-E):(n=S-2,a=v(d(i(t),0),b-E)),b+n-a>f)throw p(m);for(r=l(w,a),h=0;h<a;h++)(y=E+h)in w&&c(r,h,w[y]);if(r.length=a,n<a){for(h=E;h<b-a;h++)g=h+n,(y=h+a)in w?w[g]=w[y]:delete w[g];for(h=b;h>b-a+n;h--)delete w[h-1]}else if(n>a)for(h=b-a;h>E;h--)g=h+n-1,(y=h+a-1)in w?w[g]=w[y]:delete w[g];for(h=0;h<n;h++)w[h+E]=arguments[h+2];return w.length=b-a+n,r}})},9244:(e,t,n)=>{n(1223)("flatMap")},3792:(e,t,n)=>{n(1223)("flat")},8309:(e,t,n)=>{var a=n(9781),r=n(6530).EXISTS,o=n(1702),i=n(3070).f,s=Function.prototype,u=o(s.toString),l=/^\s*function ([^ (]*)/,c=o(l.exec);a&&!r&&i(s,"name",{configurable:!0,get:function(){try{return c(l,u(this))[1]}catch(e){return""}}})},5837:(e,t,n)=>{n(2109)({global:!0},{globalThis:n(7854)})},9653:(e,t,n)=>{"use strict";var a=n(9781),r=n(7854),o=n(1702),i=n(4705),s=n(1320),u=n(2597),l=n(9587),c=n(7976),h=n(2190),p=n(7593),d=n(7293),v=n(8006).f,f=n(1236).f,m=n(3070).f,y=n(863),g=n(3111).trim,w="Number",b=r.Number,E=b.prototype,S=r.TypeError,T=o("".slice),x=o("".charCodeAt),k=function(e){var t=p(e,"number");return"bigint"==typeof t?t:C(t)},C=function(e){var t,n,a,r,o,i,s,u,l=p(e,"number");if(h(l))throw S("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=g(l),43===(t=x(l,0))||45===t){if(88===(n=x(l,2))||120===n)return NaN}else if(48===t){switch(x(l,1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+l}for(i=(o=T(l,2)).length,s=0;s<i;s++)if((u=x(o,s))<48||u>r)return NaN;return parseInt(o,a)}return+l};if(i(w,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var M,O=function(e){var t=arguments.length<1?0:b(k(e)),n=this;return c(E,n)&&d((function(){y(n)}))?l(Object(t),n,O):t},A=a?v(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),I=0;A.length>I;I++)u(b,M=A[I])&&!u(O,M)&&m(O,M,f(b,M));O.prototype=E,E.constructor=O,s(r,w,O)}},9601:(e,t,n)=>{var a=n(2109),r=n(1574);a({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},5003:(e,t,n)=>{var a=n(2109),r=n(7293),o=n(5656),i=n(1236).f,s=n(9781),u=r((function(){i(1)}));a({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return i(o(e),t)}})},489:(e,t,n)=>{var a=n(2109),r=n(7293),o=n(7908),i=n(9518),s=n(8544);a({target:"Object",stat:!0,forced:r((function(){i(1)})),sham:!s},{getPrototypeOf:function(e){return i(o(e))}})},7941:(e,t,n)=>{var a=n(2109),r=n(7908),o=n(1956);a({target:"Object",stat:!0,forced:n(7293)((function(){o(1)}))},{keys:function(e){return o(r(e))}})},1539:(e,t,n)=>{var a=n(1694),r=n(1320),o=n(288);a||r(Object.prototype,"toString",o,{unsafe:!0})},8674:(e,t,n)=>{"use strict";var a,r,o,i,s=n(2109),u=n(1913),l=n(7854),c=n(5005),h=n(6916),p=n(3366),d=n(1320),v=n(2248),f=n(7674),m=n(8003),y=n(6340),g=n(9662),w=n(614),b=n(111),E=n(5787),S=n(2788),T=n(408),x=n(7072),k=n(6707),C=n(261).set,M=n(5948),O=n(9478),A=n(842),I=n(8523),P=n(2534),D=n(9909),j=n(4705),R=n(5112),L=n(7871),N=n(5268),H=n(7392),_=R("species"),B="Promise",F=D.get,G=D.set,J=D.getterFor(B),U=p&&p.prototype,q=p,V=U,Y=l.TypeError,W=l.document,$=l.process,z=I.f,K=z,X=!!(W&&W.createEvent&&l.dispatchEvent),Q=w(l.PromiseRejectionEvent),Z="unhandledrejection",ee=!1,te=j(B,(function(){var e=S(q),t=e!==String(q);if(!t&&66===H)return!0;if(u&&!V.finally)return!0;if(H>=51&&/native code/.test(e))return!1;var n=new q((function(e){e(1)})),a=function(e){e((function(){}),(function(){}))};return(n.constructor={})[_]=a,!(ee=n.then((function(){}))instanceof a)||!t&&L&&!Q})),ne=te||!x((function(e){q.all(e).catch((function(){}))})),ae=function(e){var t;return!(!b(e)||!w(t=e.then))&&t},re=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;M((function(){for(var a=e.value,r=1==e.state,o=0;n.length>o;){var i,s,u,l=n[o++],c=r?l.ok:l.fail,p=l.resolve,d=l.reject,v=l.domain;try{c?(r||(2===e.rejection&&ue(e),e.rejection=1),!0===c?i=a:(v&&v.enter(),i=c(a),v&&(v.exit(),u=!0)),i===l.promise?d(Y("Promise-chain cycle")):(s=ae(i))?h(s,i,p,d):p(i)):d(a)}catch(e){v&&!u&&v.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},oe=function(e,t,n){var a,r;X?((a=W.createEvent("Event")).promise=t,a.reason=n,a.initEvent(e,!1,!0),l.dispatchEvent(a)):a={promise:t,reason:n},!Q&&(r=l["on"+e])?r(a):e===Z&&A("Unhandled promise rejection",n)},ie=function(e){h(C,l,(function(){var t,n=e.facade,a=e.value;if(se(e)&&(t=P((function(){N?$.emit("unhandledRejection",a,n):oe(Z,n,a)})),e.rejection=N||se(e)?2:1,t.error))throw t.value}))},se=function(e){return 1!==e.rejection&&!e.parent},ue=function(e){h(C,l,(function(){var t=e.facade;N?$.emit("rejectionHandled",t):oe("rejectionhandled",t,e.value)}))},le=function(e,t,n){return function(a){e(t,a,n)}},ce=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,re(e,!0))},he=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Y("Promise can't be resolved itself");var a=ae(t);a?M((function(){var n={done:!1};try{h(a,t,le(he,n,e),le(ce,n,e))}catch(t){ce(n,t,e)}})):(e.value=t,e.state=1,re(e,!1))}catch(t){ce({done:!1},t,e)}}};if(te&&(V=(q=function(e){E(this,V),g(e),h(a,this);var t=F(this);try{e(le(he,t),le(ce,t))}catch(e){ce(t,e)}}).prototype,(a=function(e){G(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=v(V,{then:function(e,t){var n=J(this),a=n.reactions,r=z(k(this,q));return r.ok=!w(e)||e,r.fail=w(t)&&t,r.domain=N?$.domain:void 0,n.parent=!0,a[a.length]=r,0!=n.state&&re(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new a,t=F(e);this.promise=e,this.resolve=le(he,t),this.reject=le(ce,t)},I.f=z=function(e){return e===q||e===o?new r(e):K(e)},!u&&w(p)&&U!==Object.prototype)){i=U.then,ee||(d(U,"then",(function(e,t){var n=this;return new q((function(e,t){h(i,n,e,t)})).then(e,t)}),{unsafe:!0}),d(U,"catch",V.catch,{unsafe:!0}));try{delete U.constructor}catch(e){}f&&f(U,V)}s({global:!0,wrap:!0,forced:te},{Promise:q}),m(q,B,!1,!0),y(B),o=c(B),s({target:B,stat:!0,forced:te},{reject:function(e){var t=z(this);return h(t.reject,void 0,e),t.promise}}),s({target:B,stat:!0,forced:u||te},{resolve:function(e){return O(u&&this===o?q:this,e)}}),s({target:B,stat:!0,forced:ne},{all:function(e){var t=this,n=z(t),a=n.resolve,r=n.reject,o=P((function(){var n=g(t.resolve),o=[],i=0,s=1;T(e,(function(e){var u=i++,l=!1;s++,h(n,t,e).then((function(e){l||(l=!0,o[u]=e,--s||a(o))}),r)})),--s||a(o)}));return o.error&&r(o.value),n.promise},race:function(e){var t=this,n=z(t),a=n.reject,r=P((function(){var r=g(t.resolve);T(e,(function(e){h(r,t,e).then(n.resolve,a)}))}));return r.error&&a(r.value),n.promise}})},2419:(e,t,n)=>{var a=n(2109),r=n(5005),o=n(2104),i=n(7065),s=n(9483),u=n(9670),l=n(111),c=n(30),h=n(7293),p=r("Reflect","construct"),d=Object.prototype,v=[].push,f=h((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),m=!h((function(){p((function(){}))})),y=f||m;a({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(m&&!f)return p(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return o(v,a,t),new(o(i,e,a))}var r=n.prototype,h=c(l(r)?r:d),y=o(e,h,t);return l(y)?y:h}})},4819:(e,t,n)=>{var a=n(2109),r=n(6916),o=n(111),i=n(9670),s=n(5032),u=n(1236),l=n(9518);a({target:"Reflect",stat:!0},{get:function e(t,n){var a,c,h=arguments.length<3?t:arguments[2];return i(t)===h?t[n]:(a=u.f(t,n))?s(a)?a.value:void 0===a.get?void 0:r(a.get,h):o(c=l(t))?e(c,n,h):void 0}})},4916:(e,t,n)=>{"use strict";var a=n(2109),r=n(2261);a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},9714:(e,t,n)=>{"use strict";var a=n(1702),r=n(6530).PROPER,o=n(1320),i=n(9670),s=n(7976),u=n(1340),l=n(7293),c=n(7066),h="toString",p=RegExp.prototype,d=p.toString,v=a(c),f=l((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),m=r&&d.name!=h;(f||m)&&o(RegExp.prototype,h,(function(){var e=i(this),t=u(e.source),n=e.flags;return"/"+t+"/"+u(void 0===n&&s(p,e)&&!("flags"in p)?v(e):n)}),{unsafe:!0})},2023:(e,t,n)=>{"use strict";var a=n(2109),r=n(1702),o=n(3929),i=n(4488),s=n(1340),u=n(4964),l=r("".indexOf);a({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~l(s(i(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},8783:(e,t,n)=>{"use strict";var a=n(8710).charAt,r=n(1340),o=n(9909),i=n(654),s="String Iterator",u=o.set,l=o.getterFor(s);i(String,"String",(function(e){u(this,{type:s,string:r(e),index:0})}),(function(){var e,t=l(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=a(n,r),t.index+=e.length,{value:e,done:!1})}))},4723:(e,t,n)=>{"use strict";var a=n(6916),r=n(7007),o=n(9670),i=n(7466),s=n(1340),u=n(4488),l=n(8173),c=n(1530),h=n(7651);r("match",(function(e,t,n){return[function(t){var n=u(this),r=null==t?void 0:l(t,e);return r?a(r,t,n):new RegExp(t)[e](s(n))},function(e){var a=o(this),r=s(e),u=n(t,a,r);if(u.done)return u.value;if(!a.global)return h(a,r);var l=a.unicode;a.lastIndex=0;for(var p,d=[],v=0;null!==(p=h(a,r));){var f=s(p[0]);d[v]=f,""===f&&(a.lastIndex=c(r,i(a.lastIndex),l)),v++}return 0===v?null:d}]}))},2481:(e,t,n)=>{n(2109)({target:"String",proto:!0},{repeat:n(8415)})},5306:(e,t,n)=>{"use strict";var a=n(2104),r=n(6916),o=n(1702),i=n(7007),s=n(7293),u=n(9670),l=n(614),c=n(9303),h=n(7466),p=n(1340),d=n(4488),v=n(1530),f=n(8173),m=n(647),y=n(7651),g=n(5112)("replace"),w=Math.max,b=Math.min,E=o([].concat),S=o([].push),T=o("".indexOf),x=o("".slice),k="$0"==="a".replace(/./,"$0"),C=!!/./[g]&&""===/./[g]("a","$0");i("replace",(function(e,t,n){var o=C?"$":"$0";return[function(e,n){var a=d(this),o=null==e?void 0:f(e,g);return o?r(o,e,a,n):r(t,p(a),e,n)},function(e,r){var i=u(this),s=p(e);if("string"==typeof r&&-1===T(r,o)&&-1===T(r,"$<")){var d=n(t,i,s,r);if(d.done)return d.value}var f=l(r);f||(r=p(r));var g=i.global;if(g){var k=i.unicode;i.lastIndex=0}for(var C=[];;){var M=y(i,s);if(null===M)break;if(S(C,M),!g)break;""===p(M[0])&&(i.lastIndex=v(s,h(i.lastIndex),k))}for(var O,A="",I=0,P=0;P<C.length;P++){for(var D=p((M=C[P])[0]),j=w(b(c(M.index),s.length),0),R=[],L=1;L<M.length;L++)S(R,void 0===(O=M[L])?O:String(O));var N=M.groups;if(f){var H=E([D],R,j,s);void 0!==N&&S(H,N);var _=p(a(r,void 0,H))}else _=m(D,s,j,R,N,r);j>=I&&(A+=x(s,I,j)+_,I=j+D.length)}return A+x(s,I)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!k||C)},4765:(e,t,n)=>{"use strict";var a=n(6916),r=n(7007),o=n(9670),i=n(4488),s=n(1150),u=n(1340),l=n(8173),c=n(7651);r("search",(function(e,t,n){return[function(t){var n=i(this),r=null==t?void 0:l(t,e);return r?a(r,t,n):new RegExp(t)[e](u(n))},function(e){var a=o(this),r=u(e),i=n(t,a,r);if(i.done)return i.value;var l=a.lastIndex;s(l,0)||(a.lastIndex=0);var h=c(a,r);return s(a.lastIndex,l)||(a.lastIndex=l),null===h?-1:h.index}]}))},3123:(e,t,n)=>{"use strict";var a=n(2104),r=n(6916),o=n(1702),i=n(7007),s=n(7850),u=n(9670),l=n(4488),c=n(6707),h=n(1530),p=n(7466),d=n(1340),v=n(8173),f=n(206),m=n(7651),y=n(2261),g=n(2999),w=n(7293),b=g.UNSUPPORTED_Y,E=4294967295,S=Math.min,T=[].push,x=o(/./.exec),k=o(T),C=o("".slice);i("split",(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=d(l(this)),i=void 0===n?E:n>>>0;if(0===i)return[];if(void 0===e)return[o];if(!s(e))return r(t,o,e,i);for(var u,c,h,p=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,g=new RegExp(e.source,v+"g");(u=r(y,g,o))&&!((c=g.lastIndex)>m&&(k(p,C(o,m,u.index)),u.length>1&&u.index<o.length&&a(T,p,f(u,1)),h=u[0].length,m=c,p.length>=i));)g.lastIndex===u.index&&g.lastIndex++;return m===o.length?!h&&x(g,"")||k(p,""):k(p,C(o,m)),p.length>i?f(p,0,i):p}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:r(t,this,e,n)}:t,[function(t,n){var a=l(this),i=null==t?void 0:v(t,e);return i?r(i,t,a,n):r(o,d(a),t,n)},function(e,a){var r=u(this),i=d(e),s=n(o,r,i,a,o!==t);if(s.done)return s.value;var l=c(r,RegExp),v=r.unicode,f=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(b?"g":"y"),y=new l(b?"^(?:"+r.source+")":r,f),g=void 0===a?E:a>>>0;if(0===g)return[];if(0===i.length)return null===m(y,i)?[i]:[];for(var w=0,T=0,x=[];T<i.length;){y.lastIndex=b?0:T;var M,O=m(y,b?C(i,T):i);if(null===O||(M=S(p(y.lastIndex+(b?T:0)),i.length))===w)T=h(i,T,v);else{if(k(x,C(i,w,T)),x.length===g)return x;for(var A=1;A<=O.length-1;A++)if(k(x,O[A]),x.length===g)return x;T=w=M}}return k(x,C(i,w)),x}]}),!!w((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),b)},6755:(e,t,n)=>{"use strict";var a,r=n(2109),o=n(1702),i=n(1236).f,s=n(7466),u=n(1340),l=n(3929),c=n(4488),h=n(4964),p=n(1913),d=o("".startsWith),v=o("".slice),f=Math.min,m=h("startsWith");r({target:"String",proto:!0,forced:!!(p||m||(a=i(String.prototype,"startsWith"),!a||a.writable))&&!m},{startsWith:function(e){var t=u(c(this));l(e);var n=s(f(arguments.length>1?arguments[1]:void 0,t.length)),a=u(e);return d?d(t,a,n):v(t,n,n+a.length)===a}})},3210:(e,t,n)=>{"use strict";var a=n(2109),r=n(3111).trim;a({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return r(this)}})},1817:(e,t,n)=>{"use strict";var a=n(2109),r=n(9781),o=n(7854),i=n(1702),s=n(2597),u=n(614),l=n(7976),c=n(1340),h=n(3070).f,p=n(9920),d=o.Symbol,v=d&&d.prototype;if(r&&u(d)&&(!("description"in v)||void 0!==d().description)){var f={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=l(v,this)?new d(e):void 0===e?d():d(e);return""===e&&(f[t]=!0),t};p(m,d),m.prototype=v,v.constructor=m;var y="Symbol(test)"==String(d("test")),g=i(v.toString),w=i(v.valueOf),b=/^Symbol\((.*)\)[^)]+$/,E=i("".replace),S=i("".slice);h(v,"description",{configurable:!0,get:function(){var e=w(this),t=g(e);if(s(f,e))return"";var n=y?S(t,7,-1):E(t,b,"$1");return""===n?void 0:n}}),a({global:!0,forced:!0},{Symbol:m})}},2165:(e,t,n)=>{n(7235)("iterator")},2526:(e,t,n)=>{"use strict";var a=n(2109),r=n(7854),o=n(5005),i=n(2104),s=n(6916),u=n(1702),l=n(1913),c=n(9781),h=n(133),p=n(7293),d=n(2597),v=n(3157),f=n(614),m=n(111),y=n(7976),g=n(2190),w=n(9670),b=n(7908),E=n(5656),S=n(4948),T=n(1340),x=n(9114),k=n(30),C=n(1956),M=n(8006),O=n(1156),A=n(5181),I=n(1236),P=n(3070),D=n(5296),j=n(206),R=n(1320),L=n(2309),N=n(6200),H=n(3501),_=n(9711),B=n(5112),F=n(6061),G=n(7235),J=n(8003),U=n(9909),q=n(2092).forEach,V=N("hidden"),Y="Symbol",W=B("toPrimitive"),$=U.set,z=U.getterFor(Y),K=Object.prototype,X=r.Symbol,Q=X&&X.prototype,Z=r.TypeError,ee=r.QObject,te=o("JSON","stringify"),ne=I.f,ae=P.f,re=O.f,oe=D.f,ie=u([].push),se=L("symbols"),ue=L("op-symbols"),le=L("string-to-symbol-registry"),ce=L("symbol-to-string-registry"),he=L("wks"),pe=!ee||!ee.prototype||!ee.prototype.findChild,de=c&&p((function(){return 7!=k(ae({},"a",{get:function(){return ae(this,"a",{value:7}).a}})).a}))?function(e,t,n){var a=ne(K,t);a&&delete K[t],ae(e,t,n),a&&e!==K&&ae(K,t,a)}:ae,ve=function(e,t){var n=se[e]=k(Q);return $(n,{type:Y,tag:e,description:t}),c||(n.description=t),n},fe=function(e,t,n){e===K&&fe(ue,t,n),w(e);var a=S(t);return w(n),d(se,a)?(n.enumerable?(d(e,V)&&e[V][a]&&(e[V][a]=!1),n=k(n,{enumerable:x(0,!1)})):(d(e,V)||ae(e,V,x(1,{})),e[V][a]=!0),de(e,a,n)):ae(e,a,n)},me=function(e,t){w(e);var n=E(t),a=C(n).concat(be(n));return q(a,(function(t){c&&!s(ye,n,t)||fe(e,t,n[t])})),e},ye=function(e){var t=S(e),n=s(oe,this,t);return!(this===K&&d(se,t)&&!d(ue,t))&&(!(n||!d(this,t)||!d(se,t)||d(this,V)&&this[V][t])||n)},ge=function(e,t){var n=E(e),a=S(t);if(n!==K||!d(se,a)||d(ue,a)){var r=ne(n,a);return!r||!d(se,a)||d(n,V)&&n[V][a]||(r.enumerable=!0),r}},we=function(e){var t=re(E(e)),n=[];return q(t,(function(e){d(se,e)||d(H,e)||ie(n,e)})),n},be=function(e){var t=e===K,n=re(t?ue:E(e)),a=[];return q(n,(function(e){!d(se,e)||t&&!d(K,e)||ie(a,se[e])})),a};(h||(R(Q=(X=function(){if(y(Q,this))throw Z("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?T(arguments[0]):void 0,t=_(e),n=function(e){this===K&&s(n,ue,e),d(this,V)&&d(this[V],t)&&(this[V][t]=!1),de(this,t,x(1,e))};return c&&pe&&de(K,t,{configurable:!0,set:n}),ve(t,e)}).prototype,"toString",(function(){return z(this).tag})),R(X,"withoutSetter",(function(e){return ve(_(e),e)})),D.f=ye,P.f=fe,I.f=ge,M.f=O.f=we,A.f=be,F.f=function(e){return ve(B(e),e)},c&&(ae(Q,"description",{configurable:!0,get:function(){return z(this).description}}),l||R(K,"propertyIsEnumerable",ye,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:X}),q(C(he),(function(e){G(e)})),a({target:Y,stat:!0,forced:!h},{for:function(e){var t=T(e);if(d(le,t))return le[t];var n=X(t);return le[t]=n,ce[n]=t,n},keyFor:function(e){if(!g(e))throw Z(e+" is not a symbol");if(d(ce,e))return ce[e]},useSetter:function(){pe=!0},useSimple:function(){pe=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!c},{create:function(e,t){return void 0===t?k(e):me(k(e),t)},defineProperty:fe,defineProperties:me,getOwnPropertyDescriptor:ge}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:we,getOwnPropertySymbols:be}),a({target:"Object",stat:!0,forced:p((function(){A.f(1)}))},{getOwnPropertySymbols:function(e){return A.f(b(e))}}),te)&&a({target:"JSON",stat:!0,forced:!h||p((function(){var e=X();return"[null]"!=te([e])||"{}"!=te({a:e})||"{}"!=te(Object(e))}))},{stringify:function(e,t,n){var a=j(arguments),r=t;if((m(t)||void 0!==e)&&!g(e))return v(t)||(t=function(e,t){if(f(r)&&(t=s(r,this,e,t)),!g(t))return t}),a[1]=t,i(te,null,a)}});if(!Q[W]){var Ee=Q.valueOf;R(Q,W,(function(e){return s(Ee,this)}))}J(X,Y),H[V]=!0},4747:(e,t,n)=>{var a=n(7854),r=n(8324),o=n(8509),i=n(8533),s=n(8880),u=function(e){if(e&&e.forEach!==i)try{s(e,"forEach",i)}catch(t){e.forEach=i}};for(var l in r)r[l]&&u(a[l]&&a[l].prototype);u(o)},3948:(e,t,n)=>{var a=n(7854),r=n(8324),o=n(8509),i=n(6992),s=n(8880),u=n(5112),l=u("iterator"),c=u("toStringTag"),h=i.values,p=function(e,t){if(e){if(e[l]!==h)try{s(e,l,h)}catch(t){e[l]=h}if(e[c]||s(e,c,t),r[t])for(var n in i)if(e[n]!==i[n])try{s(e,n,i[n])}catch(t){e[n]=i[n]}}};for(var d in r)p(a[d]&&a[d].prototype,d);p(o,"DOMTokenList")},1637:(e,t,n)=>{"use strict";n(6992);var a=n(2109),r=n(7854),o=n(5005),i=n(6916),s=n(1702),u=n(590),l=n(1320),c=n(2248),h=n(8003),p=n(4994),d=n(9909),v=n(5787),f=n(614),m=n(2597),y=n(9974),g=n(648),w=n(9670),b=n(111),E=n(1340),S=n(30),T=n(9114),x=n(8554),k=n(1246),C=n(5112),M=n(4362),O=C("iterator"),A="URLSearchParams",I="URLSearchParamsIterator",P=d.set,D=d.getterFor(A),j=d.getterFor(I),R=o("fetch"),L=o("Request"),N=o("Headers"),H=L&&L.prototype,_=N&&N.prototype,B=r.RegExp,F=r.TypeError,G=r.decodeURIComponent,J=r.encodeURIComponent,U=s("".charAt),q=s([].join),V=s([].push),Y=s("".replace),W=s([].shift),$=s([].splice),z=s("".split),K=s("".slice),X=/\+/g,Q=Array(4),Z=function(e){return Q[e-1]||(Q[e-1]=B("((?:%[\\da-f]{2}){"+e+"})","gi"))},ee=function(e){try{return G(e)}catch(t){return e}},te=function(e){var t=Y(e,X," "),n=4;try{return G(t)}catch(e){for(;n;)t=Y(t,Z(n--),ee);return t}},ne=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},re=function(e){return ae[e]},oe=function(e){return Y(J(e),ne,re)},ie=function(e,t){if(t)for(var n,a,r=z(t,"&"),o=0;o<r.length;)(n=r[o++]).length&&(a=z(n,"="),V(e,{key:te(W(a)),value:te(q(a,"="))}))},se=function(e){this.entries.length=0,ie(this.entries,e)},ue=function(e,t){if(e<t)throw F("Not enough arguments")},le=p((function(e,t){P(this,{type:I,iterator:x(D(e).entries),kind:t})}),"Iterator",(function(){var e=j(this),t=e.kind,n=e.iterator.next(),a=n.value;return n.done||(n.value="keys"===t?a.key:"values"===t?a.value:[a.key,a.value]),n})),ce=function(){v(this,he);var e,t,n,a,r,o,s,u,l,c=arguments.length>0?arguments[0]:void 0,h=this,p=[];if(P(h,{type:A,entries:p,updateURL:function(){},updateSearchParams:se}),void 0!==c)if(b(c))if(e=k(c))for(n=(t=x(c,e)).next;!(a=i(n,t)).done;){if(o=(r=x(w(a.value))).next,(s=i(o,r)).done||(u=i(o,r)).done||!i(o,r).done)throw F("Expected sequence with length 2");V(p,{key:E(s.value),value:E(u.value)})}else for(l in c)m(c,l)&&V(p,{key:l,value:E(c[l])});else ie(p,"string"==typeof c?"?"===U(c,0)?K(c,1):c:E(c))},he=ce.prototype;if(c(he,{append:function(e,t){ue(arguments.length,2);var n=D(this);V(n.entries,{key:E(e),value:E(t)}),n.updateURL()},delete:function(e){ue(arguments.length,1);for(var t=D(this),n=t.entries,a=E(e),r=0;r<n.length;)n[r].key===a?$(n,r,1):r++;t.updateURL()},get:function(e){ue(arguments.length,1);for(var t=D(this).entries,n=E(e),a=0;a<t.length;a++)if(t[a].key===n)return t[a].value;return null},getAll:function(e){ue(arguments.length,1);for(var t=D(this).entries,n=E(e),a=[],r=0;r<t.length;r++)t[r].key===n&&V(a,t[r].value);return a},has:function(e){ue(arguments.length,1);for(var t=D(this).entries,n=E(e),a=0;a<t.length;)if(t[a++].key===n)return!0;return!1},set:function(e,t){ue(arguments.length,1);for(var n,a=D(this),r=a.entries,o=!1,i=E(e),s=E(t),u=0;u<r.length;u++)(n=r[u]).key===i&&(o?$(r,u--,1):(o=!0,n.value=s));o||V(r,{key:i,value:s}),a.updateURL()},sort:function(){var e=D(this);M(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=D(this).entries,a=y(e,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)a((t=n[r++]).value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),l(he,O,he.entries,{name:"entries"}),l(he,"toString",(function(){for(var e,t=D(this).entries,n=[],a=0;a<t.length;)e=t[a++],V(n,oe(e.key)+"="+oe(e.value));return q(n,"&")}),{enumerable:!0}),h(ce,A),a({global:!0,forced:!u},{URLSearchParams:ce}),!u&&f(N)){var pe=s(_.has),de=s(_.set),ve=function(e){if(b(e)){var t,n=e.body;if(g(n)===A)return t=e.headers?new N(e.headers):new N,pe(t,"content-type")||de(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:T(0,E(n)),headers:T(0,t)})}return e};if(f(R)&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return R(e,arguments.length>1?ve(arguments[1]):{})}}),f(L)){var fe=function(e){return v(this,H),new L(e,arguments.length>1?ve(arguments[1]):{})};H.constructor=fe,fe.prototype=H,a({global:!0,forced:!0},{Request:fe})}}e.exports={URLSearchParams:ce,getState:D}},285:(e,t,n)=>{"use strict";n(8783);var a,r=n(2109),o=n(9781),i=n(590),s=n(7854),u=n(9974),l=n(6916),c=n(1702),h=n(6048),p=n(1320),d=n(5787),v=n(2597),f=n(1574),m=n(8457),y=n(206),g=n(8710).codeAt,w=n(3197),b=n(1340),E=n(8003),S=n(1637),T=n(9909),x=T.set,k=T.getterFor("URL"),C=S.URLSearchParams,M=S.getState,O=s.URL,A=s.TypeError,I=s.parseInt,P=Math.floor,D=Math.pow,j=c("".charAt),R=c(/./.exec),L=c([].join),N=c(1..toString),H=c([].pop),_=c([].push),B=c("".replace),F=c([].shift),G=c("".split),J=c("".slice),U=c("".toLowerCase),q=c([].unshift),V="Invalid scheme",Y="Invalid host",W="Invalid port",$=/[a-z]/i,z=/[\d+-.a-z]/i,K=/\d/,X=/^0x/i,Q=/^[0-7]+$/,Z=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,ae=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,re=/[\t\n\r]/g,oe=function(e,t){var n,a,r;if("["==j(t,0)){if("]"!=j(t,t.length-1))return Y;if(!(n=se(J(t,1,-1))))return Y;e.host=n}else if(fe(e)){if(t=w(t),R(te,t))return Y;if(null===(n=ie(t)))return Y;e.host=n}else{if(R(ne,t))return Y;for(n="",a=m(t),r=0;r<a.length;r++)n+=de(a[r],le);e.host=n}},ie=function(e){var t,n,a,r,o,i,s,u=G(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],a=0;a<t;a++){if(""==(r=u[a]))return e;if(o=10,r.length>1&&"0"==j(r,0)&&(o=R(X,r)?16:8,r=J(r,8==o?1:2)),""===r)i=0;else{if(!R(10==o?Z:8==o?Q:ee,r))return e;i=I(r,o)}_(n,i)}for(a=0;a<t;a++)if(i=n[a],a==t-1){if(i>=D(256,5-t))return null}else if(i>255)return null;for(s=H(n),a=0;a<n.length;a++)s+=n[a]*D(256,3-a);return s},se=function(e){var t,n,a,r,o,i,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,h=0,p=function(){return j(e,h)};if(":"==p()){if(":"!=j(e,1))return;h+=2,c=++l}for(;p();){if(8==l)return;if(":"!=p()){for(t=n=0;n<4&&R(ee,p());)t=16*t+I(p(),16),h++,n++;if("."==p()){if(0==n)return;if(h-=n,l>6)return;for(a=0;p();){if(r=null,a>0){if(!("."==p()&&a<4))return;h++}if(!R(K,p()))return;for(;R(K,p());){if(o=I(p(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;h++}u[l]=256*u[l]+r,2!=++a&&4!=a||l++}if(4!=a)return;break}if(":"==p()){if(h++,!p())return}else if(p())return;u[l++]=t}else{if(null!==c)return;h++,c=++l}}if(null!==c)for(i=l-c,l=7;0!=l&&i>0;)s=u[l],u[l--]=u[c+i-1],u[c+--i]=s;else if(8!=l)return;return u},ue=function(e){var t,n,a,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)q(t,e%256),e=P(e/256);return L(t,".")}if("object"==typeof e){for(t="",a=function(e){for(var t=null,n=1,a=null,r=0,o=0;o<8;o++)0!==e[o]?(r>n&&(t=a,n=r),a=null,r=0):(null===a&&(a=o),++r);return r>n&&(t=a,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),a===n?(t+=n?":":"::",r=!0):(t+=N(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},le={},ce=f({},le,{" ":1,'"':1,"<":1,">":1,"`":1}),he=f({},ce,{"#":1,"?":1,"{":1,"}":1}),pe=f({},he,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var n=g(e,0);return n>32&&n<127&&!v(t,e)?e:encodeURIComponent(e)},ve={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e){return v(ve,e.scheme)},me=function(e){return""!=e.username||""!=e.password},ye=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},ge=function(e,t){var n;return 2==e.length&&R($,j(e,0))&&(":"==(n=j(e,1))||!t&&"|"==n)},we=function(e){var t;return e.length>1&&ge(J(e,0,2))&&(2==e.length||"/"===(t=j(e,2))||"\\"===t||"?"===t||"#"===t)},be=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&ge(t[0],!0)||t.length--},Ee=function(e){return"."===e||"%2e"===U(e)},Se={},Te={},xe={},ke={},Ce={},Me={},Oe={},Ae={},Ie={},Pe={},De={},je={},Re={},Le={},Ne={},He={},_e={},Be={},Fe={},Ge={},Je={},Ue=function(e,t,n,r){var o,i,s,u,l,c=n||Se,h=0,p="",d=!1,f=!1,g=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=B(t,ae,"")),t=B(t,re,""),o=m(t);h<=o.length;){switch(i=o[h],c){case Se:if(!i||!R($,i)){if(n)return V;c=xe;continue}p+=U(i),c=Te;break;case Te:if(i&&(R(z,i)||"+"==i||"-"==i||"."==i))p+=U(i);else{if(":"!=i){if(n)return V;p="",c=xe,h=0;continue}if(n&&(fe(e)!=v(ve,p)||"file"==p&&(me(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(fe(e)&&ve[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?c=Le:fe(e)&&r&&r.scheme==e.scheme?c=ke:fe(e)?c=Ae:"/"==o[h+1]?(c=Ce,h++):(e.cannotBeABaseURL=!0,_(e.path,""),c=Fe)}break;case xe:if(!r||r.cannotBeABaseURL&&"#"!=i)return V;if(r.cannotBeABaseURL&&"#"==i){e.scheme=r.scheme,e.path=y(r.path),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=Je;break}c="file"==r.scheme?Le:Me;continue;case ke:if("/"!=i||"/"!=o[h+1]){c=Me;continue}c=Ie,h++;break;case Ce:if("/"==i){c=Pe;break}c=Be;continue;case Me:if(e.scheme=r.scheme,i==a)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=y(r.path),e.query=r.query;else if("/"==i||"\\"==i&&fe(e))c=Oe;else if("?"==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=y(r.path),e.query="",c=Ge;else{if("#"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=y(r.path),e.path.length--,c=Be;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=y(r.path),e.query=r.query,e.fragment="",c=Je}break;case Oe:if(!fe(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=Be;continue}c=Pe}else c=Ie;break;case Ae:if(c=Ie,"/"!=i||"/"!=j(p,h+1))continue;h++;break;case Ie:if("/"!=i&&"\\"!=i){c=Pe;continue}break;case Pe:if("@"==i){d&&(p="%40"+p),d=!0,s=m(p);for(var w=0;w<s.length;w++){var b=s[w];if(":"!=b||g){var E=de(b,pe);g?e.password+=E:e.username+=E}else g=!0}p=""}else if(i==a||"/"==i||"?"==i||"#"==i||"\\"==i&&fe(e)){if(d&&""==p)return"Invalid authority";h-=m(p).length+1,p="",c=De}else p+=i;break;case De:case je:if(n&&"file"==e.scheme){c=He;continue}if(":"!=i||f){if(i==a||"/"==i||"?"==i||"#"==i||"\\"==i&&fe(e)){if(fe(e)&&""==p)return Y;if(n&&""==p&&(me(e)||null!==e.port))return;if(u=oe(e,p))return u;if(p="",c=_e,n)return;continue}"["==i?f=!0:"]"==i&&(f=!1),p+=i}else{if(""==p)return Y;if(u=oe(e,p))return u;if(p="",c=Re,n==je)return}break;case Re:if(!R(K,i)){if(i==a||"/"==i||"?"==i||"#"==i||"\\"==i&&fe(e)||n){if(""!=p){var S=I(p,10);if(S>65535)return W;e.port=fe(e)&&S===ve[e.scheme]?null:S,p=""}if(n)return;c=_e;continue}return W}p+=i;break;case Le:if(e.scheme="file","/"==i||"\\"==i)c=Ne;else{if(!r||"file"!=r.scheme){c=Be;continue}if(i==a)e.host=r.host,e.path=y(r.path),e.query=r.query;else if("?"==i)e.host=r.host,e.path=y(r.path),e.query="",c=Ge;else{if("#"!=i){we(L(y(o,h),""))||(e.host=r.host,e.path=y(r.path),be(e)),c=Be;continue}e.host=r.host,e.path=y(r.path),e.query=r.query,e.fragment="",c=Je}}break;case Ne:if("/"==i||"\\"==i){c=He;break}r&&"file"==r.scheme&&!we(L(y(o,h),""))&&(ge(r.path[0],!0)?_(e.path,r.path[0]):e.host=r.host),c=Be;continue;case He:if(i==a||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&ge(p))c=Be;else if(""==p){if(e.host="",n)return;c=_e}else{if(u=oe(e,p))return u;if("localhost"==e.host&&(e.host=""),n)return;p="",c=_e}continue}p+=i;break;case _e:if(fe(e)){if(c=Be,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=a&&(c=Be,"/"!=i))continue}else e.fragment="",c=Je;else e.query="",c=Ge;break;case Be:if(i==a||"/"==i||"\\"==i&&fe(e)||!n&&("?"==i||"#"==i)){if(".."===(l=U(l=p))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(be(e),"/"==i||"\\"==i&&fe(e)||_(e.path,"")):Ee(p)?"/"==i||"\\"==i&&fe(e)||_(e.path,""):("file"==e.scheme&&!e.path.length&&ge(p)&&(e.host&&(e.host=""),p=j(p,0)+":"),_(e.path,p)),p="","file"==e.scheme&&(i==a||"?"==i||"#"==i))for(;e.path.length>1&&""===e.path[0];)F(e.path);"?"==i?(e.query="",c=Ge):"#"==i&&(e.fragment="",c=Je)}else p+=de(i,he);break;case Fe:"?"==i?(e.query="",c=Ge):"#"==i?(e.fragment="",c=Je):i!=a&&(e.path[0]+=de(i,le));break;case Ge:n||"#"!=i?i!=a&&("'"==i&&fe(e)?e.query+="%27":e.query+="#"==i?"%23":de(i,le)):(e.fragment="",c=Je);break;case Je:i!=a&&(e.fragment+=de(i,ce))}h++}},qe=function(e){var t,n,a=d(this,Ve),r=arguments.length>1?arguments[1]:void 0,i=b(e),s=x(a,{type:"URL"});if(void 0!==r)try{t=k(r)}catch(e){if(n=Ue(t={},b(r)))throw A(n)}if(n=Ue(s,i,null,t))throw A(n);var u=s.searchParams=new C,c=M(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=b(u)||null},o||(a.href=l(Ye,a),a.origin=l(We,a),a.protocol=l($e,a),a.username=l(ze,a),a.password=l(Ke,a),a.host=l(Xe,a),a.hostname=l(Qe,a),a.port=l(Ze,a),a.pathname=l(et,a),a.search=l(tt,a),a.searchParams=l(nt,a),a.hash=l(at,a))},Ve=qe.prototype,Ye=function(){var e=k(this),t=e.scheme,n=e.username,a=e.password,r=e.host,o=e.port,i=e.path,s=e.query,u=e.fragment,l=t+":";return null!==r?(l+="//",me(e)&&(l+=n+(a?":"+a:"")+"@"),l+=ue(r),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?i[0]:i.length?"/"+L(i,"/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},We=function(){var e=k(this),t=e.scheme,n=e.port;if("blob"==t)try{return new qe(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&fe(e)?t+"://"+ue(e.host)+(null!==n?":"+n:""):"null"},$e=function(){return k(this).scheme+":"},ze=function(){return k(this).username},Ke=function(){return k(this).password},Xe=function(){var e=k(this),t=e.host,n=e.port;return null===t?"":null===n?ue(t):ue(t)+":"+n},Qe=function(){var e=k(this).host;return null===e?"":ue(e)},Ze=function(){var e=k(this).port;return null===e?"":b(e)},et=function(){var e=k(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+L(t,"/"):""},tt=function(){var e=k(this).query;return e?"?"+e:""},nt=function(){return k(this).searchParams},at=function(){var e=k(this).fragment;return e?"#"+e:""},rt=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&h(Ve,{href:rt(Ye,(function(e){var t=k(this),n=b(e),a=Ue(t,n);if(a)throw A(a);M(t.searchParams).updateSearchParams(t.query)})),origin:rt(We),protocol:rt($e,(function(e){var t=k(this);Ue(t,b(e)+":",Se)})),username:rt(ze,(function(e){var t=k(this),n=m(b(e));if(!ye(t)){t.username="";for(var a=0;a<n.length;a++)t.username+=de(n[a],pe)}})),password:rt(Ke,(function(e){var t=k(this),n=m(b(e));if(!ye(t)){t.password="";for(var a=0;a<n.length;a++)t.password+=de(n[a],pe)}})),host:rt(Xe,(function(e){var t=k(this);t.cannotBeABaseURL||Ue(t,b(e),De)})),hostname:rt(Qe,(function(e){var t=k(this);t.cannotBeABaseURL||Ue(t,b(e),je)})),port:rt(Ze,(function(e){var t=k(this);ye(t)||(""==(e=b(e))?t.port=null:Ue(t,e,Re))})),pathname:rt(et,(function(e){var t=k(this);t.cannotBeABaseURL||(t.path=[],Ue(t,b(e),_e))})),search:rt(tt,(function(e){var t=k(this);""==(e=b(e))?t.query=null:("?"==j(e,0)&&(e=J(e,1)),t.query="",Ue(t,e,Ge)),M(t.searchParams).updateSearchParams(t.query)})),searchParams:rt(nt),hash:rt(at,(function(e){var t=k(this);""!=(e=b(e))?("#"==j(e,0)&&(e=J(e,1)),t.fragment="",Ue(t,e,Je)):t.fragment=null}))}),p(Ve,"toJSON",(function(){return l(Ye,this)}),{enumerable:!0}),p(Ve,"toString",(function(){return l(Ye,this)}),{enumerable:!0}),O){var ot=O.createObjectURL,it=O.revokeObjectURL;ot&&p(qe,"createObjectURL",u(ot,O)),it&&p(qe,"revokeObjectURL",u(it,O))}E(qe,"URL"),r({global:!0,forced:!i,sham:!o},{URL:qe})},3753:(e,t,n)=>{"use strict";var a=n(2109),r=n(6916);a({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},8010:()=>{var e;!function(e){"use strict";var t=function(){function e(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(e.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){this._dropEffect=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(e){this._effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),e.prototype.clearData=function(e){null!=e?delete this._data[e]:this._data=null},e.prototype.getData=function(e){return this._data[e]||""},e.prototype.setData=function(e,t){this._data[e]=t},e.prototype.setDragImage=function(e,t,a){var r=n._instance;r._imgCustom=e,r._imgOffset={x:t,y:a}},e}();e.DataTransfer=t;var n=function(){function e(){if(this._lastClick=0,e._instance)throw"DragDropTouch instance already created.";var t=!1;if(document.addEventListener("test",(function(){}),{get passive(){return t=!0,!0}}),"ontouchstart"in document){var n=document,a=this._touchstart.bind(this),r=this._touchmove.bind(this),o=this._touchend.bind(this),i=!!t&&{passive:!1,capture:!1};n.addEventListener("touchstart",a,i),n.addEventListener("touchmove",r,i),n.addEventListener("touchend",o),n.addEventListener("touchcancel",o)}}return e.getInstance=function(){return e._instance},e.prototype._touchstart=function(t){var n=this;if(this._shouldHandle(t)){if(Date.now()-this._lastClick<e._DBLCLICK&&this._dispatchEvent(t,"dblclick",t.target))return t.cancelable&&t.preventDefault(),void this._reset();this._reset();var a=this._closestDraggable(t.target);a&&(this._dispatchEvent(t,"mousemove",t.target)||this._dispatchEvent(t,"mousedown",t.target)||(this._dragSource=a,this._ptDown=this._getPoint(t),this._lastTouch=t,t.cancelable&&t.preventDefault(),setTimeout((function(){n._dragSource==a&&null==n._img&&n._dispatchEvent(t,"contextmenu",a)&&n._reset()}),e._CTXMENU),e._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout((function(){n._isDragEnabled=!0,n._touchmove(t)}),e._PRESSHOLDAWAIT))))}},e.prototype._touchmove=function(e){if(this._shouldCancelPressHoldMove(e))this._reset();else if(this._shouldHandleMove(e)||this._shouldHandlePressHoldMove(e)){var t=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",t))return this._lastTouch=e,void(e.cancelable&&e.preventDefault());this._dragSource&&!this._img&&this._shouldStartDragging(e)&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",t)),this._img&&(this._lastTouch=e,e.cancelable&&e.preventDefault(),t!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",t),this._lastTarget=t),this._moveImage(e),this._isDropZone=this._dispatchEvent(e,"dragover",t))}},e.prototype._touchend=function(e){if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target))return void(e.cancelable&&e.preventDefault());this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(e.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},e.prototype._shouldHandle=function(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2},e.prototype._shouldHandleMove=function(t){return!e._ISPRESSHOLDMODE&&this._shouldHandle(t)},e.prototype._shouldHandlePressHoldMove=function(t){return e._ISPRESSHOLDMODE&&this._isDragEnabled&&t&&t.touches&&t.touches.length},e.prototype._shouldCancelPressHoldMove=function(t){return e._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(t)>e._PRESSHOLDMARGIN},e.prototype._shouldStartDragging=function(t){var n=this._getDelta(t);return n>e._THRESHOLD||e._ISPRESSHOLDMODE&&n>=e._PRESSHOLDTHRESHOLD},e.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new t,clearInterval(this._pressHoldInterval)},e.prototype._getPoint=function(e,t){return e&&e.touches&&(e=e.touches[0]),{x:t?e.pageX:e.clientX,y:t?e.pageY:e.clientY}},e.prototype._getDelta=function(t){if(e._ISPRESSHOLDMODE&&!this._ptDown)return 0;var n=this._getPoint(t);return Math.abs(n.x-this._ptDown.x)+Math.abs(n.y-this._ptDown.y)},e.prototype._getTarget=function(e){for(var t=this._getPoint(e),n=document.elementFromPoint(t.x,t.y);n&&"none"==getComputedStyle(n).pointerEvents;)n=n.parentElement;return n},e.prototype._createImage=function(t){this._img&&this._destroyImage();var n=this._imgCustom||this._dragSource;if(this._img=n.cloneNode(!0),this._copyStyle(n,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var a=n.getBoundingClientRect(),r=this._getPoint(t);this._imgOffset={x:r.x-a.left,y:r.y-a.top},this._img.style.opacity=e._OPACITY.toString()}this._moveImage(t),document.body.appendChild(this._img)},e.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},e.prototype._moveImage=function(e){var t=this;requestAnimationFrame((function(){if(t._img){var n=t._getPoint(e,!0),a=t._img.style;a.position="absolute",a.pointerEvents="none",a.zIndex="999999",a.left=Math.round(n.x-t._imgOffset.x)+"px",a.top=Math.round(n.y-t._imgOffset.y)+"px"}}))},e.prototype._copyProps=function(e,t,n){for(var a=0;a<n.length;a++){var r=n[a];e[r]=t[r]}},e.prototype._copyStyle=function(t,n){if(e._rmvAtts.forEach((function(e){n.removeAttribute(e)})),t instanceof HTMLCanvasElement){var a=t,r=n;r.width=a.width,r.height=a.height,r.getContext("2d").drawImage(a,0,0)}for(var o=getComputedStyle(t),i=0;i<o.length;i++){var s=o[i];s.indexOf("transition")<0&&(n.style[s]=o[s])}n.style.pointerEvents="none";for(i=0;i<t.children.length;i++)this._copyStyle(t.children[i],n.children[i])},e.prototype._dispatchEvent=function(t,n,a){if(t&&a){var r=document.createEvent("Event"),o=t.touches?t.touches[0]:t;return r.initEvent(n,!0,!0),r.button=0,r.which=r.buttons=1,this._copyProps(r,t,e._kbdProps),this._copyProps(r,o,e._ptProps),r.dataTransfer=this._dataTransfer,a.dispatchEvent(r),r.defaultPrevented}return!1},e.prototype._closestDraggable=function(e){for(;e;e=e.parentElement)if(e.hasAttribute("draggable")&&e.draggable)return e;return null},e}();n._instance=new n,n._THRESHOLD=5,n._OPACITY=.5,n._DBLCLICK=500,n._CTXMENU=900,n._ISPRESSHOLDMODE=!1,n._PRESSHOLDAWAIT=400,n._PRESSHOLDMARGIN=25,n._PRESSHOLDTHRESHOLD=0,n._rmvAtts="id,class,style,draggable".split(","),n._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),n._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),e.DragDropTouch=n}(e||(e={}))},6192:(e,t)=>{var n,a,r,o=function(){var e=function(e,t){var n=e,a=c[t],r=null,o=0,i=null,s=[],u={},l=function(e,t){r=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var a=0;a<e;a+=1)t[n][a]=null}return t}(o=4*n+17),h(0,0),h(o-7,0),h(0,o-7),d(),p(),f(e,t),n>=7&&v(e),null==i&&(i=y(n,a,s)),m(i,t)},h=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||o<=e+n))for(var a=-1;a<=7;a+=1)t+a<=-1||o<=t+a||(r[e+n][t+a]=0<=n&&n<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=a&&a<=4)},p=function(){for(var e=8;e<o-8;e+=1)null==r[e][6]&&(r[e][6]=e%2==0);for(var t=8;t<o-8;t+=1)null==r[6][t]&&(r[6][t]=t%2==0)},d=function(){for(var e=w.getPatternPosition(n),t=0;t<e.length;t+=1)for(var a=0;a<e.length;a+=1){var o=e[t],i=e[a];if(null==r[o][i])for(var s=-2;s<=2;s+=1)for(var u=-2;u<=2;u+=1)r[o+s][i+u]=-2==s||2==s||-2==u||2==u||0==s&&0==u}},v=function(e){for(var t=w.getBCHTypeNumber(n),a=0;a<18;a+=1){var i=!e&&1==(t>>a&1);r[Math.floor(a/3)][a%3+o-8-3]=i}for(a=0;a<18;a+=1){i=!e&&1==(t>>a&1);r[a%3+o-8-3][Math.floor(a/3)]=i}},f=function(e,t){for(var n=a<<3|t,i=w.getBCHTypeInfo(n),s=0;s<15;s+=1){var u=!e&&1==(i>>s&1);s<6?r[s][8]=u:s<8?r[s+1][8]=u:r[o-15+s][8]=u}for(s=0;s<15;s+=1){u=!e&&1==(i>>s&1);s<8?r[8][o-s-1]=u:s<9?r[8][15-s-1+1]=u:r[8][15-s-1]=u}r[o-8][8]=!e},m=function(e,t){for(var n=-1,a=o-1,i=7,s=0,u=w.getMaskFunction(t),l=o-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var c=0;c<2;c+=1)if(null==r[a][l-c]){var h=!1;s<e.length&&(h=1==(e[s]>>>i&1)),u(a,l-c)&&(h=!h),r[a][l-c]=h,-1==(i-=1)&&(s+=1,i=7)}if((a+=n)<0||o<=a){a-=n,n=-n;break}}},y=function(e,t,n){for(var a=S.getRSBlocks(e,t),r=T(),o=0;o<n.length;o+=1){var i=n[o];r.put(i.getMode(),4),r.put(i.getLength(),w.getLengthInBits(i.getMode(),e)),i.write(r)}var s=0;for(o=0;o<a.length;o+=1)s+=a[o].dataCount;if(r.getLengthInBits()>8*s)throw"code length overflow. ("+r.getLengthInBits()+">"+8*s+")";for(r.getLengthInBits()+4<=8*s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*s||(r.put(236,8),r.getLengthInBits()>=8*s));)r.put(17,8);return function(e,t){for(var n=0,a=0,r=0,o=new Array(t.length),i=new Array(t.length),s=0;s<t.length;s+=1){var u=t[s].dataCount,l=t[s].totalCount-u;a=Math.max(a,u),r=Math.max(r,l),o[s]=new Array(u);for(var c=0;c<o[s].length;c+=1)o[s][c]=255&e.getBuffer()[c+n];n+=u;var h=w.getErrorCorrectPolynomial(l),p=E(o[s],h.getLength()-1).mod(h);for(i[s]=new Array(h.getLength()-1),c=0;c<i[s].length;c+=1){var d=c+p.getLength()-i[s].length;i[s][c]=d>=0?p.getAt(d):0}}var v=0;for(c=0;c<t.length;c+=1)v+=t[c].totalCount;var f=new Array(v),m=0;for(c=0;c<a;c+=1)for(s=0;s<t.length;s+=1)c<o[s].length&&(f[m]=o[s][c],m+=1);for(c=0;c<r;c+=1)for(s=0;s<t.length;s+=1)c<i[s].length&&(f[m]=i[s][c],m+=1);return f}(r,a)};u.addData=function(e,t){var n=null;switch(t=t||"Byte"){case"Numeric":n=x(e);break;case"Alphanumeric":n=k(e);break;case"Byte":n=C(e);break;case"Kanji":n=M(e);break;default:throw"mode:"+t}s.push(n),i=null},u.isDark=function(e,t){if(e<0||o<=e||t<0||o<=t)throw e+","+t;return r[e][t]},u.getModuleCount=function(){return o},u.make=function(){if(n<1){for(var e=1;e<40;e++){for(var t=S.getRSBlocks(e,a),r=T(),o=0;o<s.length;o++){var i=s[o];r.put(i.getMode(),4),r.put(i.getLength(),w.getLengthInBits(i.getMode(),e)),i.write(r)}var c=0;for(o=0;o<t.length;o++)c+=t[o].dataCount;if(r.getLengthInBits()<=8*c)break}n=e}l(!1,function(){for(var e=0,t=0,n=0;n<8;n+=1){l(!0,n);var a=w.getLostPoint(u);(0==n||e>a)&&(e=a,t=n)}return t}())},u.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",n+='">',n+="<tbody>";for(var a=0;a<u.getModuleCount();a+=1){n+="<tr>";for(var r=0;r<u.getModuleCount();r+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=u.isDark(a,r)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},u.createSvgTag=function(e,t,n,a){var r={};"object"==typeof arguments[0]&&(e=(r=arguments[0]).cellSize,t=r.margin,n=r.alt,a=r.title),e=e||2,t=void 0===t?4*e:t,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(a="string"==typeof a?{text:a}:a||{}).text=a.text||null,a.id=a.text?a.id||"qrcode-title":null;var o,i,s,l,c=u.getModuleCount()*e+2*t,h="";for(l="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",h+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',h+=r.scalable?"":' width="'+c+'px" height="'+c+'px"',h+=' viewBox="0 0 '+c+" "+c+'" ',h+=' preserveAspectRatio="xMinYMin meet"',h+=a.text||n.text?' role="img" aria-labelledby="'+g([a.id,n.id].join(" ").trim())+'"':"",h+=">",h+=a.text?'<title id="'+g(a.id)+'">'+g(a.text)+"</title>":"",h+=n.text?'<description id="'+g(n.id)+'">'+g(n.text)+"</description>":"",h+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',h+='<path d="',i=0;i<u.getModuleCount();i+=1)for(s=i*e+t,o=0;o<u.getModuleCount();o+=1)u.isDark(i,o)&&(h+="M"+(o*e+t)+","+s+l);return h+='" stroke="transparent" fill="black"/>',h+="</svg>"},u.createDataURL=function(e,t){e=e||2,t=void 0===t?4*e:t;var n=u.getModuleCount()*e+2*t,a=t,r=n-t;return I(n,n,(function(t,n){if(a<=t&&t<r&&a<=n&&n<r){var o=Math.floor((t-a)/e),i=Math.floor((n-a)/e);return u.isDark(i,o)?0:1}return 1}))},u.createImgTag=function(e,t,n){e=e||2,t=void 0===t?4*e:t;var a=u.getModuleCount()*e+2*t,r="";return r+="<img",r+=' src="',r+=u.createDataURL(e,t),r+='"',r+=' width="',r+=a,r+='"',r+=' height="',r+=a,r+='"',n&&(r+=' alt="',r+=g(n),r+='"'),r+="/>"};var g=function(e){for(var t="",n=0;n<e.length;n+=1){var a=e.charAt(n);switch(a){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=a}}return t};return u.createASCII=function(e,t){if((e=e||1)<2)return function(e){e=void 0===e?2:e;var t,n,a,r,o,i=1*u.getModuleCount()+2*e,s=e,l=i-e,c={"":""," ":""," ":"","  ":" "},h={"":""," ":""," ":" ","  ":" "},p="";for(t=0;t<i;t+=2){for(a=Math.floor((t-s)/1),r=Math.floor((t+1-s)/1),n=0;n<i;n+=1)o="",s<=n&&n<l&&s<=t&&t<l&&u.isDark(a,Math.floor((n-s)/1))&&(o=" "),s<=n&&n<l&&s<=t+1&&t+1<l&&u.isDark(r,Math.floor((n-s)/1))?o+=" ":o+="",p+=e<1&&t+1>=l?h[o]:c[o];p+="\n"}return i%2&&e>0?p.substring(0,p.length-i-1)+Array(i+1).join(""):p.substring(0,p.length-1)}(t);e-=1,t=void 0===t?2*e:t;var n,a,r,o,i=u.getModuleCount()*e+2*t,s=t,l=i-t,c=Array(e+1).join(""),h=Array(e+1).join("  "),p="",d="";for(n=0;n<i;n+=1){for(r=Math.floor((n-s)/e),d="",a=0;a<i;a+=1)o=1,s<=a&&a<l&&s<=n&&n<l&&u.isDark(r,Math.floor((a-s)/e))&&(o=0),d+=o?c:h;for(r=0;r<e;r+=1)p+=d+"\n"}return p.substring(0,p.length-1)},u.renderTo2dContext=function(e,t){t=t||2;for(var n=u.getModuleCount(),a=0;a<n;a++)for(var r=0;r<n;r++)e.fillStyle=u.isDark(a,r)?"black":"white",e.fillRect(a*t,r*t,t,t)},u};e.stringToBytes=(e.stringToBytesFuncs={default:function(e){for(var t=[],n=0;n<e.length;n+=1){var a=e.charCodeAt(n);t.push(255&a)}return t}}).default,e.createStringToBytes=function(e,t){var n=function(){for(var n=A(e),a=function(){var e=n.read();if(-1==e)throw"eof";return e},r=0,o={};;){var i=n.read();if(-1==i)break;var s=a(),u=a()<<8|a();o[String.fromCharCode(i<<8|s)]=u,r+=1}if(r!=t)throw r+" != "+t;return o}(),a="?".charCodeAt(0);return function(e){for(var t=[],r=0;r<e.length;r+=1){var o=e.charCodeAt(r);if(o<128)t.push(o);else{var i=n[e.charAt(r)];"number"==typeof i?(255&i)==i?t.push(i):(t.push(i>>>8),t.push(255&i)):t.push(a)}}return t}};var t,n,a,r,o,i=1,s=2,u=4,l=8,c={L:1,M:0,Q:3,H:2},h=0,p=1,d=2,v=3,f=4,m=5,y=6,g=7,w=(t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,a=7973,o=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t},(r={}).getBCHTypeInfo=function(e){for(var t=e<<10;o(t)-o(n)>=0;)t^=n<<o(t)-o(n);return 21522^(e<<10|t)},r.getBCHTypeNumber=function(e){for(var t=e<<12;o(t)-o(a)>=0;)t^=a<<o(t)-o(a);return e<<12|t},r.getPatternPosition=function(e){return t[e-1]},r.getMaskFunction=function(e){switch(e){case h:return function(e,t){return(e+t)%2==0};case p:return function(e,t){return e%2==0};case d:return function(e,t){return t%3==0};case v:return function(e,t){return(e+t)%3==0};case f:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case m:return function(e,t){return e*t%2+e*t%3==0};case y:return function(e,t){return(e*t%2+e*t%3)%2==0};case g:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},r.getErrorCorrectPolynomial=function(e){for(var t=E([1],0),n=0;n<e;n+=1)t=t.multiply(E([1,b.gexp(n)],0));return t},r.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case i:return 10;case s:return 9;case u:case l:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case i:return 12;case s:return 11;case u:return 16;case l:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case i:return 14;case s:return 13;case u:return 16;case l:return 12;default:throw"mode:"+e}}},r.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,a=0;a<t;a+=1)for(var r=0;r<t;r+=1){for(var o=0,i=e.isDark(a,r),s=-1;s<=1;s+=1)if(!(a+s<0||t<=a+s))for(var u=-1;u<=1;u+=1)r+u<0||t<=r+u||0==s&&0==u||i==e.isDark(a+s,r+u)&&(o+=1);o>5&&(n+=3+o-5)}for(a=0;a<t-1;a+=1)for(r=0;r<t-1;r+=1){var l=0;e.isDark(a,r)&&(l+=1),e.isDark(a+1,r)&&(l+=1),e.isDark(a,r+1)&&(l+=1),e.isDark(a+1,r+1)&&(l+=1),0!=l&&4!=l||(n+=3)}for(a=0;a<t;a+=1)for(r=0;r<t-6;r+=1)e.isDark(a,r)&&!e.isDark(a,r+1)&&e.isDark(a,r+2)&&e.isDark(a,r+3)&&e.isDark(a,r+4)&&!e.isDark(a,r+5)&&e.isDark(a,r+6)&&(n+=40);for(r=0;r<t;r+=1)for(a=0;a<t-6;a+=1)e.isDark(a,r)&&!e.isDark(a+1,r)&&e.isDark(a+2,r)&&e.isDark(a+3,r)&&e.isDark(a+4,r)&&!e.isDark(a+5,r)&&e.isDark(a+6,r)&&(n+=40);var c=0;for(r=0;r<t;r+=1)for(a=0;a<t;a+=1)e.isDark(a,r)&&(c+=1);return n+=Math.abs(100*c/t/t-50)/5*10},r),b=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;var a={glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}};return a}();function E(e,t){if(void 0===e.length)throw e.length+"/"+t;var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var a=new Array(e.length-n+t),r=0;r<e.length-n;r+=1)a[r]=e[r+n];return a}(),a={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(a.getLength()+e.getLength()-1),n=0;n<a.getLength();n+=1)for(var r=0;r<e.getLength();r+=1)t[n+r]^=b.gexp(b.glog(a.getAt(n))+b.glog(e.getAt(r)));return E(t,0)},mod:function(e){if(a.getLength()-e.getLength()<0)return a;for(var t=b.glog(a.getAt(0))-b.glog(e.getAt(0)),n=new Array(a.getLength()),r=0;r<a.getLength();r+=1)n[r]=a.getAt(r);for(r=0;r<e.getLength();r+=1)n[r]^=b.gexp(b.glog(e.getAt(r))+t);return E(n,0).mod(e)}};return a}var S=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},n={};return n.getRSBlocks=function(n,a){var r=function(t,n){switch(n){case c.L:return e[4*(t-1)+0];case c.M:return e[4*(t-1)+1];case c.Q:return e[4*(t-1)+2];case c.H:return e[4*(t-1)+3];default:return}}(n,a);if(void 0===r)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+a;for(var o=r.length/3,i=[],s=0;s<o;s+=1)for(var u=r[3*s+0],l=r[3*s+1],h=r[3*s+2],p=0;p<u;p+=1)i.push(t(l,h));return i},n}(),T=function(){var e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var a=0;a<t;a+=1)n.putBit(1==(e>>>t-a-1&1))},getLengthInBits:function(){return t},putBit:function(n){var a=Math.floor(t/8);e.length<=a&&e.push(0),n&&(e[a]|=128>>>t%8),t+=1}};return n},x=function(e){var t=i,n=e,a={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,a=0;a+2<t.length;)e.put(r(t.substring(a,a+3)),10),a+=3;a<t.length&&(t.length-a==1?e.put(r(t.substring(a,a+1)),4):t.length-a==2&&e.put(r(t.substring(a,a+2)),7))}},r=function(e){for(var t=0,n=0;n<e.length;n+=1)t=10*t+o(e.charAt(n));return t},o=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return a},k=function(e){var t=s,n=e,a={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,a=0;a+1<t.length;)e.put(45*r(t.charAt(a))+r(t.charAt(a+1)),11),a+=2;a<t.length&&e.put(r(t.charAt(a)),6)}},r=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return a},C=function(t){var n=u,a=e.stringToBytes(t),r={getMode:function(){return n},getLength:function(e){return a.length},write:function(e){for(var t=0;t<a.length;t+=1)e.put(a[t],8)}};return r},M=function(t){var n=l,a=e.stringToBytesFuncs.SJIS;if(!a)throw"sjis not supported.";!function(e,t){var n=a("");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported."}();var r=a(t),o={getMode:function(){return n},getLength:function(e){return~~(r.length/2)},write:function(e){for(var t=r,n=0;n+1<t.length;){var a=(255&t[n])<<8|255&t[n+1];if(33088<=a&&a<=40956)a-=33088;else{if(!(57408<=a&&a<=60351))throw"illegal char at "+(n+1)+"/"+a;a-=49472}a=192*(a>>>8&255)+(255&a),e.put(a,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}};return o},O=function(){var e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,a){n=n||0,a=a||e.length;for(var r=0;r<a;r+=1)t.writeByte(e[r+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+="]"}};return t},A=function(e){var t=e,n=0,a=0,r=0,o={read:function(){for(;r<8;){if(n>=t.length){if(0==r)return-1;throw"unexpected end of file./"+r}var e=t.charAt(n);if(n+=1,"="==e)return r=0,-1;e.match(/^\s$/)||(a=a<<6|i(e.charCodeAt(0)),r+=6)}var o=a>>>r-8&255;return r-=8,o}},i=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return o},I=function(e,t,n){for(var a=function(e,t){var n=e,a=t,r=new Array(e*t),o={setPixel:function(e,t,a){r[t*n+e]=a},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(a),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(a),e.writeByte(0);var t=i(2);e.writeByte(2);for(var r=0;t.length-r>255;)e.writeByte(255),e.writeBytes(t,r,255),r+=255;e.writeByte(t.length-r),e.writeBytes(t,r,t.length-r),e.writeByte(0),e.writeString(";")}},i=function(e){for(var t=1<<e,n=1+(1<<e),a=e+1,o=s(),i=0;i<t;i+=1)o.add(String.fromCharCode(i));o.add(String.fromCharCode(t)),o.add(String.fromCharCode(n));var u,l,c,h=O(),p=(u=h,l=0,c=0,{write:function(e,t){if(e>>>t!=0)throw"length over";for(;l+t>=8;)u.writeByte(255&(e<<l|c)),t-=8-l,e>>>=8-l,c=0,l=0;c|=e<<l,l+=t},flush:function(){l>0&&u.writeByte(c)}});p.write(t,a);var d=0,v=String.fromCharCode(r[d]);for(d+=1;d<r.length;){var f=String.fromCharCode(r[d]);d+=1,o.contains(v+f)?v+=f:(p.write(o.indexOf(v),a),o.size()<4095&&(o.size()==1<<a&&(a+=1),o.add(v+f)),v=f)}return p.write(o.indexOf(v),a),p.write(n,a),p.flush(),h.toByteArray()},s=function(){var e={},t=0,n={add:function(a){if(n.contains(a))throw"dup key:"+a;e[a]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return o}(e,t),r=0;r<t;r+=1)for(var o=0;o<e;o+=1)a.setPixel(o,r,n(o,r));var i=O();a.write(i);for(var s=function(){var e=0,t=0,n=0,a="",r={},o=function(e){a+=String.fromCharCode(i(63&e))},i=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return r.writeByte=function(a){for(e=e<<8|255&a,t+=8,n+=1;t>=6;)o(e>>>t-6),t-=6},r.flush=function(){if(t>0&&(o(e<<6-t),e=0,t=0),n%3!=0)for(var r=3-n%3,i=0;i<r;i+=1)a+="="},r.toString=function(){return a},r}(),u=i.toByteArray(),l=0;l<u.length;l+=1)s.writeByte(u[l]);return s.flush(),"data:image/gif;base64,"+s};return e}();o.stringToBytesFuncs["UTF-8"]=function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t.push(a):a<2048?t.push(192|a>>6,128|63&a):a<55296||a>=57344?t.push(224|a>>12,128|a>>6&63,128|63&a):(n++,a=65536+((1023&a)<<10|1023&e.charCodeAt(n)),t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|63&a))}return t}(e)},a=[],void 0===(r="function"==typeof(n=function(){return o})?n.apply(t,a):n)||(e.exports=r)},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,a=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),i=new O(a||[]);return o._invoke=function(e,t,n){var a=h;return function(r,o){if(a===d)throw new Error("Generator is already running");if(a===v){if("throw"===r)throw o;return I()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var s=k(i,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=d;var u=c(e,t,n);if("normal"===u.type){if(a=n.done?v:p,u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=v,n.method="throw",n.arg=u.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",f={};function m(){}function y(){}function g(){}var w={};u(w,o,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(A([])));E&&E!==n&&a.call(E,o)&&(w=E);var S=g.prototype=m.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(r,o,i,s){var u=c(e[r],e,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&a.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(h).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(u.arg)}var r;this._invoke=function(e,a){function o(){return new t((function(t,r){n(e,a,t,r)}))}return r=r?r.then(o,o):o()}}function k(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:I}}function I(){return{value:t,done:!0}}return y.prototype=g,u(S,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},T(x.prototype),u(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new x(l(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},T(S),u(S,s,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=A,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(a,r){return s.type="throw",s.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;M(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:A(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},7905:(e,t,n)=>{"use strict";var a=256,r=[],o=void 0===n.g?window:n.g,i=Math.pow(a,6),s=Math.pow(2,52),u=2*s,l=255,c=Math.random;function h(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<a;)s[o]=o++;for(o=0;o<a;o++)s[o]=s[i=l&i+e[o%n]+(t=s[o])],s[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,s=r.S;e--;)t=s[o=l&o+1],n=n*a+s[l&(s[o]=s[i=l&i+t])+(s[i]=t)];return r.i=o,r.j=i,n})(a)}function p(e,t){var n,a=[],r=(typeof e)[0];if(t&&"o"==r)for(n in e)try{a.push(p(e[n],t-1))}catch(e){}return a.length?a:"s"==r?e:e+"\0"}function d(e,t){for(var n,a=e+"",r=0;r<a.length;)t[l&r]=l&(n^=19*t[l&r])+a.charCodeAt(r++);return f(t)}function v(e){try{return o.crypto.getRandomValues(e=new Uint8Array(a)),f(e)}catch(e){return[+new Date,o,o.navigator&&o.navigator.plugins,o.screen,f(r)]}}function f(e){return String.fromCharCode.apply(0,e)}e.exports=function(t,n){if(n&&!0===n.global)return n.global=!1,Math.random=e.exports(t,n),n.global=!0,Math.random;var o=n&&n.entropy||!1,l=[],c=(d(p(o?[t,f(r)]:0 in arguments?t:v(),3),l),new h(l));return d(f(c.S),r),function(){for(var e=c.g(6),t=i,n=0;e<s;)e=(e+n)*a,t*=a,n=c.g(1);for(;e>=u;)e/=2,t/=2,n>>>=1;return(e+n)/t}},e.exports.resetGlobal=function(){Math.random=c},d(Math.random(),r)},5301:(e,t,n)=>{var a={"./GameBoard.js":4696,"./Hand.js":2169,"./Hand/calculateJokerAmount.js":1070,"./Hand/getClearHandInfo.js":8135,"./Hand/isCalling.js":6527,"./Hand/isMahjong.js":5867,"./Hand/score.js":839,"./Hand/scoreAmerican.js":2300,"./Hand/scoreChinese.js":2734,"./Hand/syncContents.js":974,"./Match.js":9458,"./Popups.js":4376,"./Pretty.js":4810,"./RoomManager.js":2342,"./RoomManager/GameSettings.js":9467,"./SaveManager.js":7576,"./Sequence.js":7793,"./Settings.js":2560,"./StateManager.js":3642,"./Tile.js":2946,"./TileContainer.js":502,"./Wall.js":6212,"./addFacebookMessenger.js":4616,"./appUpdates.js":1945,"./configureInAppRatings.js":5220,"./displayCenterTilePopup.js":4843,"./index.js":2352,"./settingsMenu.js":6554,"./universalLinks.js":819,"./updateTilesInContainer.js":8643};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=5301},8413:()=>{},8421:()=>{},915:()=>{},4044:()=>{},3418:()=>{}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);n(2352)})();
//# sourceMappingURL=index.js.map