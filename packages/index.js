!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=211)}([function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(44))},function(e,t,n){var r=n(0),o=n(35).f,i=n(12),a=n(16),u=n(45),s=n(94),c=n(81);e.exports=function(e,t){var n,l,h,f,p,d=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[d]||u(d,{}):(r[d]||{}).prototype)for(l in t){if(f=t[l],h=e.noTargetGet?(p=o(n,l))&&p.value:n[l],!c(v?l:d+(m?".":"#")+l,e.forced)&&void 0!==h){if(typeof f==typeof h)continue;s(f,h)}(e.sham||h&&h.sham)&&i(f,"sham",!0),a(n,l,f,e)}}},function(e,t,n){var r=n(0),o=n(57),i=n(6),a=n(58),u=n(62),s=n(96),c=o("wks"),l=r.Symbol,h=s?l:l&&l.withoutSetter||a;e.exports=function(e){return i(c,e)&&(u||"string"==typeof c[e])||(u&&i(l,e)?c[e]=l[e]:c[e]=h("Symbol."+e)),c[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(0),o=n(116),i=n(182),a=n(12);for(var u in o){var s=r[u],c=s&&s.prototype;if(c&&c.forEach!==i)try{a(c,"forEach",i)}catch(e){c.forEach=i}}},function(e,t,n){"use strict";var r=n(1),o=n(65).map;r({target:"Array",proto:!0,forced:!n(87)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(189),n(190),n(5),n(91),n(31),n(66),n(92),n(4),n(119),n(98),n(154),n(131),n(67),n(68),n(25),n(69),n(32),n(22),n(37),n(101),n(15),n(93);var i=n(17),a=n(99);function u(e){return e.length?e.flatMap((function(t,n){return u(e.filter((function(e,t){return n!==t}))).map((function(e){return[t].concat(r(e))}))})):[[]]}var s=["bamboo","character","circle"],c=u(s),l=[1,3,5,7,9],h=[2,4,6,8],f=l.concat(h).sort(),p=["red","green","white"],d=u(p);function v(e,t){for(var n=[],o=function(o){var u=e[o],s=[],c=[];u.tiles.forEach((function(e){e.length<=2?c.push.apply(c,r(e)):s.push.apply(s,r(e))}));var l=0,h=void 0,f=[];function p(e){if("joker"===e.type)return++l,!0;var t=c.findIndex((function(t){return t.matches(e)}));if(-1!==t)return c.splice(t,1),!0;var n=s.findIndex((function(t){return t.matches(e)}));return-1!==n&&(s.splice(n,1),!0)}var d=function(e){var n=t[e];if(n instanceof a&&(n=n.tiles),n instanceof Array){!0===u.concealed&&0;var r=a.isValidMatch(n);if(!u.tiles.some((function(e){return!r||!(e.length!==n.length||!r.matches(a.findNonJoker(e)))})))return h=1/0,"break|processHandItems";for(var o=0;o<n.length;o++){if(!p(n[o]))return h=1/0,"break|processHandItems"}}};e:for(var v=0;v<t.length;v++){if("break|processHandItems"===d(v))break e}if(h!==1/0){for(var m=0;m<t.length;m++){var g=t[m];g instanceof a||g instanceof Array||p(g)||f.push(g)}h=c.length+Math.max(0,s.length-l),l>s.length&&(f.push(new i({type:"joker",value:""})),l--),n.push({diff:h,handOption:u,noFillJoker:c,canFillJoker:s,notUsed:f,jokerCount:l})}},u=0;u<e.length;u++)o(u);return n=n.sort((function(e,t){var n=e.diff,r=t.diff;function o(e){if(e.handOption.concealed)return Math.max(0,e.diff-1);if(void 0===e.uncallableTiles){var t=function(e){for(var t=0,r=function(r){var o=e[r];n.some((function(e){return o.matches(e[0])}))&&t++},o=0;o<e.length;o++)r(o);return t},n=e.handOption.tiles.filter((function(e){return e.length<3})),r=t(e.noFillJoker)+Math.max(0,t(e.canFillJoker)-e.jokerCount);e.uncallableTiles=Math.max(0,r-1)}return e.uncallableTiles}return n+=.15*o(e),r+=.15*o(t),n+=.15*e.noFillJoker.length,r+=.15*t.noFillJoker.length,e.weightedDiff=n,t.weightedDiff=r,n!==r?n-r:t.handOption.score-e.handOption.score}))}e.exports={createTiles:function(e){var t=e.type,n=e.value,r=e.amount,o=new i({type:t,value:n});return new Array(r).fill(o)},allSuits:s,allSuitArrangements:c,oddOptions:l,evenOptions:h,allOptions:f,windOptions:["north","east","west","south"],dragonOptions:p,dragonArrangments:d,suitDragonConversion:{character:"red",bamboo:"green",circle:"white"},outputExpander:function(e){console.time("Expand");var t=[],n=0;return e.forEach((function(e){var r=[];e.tiles.forEach((function(t){var n=Object.assign({},e);if(n.tiles=t,14!==n.tiles.flat().length)throw"Invalid Combo";r.push(n)}));for(var o=[],i=0;i<r.length;i++){var a,u=r[i];0===(null===(a=v(o,u.tiles)[0])||void 0===a?void 0:a.diff)?n++:o.push(u)}t.push.apply(t,o)})),console.timeEnd("Expand"),n&&console.warn("Removed "+n+" Duplicate Combos"),t},getTileDifferential:v}},function(e,t,n){var r=n(3);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(10),o=n(79),i=n(7),a=n(33),u=Object.defineProperty;t.f=r?u:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(10),o=n(11),i=n(28);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(36),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(23);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(1),o=n(8),i=n(74),a=n(60),u=n(13),s=n(18),c=n(85),l=n(2),h=n(87)("slice"),f=l("species"),p=[].slice,d=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,l,h=s(this),v=u(h.length),m=a(e,v),g=a(void 0===t?v:t,v);if(i(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[f])&&(n=void 0):n=void 0,n===Array||void 0===n))return p.call(h,m,g);for(r=new(void 0===n?Array:n)(d(g-m,0)),l=0;m<g;m++,l++)m in h&&c(r,l,h[m]);return r.length=l,r}})},function(e,t,n){var r=n(0),o=n(12),i=n(6),a=n(45),u=n(56),s=n(29),c=s.get,l=s.enforce,h=String(String).split("String");(e.exports=function(e,t,n,u){var s,c=!!u&&!!u.unsafe,f=!!u&&!!u.enumerable,p=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),(s=l(n)).source||(s.source=h.join("string"==typeof t?t:""))),e!==r?(c?!p&&e[t]&&(f=!0):delete e[t],f?e[t]=n:o(e,t,n)):f?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u(this)}))},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(19),n(26),n(27);var i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.type=t.type,this.value=t.value,this.getTileName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"chinese",t=this.value+" "+this.type;if("american"===e){var n={bamboo:"bam",character:"crak",circle:"dot"};t=["flower","season"].includes(this.type)?"flower":this.value+" "+(n[this.type]||this.type)}return this.faceDown&&(t=this.value&&this.type?"Face Down "+t:"Face Down Tile"),t}.bind(this),t.faceDown?(this.faceDown=!0,this.imageUrl="assets/tiles/face-down.png"):"joker"===this.type?this.imageUrl="assets/tiles/joker.png":this.imageUrl="assets/tiles/"+this.type+"s/"+this.value+".png",this.matches=function(t){return!this.faceDown&&(t instanceof e&&t.type===this.type&&t.value===this.value||!(!["flower","season"].includes(this.type)||!["flower","season"].includes(t.type)))},this.isDouble=function(e){return 0},this.getPoints=function(){return 0},this.toJSON=function(){var e={class:"Tile"};return e.type=this.type,e.value=this.value,this.faceDown&&(e.faceDown=this.faceDown),JSON.stringify(e)}.bind(this),this.isSequence=!1,this.isPongOrKong=!1,this.isPair=!1}var t,n,i;return t=e,i=[{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Tile"!==n.class)throw"String was not created by Tile.toJSON()";return new e(n)}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}();e.exports=i},function(e,t,n){var r=n(40),o=n(23);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";var r=n(1),o=n(80).includes,i=n(48);r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(95),o=n(0),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},function(e,t,n){"use strict";var r=n(18),o=n(48),i=n(34),a=n(29),u=n(103),s=a.set,c=a.getterFor("Array Iterator");e.exports=u(Array,"Array",(function(e,t){s(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(52),o=n(16),i=n(115);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,n){"use strict";var r=n(1),o=n(3),i=n(14),a=n(33);r({target:"Date",proto:!0,forced:o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=i(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){"use strict";n(1)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r,o,i,a=n(110),u=n(0),s=n(8),c=n(12),l=n(6),h=n(46),f=n(47),p=n(41),d=u.WeakMap;if(a){var v=h.state||(h.state=new d),m=v.get,g=v.has,y=v.set;r=function(e,t){return t.facade=e,y.call(v,e,t),t},o=function(e){return m.call(v,e)||{}},i=function(e){return g.call(v,e)}}else{var w=f("state");p[w]=!0,r=function(e,t){return t.facade=e,c(e,w,t),t},o=function(e){return l(e,w)?e[w]:{}},i=function(e){return l(e,w)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t){e.exports=!1},function(e,t,n){"use strict";var r=n(1),o=n(3),i=n(74),a=n(8),u=n(14),s=n(13),c=n(85),l=n(86),h=n(87),f=n(2),p=n(50),d=f("isConcatSpreadable"),v=p>=51||!o((function(){var e=[];return e[d]=!1,e.concat()[0]!==e})),m=h("concat"),g=function(e){if(!a(e))return!1;var t=e[d];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!v||!m},{concat:function(e){var t,n,r,o,i,a=u(this),h=l(a,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(g(i=-1===t?a:arguments[t])){if(f+(o=s(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,f++)n in i&&c(h,f,i[n])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(h,f++,i)}return h.length=f,h}})},function(e,t,n){"use strict";var r=n(88).charAt,o=n(29),i=n(103),a=o.set,u=o.getterFor("String Iterator");i(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports={}},function(e,t,n){var r=n(10),o=n(70),i=n(28),a=n(18),u=n(33),s=n(6),c=n(79),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=u(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(0),o=n(116),i=n(22),a=n(12),u=n(2),s=u("iterator"),c=u("toStringTag"),l=i.values;for(var h in o){var f=r[h],p=f&&f.prototype;if(p){if(p[s]!==l)try{a(p,s,l)}catch(e){p[s]=l}if(p[c]||a(p,c,h),o[h])for(var d in i)if(p[d]!==i[d])try{a(p,d,i[d])}catch(e){p[d]=i[d]}}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return w}));var r=n(168),o=n(239),i={error:"cordova_not_available"},a={error:"plugin_not_installed"};function u(e){if("undefined"!=typeof window&&window.angular){var t=window.document,n=window.angular.element(t.querySelector("[ng-app]")||t.body).injector();if(n)return n.get("$q")((function(t,n){e(t,n)}));console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise((function(t,n){e(t,n)}));console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function s(e,t,n,r){var o,i;void 0===r&&(r={});var a=u((function(a,u){o=r.destruct?d(e,t,n,r,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u(e)})):d(e,t,n,r,a,u),i=u}));return o&&o.error&&(a.catch((function(){})),"function"==typeof i&&i(o.error)),a}function c(e,t,n,r){return void 0===r&&(r={}),u((function(o,i){var a=d(e,t,n,r);a?a.error?i(a.error):a.then&&a.then(o).catch(i):i({error:"unexpected_error"})}))}function l(e,t,n,o){return void 0===o&&(o={}),new r.a((function(r){var i;return(i=o.destruct?d(e,t,n,o,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.error(e)})):d(e,t,n,o,r.next.bind(r),r.error.bind(r)))&&i.error&&(r.error(i.error),r.complete()),function(){try{if(o.clearFunction)return o.clearWithArgs?d(e,o.clearFunction,n,o,r.next.bind(r),r.error.bind(r)):d(e,o.clearFunction,[])}catch(n){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),t),console.warn(n)}}}))}function h(e,t){return t="undefined"!=typeof window&&t?g(window,t):t||("undefined"!=typeof window?window:{}),Object(o.a)(t,e)}function f(t,n,r){var o,u,s;return"string"==typeof t?o=t:(o=t.constructor.getPluginRef(),r=t.constructor.getPluginName(),s=t.constructor.getPluginInstallName()),!(!(u=m(o))||n&&void 0===u[n])||("undefined"!=typeof window&&window.cordova?(function(e,t,n){n?console.warn("Native: tried calling "+e+"."+n+", but the "+e+" plugin is not installed."):console.warn("Native: tried accessing the "+e+" plugin but it's not installed.");t&&console.warn("Install the "+e+" plugin: 'ionic cordova plugin add "+t+"'")}(r,s,n),a):(function(t,n){void 0===e&&(n?console.warn("Native: tried calling "+t+"."+n+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+t+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"))}(r,n),i))}function p(e,t,n,r){if(void 0===t&&(t={}),t.sync)return e;if("reverse"===t.callbackOrder)e.unshift(r),e.unshift(n);else if("node"===t.callbackStyle)e.push((function(e,t){e?r(e):n(t)}));else if("object"===t.callbackStyle&&t.successName&&t.errorName){var o={};o[t.successName]=n,o[t.errorName]=r,e.push(o)}else if(void 0!==t.successIndex||void 0!==t.errorIndex){var i=function(){t.successIndex>e.length?e[t.successIndex]=n:e.splice(t.successIndex,0,n)},a=function(){t.errorIndex>e.length?e[t.errorIndex]=r:e.splice(t.errorIndex,0,r)};t.successIndex>t.errorIndex?(a(),i()):(i(),a())}else e.push(n),e.push(r);return e}function d(e,t,n,r,o,i){void 0===r&&(r={}),n=p(n,r,o,i);var a=f(e,t);if(!0===a){var u=m(e.constructor.getPluginRef());return u[t].apply(u,n)}return a}function v(e,t,n,r,o,i){if(void 0===r&&(r={}),n=p(n,r,o,i),function(e,t){return e._objectInstance&&(!t||void 0!==e._objectInstance[t])}(e,t))return e._objectInstance[t].apply(e._objectInstance,n)}function m(e){return"undefined"!=typeof window?g(window,e):null}function g(e,t){for(var n=t.split("."),r=e,o=0;o<n.length;o++){if(!r)return null;r=r[n[o]]}return r}var y=function(e,t,n){return void 0===n&&(n={}),function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n.sync?d(e,t,r,n):n.observable?l(e,t,r,n):n.eventObservable&&n.event?h(n.event,n.element):n.otherPromise?c(e,t,r,n):s(e,t,r,n)}};function w(e,t,n){return void 0===n&&(n={}),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n.sync)return v(e,t,o,n);if(n.observable)return new r.a((function(r){var i;return(i=n.destruct?v(e,t,o,n,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.error(e)})):v(e,t,o,n,r.next.bind(r),r.error.bind(r)))&&i.error&&r.error(i.error),function(){try{return n.clearWithArgs?v(e,n.clearFunction,o,n,r.next.bind(r),r.error.bind(r)):v(e,n.clearFunction,[])}catch(n){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),t),console.warn(n)}}}));if(n.otherPromise)return u((function(r,i){var a;(a=n.destruct?v(e,t,o,n,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)})):v(e,t,o,n,r,i))&&a.then?a.then(r,i):i()}));var a,s,c=u((function(r,i){a=n.destruct?v(e,t,o,n,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)})):v(e,t,o,n,r,i),s=i}));return a&&a.error&&(c.catch((function(){})),"function"==typeof s&&s(a.error)),c}}}).call(this,n(158))},function(e,t,n){var r=n(11).f,o=n(6),i=n(2)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(3),o=n(20),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t){e.exports={}},function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(19),n(5),n(66),n(26),n(27);var i=n(17),a=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),null==t.exposed)throw"Must specify either true or false for config.exposed. ";if(t.amount<2||t.amount>4)throw"config.mount must be either 2, 3, or 4. ";this.type=t.type,this.value=t.value,this.amount=t.amount,this.exposed=t.exposed,this.getTileName=function(){var e;return(e=this.getComponentTile()).getTileName.apply(e,arguments)}.bind(this),this.getComponentTile=function(){return new i({type:this.type,value:this.value})},this.getPoints=function(e){var t=0;if(["bamboo","character","circle"].includes(this.type)){if(t=2,(1===this.value||9===this.value)&&(t*=2,2===this.amount))return 2;if(2===this.amount)return 0}else if(t=4,2===this.amount)return"wind"===this.type&&this.value!==e?0:2;return 4===this.amount&&(t*=4),this.exposed||(t*=2),t},this.isDouble=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(2===this.amount&&!t)&&("dragon"===this.type||"wind"===this.type&&this.value===e)},Object.defineProperty(this,"tiles",{get:function(){var e=this;return new Array(this.amount).fill().map(function(){return e.getComponentTile()}.bind(this))}.bind(this)}),Object.defineProperty(this,"isPair",{get:function(){return 2===this.amount}}),Object.defineProperty(this,"isPongOrKong",{get:function(){return this.amount>=3}}),this.toJSON=function(){var e={class:"Match"};return e.type=this.type,e.value=this.value,e.amount=this.amount,e.exposed=this.exposed,JSON.stringify(e)}.bind(this),this.isSequence=!1}var t,n,a;return t=e,a=[{key:"isValidMatch",value:function(e){for(var t=0;t<e.length;t++)if(!e[0].matches(e[t]))return!1;return!0}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Match"!==n.class)throw"String was not created by Match.toJSON()";return new e(n)}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(0),o=n(12);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(0),o=n(45),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,n){var r=n(57),o=n(58),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){var r=n(2),o=n(51),i=n(11),a=r("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),e.exports=function(e){u[a][e]=!0}},function(e,t,n){var r=n(20),o=n(0);e.exports="process"==r(o.process)},function(e,t,n){var r,o,i=n(0),a=n(83),u=i.process,s=u&&u.versions,c=s&&s.v8;c?o=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},function(e,t,n){var r,o=n(7),i=n(112),a=n(61),u=n(41),s=n(102),c=n(71),l=n(47),h=l("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;d=r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=c("iframe")).style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};u[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=o(e),n=new f,f.prototype=null,n[h]=e):n=d(),void 0===t?n:i(n,t)}},function(e,t,n){var r={};r[n(2)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(19),n(26),n(27);var i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),!["season","flower"].includes(t.seasonOrFlower))throw"config.seasorOrFlower must either be 'season' or 'flower'";this.type="pretty",this.value=t.value,this.seasonOrFlower=t.seasonOrFlower,this.exposed=!0,this.getTileName=function(){return"Pretty"};var n=["east","south","west","north"];this.isDouble=function(e){return e===n[this.value-1]},this.getPoints=function(){return 4},this.imageUrl="assets/tiles/"+t.seasonOrFlower+"s/"+t.value+".png",this.toJSON=function(){var e={class:"Pretty"};return e.value=this.value,e.seasonOrFlower=this.seasonOrFlower,JSON.stringify(e)}.bind(this),this.isSequence=!1,this.isPongOrKong=!1,this.isPair=!1}var t,n,i;return t=e,i=[{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Pretty"!==n.class)throw"String was not created by Pretty.toJSON()";return new e(n)}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}();e.exports=i},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(92),n(26),n(27),n(19),n(5);var i=n(17),a=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),void 0===t.exposed)throw"config.exposed must not be undefined. ";if(this.isDouble=function(e){return!1},this.getPoints=function(){return 0},!t.tiles instanceof Array)throw"config.tiles must be an array of Tiles";if(!e.isValidSequence(t.tiles))throw"config.tiles is not a valid sequence. ";this.tiles=t.tiles,this.tiles=this.tiles.sort((function(e,t){return e.value-t.value})),this.exposed=t.exposed,this.isSequence=!0,this.isPongOrKong=!1,this.isPair=!1,this.toJSON=function(){var e={class:"Sequence"};return e.exposed=this.exposed,e.tiles=this.tiles,JSON.stringify(e)}.bind(this)}var t,n,a;return t=e,a=[{key:"isValidSequence",value:function(e){var t=e[0].type;if(!["bamboo","character","circle"].includes(t))return!1;e=e.sort((function(e,t){return e.value-t.value}));for(var n=1;n<e.length;n++){var r=e[n];if(r.type!==t)return!1;if(1!==Math.abs(e[n-1].value-r.value))return!1}return 3===e.length}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Sequence"!==n.class)throw"String was not created by Sequence.toJSON()";return n.tiles=n.tiles.map((function(e){return i.fromJSON(e)})),new e(n)}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){var r=n(46),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(30),o=n(46);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.1",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(90),o=n(61).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(36),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(49),o=n(50),i=n(3);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!Symbol.sham&&(r?38===o:o>37&&o<41)}))},function(e,t,n){var r=n(52),o=n(20),i=n(2)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";var r,o,i=n(127),a=n(144),u=RegExp.prototype.exec,s=String.prototype.replace,c=u,l=(r=/a/,o=/b*/g,u.call(r,"a"),u.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),h=a.UNSUPPORTED_Y||a.BROKEN_CARET,f=void 0!==/()??/.exec("")[1];(l||f||h)&&(c=function(e){var t,n,r,o,a=this,c=h&&a.sticky,p=i.call(a),d=a.source,v=0,m=e;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),m=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(d="(?: "+d+")",m=" "+m,v++),n=new RegExp("^(?:"+d+")",p)),f&&(n=new RegExp("^"+d+"$(?!\\s)",p)),l&&(t=a.lastIndex),r=u.call(c?n:a,m),c?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),f&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},function(e,t,n){var r=n(42),o=n(40),i=n(14),a=n(13),u=n(86),s=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,l=4==e,h=6==e,f=7==e,p=5==e||h;return function(d,v,m,g){for(var y,w,b=i(d),E=o(b),S=r(v,m,3),x=a(E.length),T=0,O=g||u,C=t?O(d,x):n||f?O(d,0):void 0;x>T;T++)if((p||T in E)&&(w=S(y=E[T],T,b),e))if(t)C[T]=w;else if(w)switch(e){case 3:return!0;case 5:return y;case 6:return T;case 2:s.call(C,y)}else switch(e){case 4:return!1;case 7:s.call(C,y)}return h?-1:c||l?l:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},function(e,t,n){var r=n(1),o=n(184),i=n(48);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t,n){"use strict";var r=n(1),o=n(0),i=n(21),a=n(30),u=n(10),s=n(62),c=n(96),l=n(3),h=n(6),f=n(74),p=n(8),d=n(7),v=n(14),m=n(18),g=n(33),y=n(28),w=n(51),b=n(73),E=n(59),S=n(185),x=n(72),T=n(35),O=n(11),C=n(70),k=n(12),L=n(16),M=n(57),A=n(47),P=n(41),I=n(58),j=n(2),N=n(150),R=n(151),D=n(39),_=n(29),F=n(65).forEach,H=A("hidden"),B=j("toPrimitive"),U=_.set,J=_.getterFor("Symbol"),G=Object.prototype,q=o.Symbol,V=i("JSON","stringify"),Y=T.f,z=O.f,W=S.f,X=C.f,$=M("symbols"),K=M("op-symbols"),Q=M("string-to-symbol-registry"),Z=M("symbol-to-string-registry"),ee=M("wks"),te=o.QObject,ne=!te||!te.prototype||!te.prototype.findChild,re=u&&l((function(){return 7!=w(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Y(G,t);r&&delete G[t],z(e,t,n),r&&e!==G&&z(G,t,r)}:z,oe=function(e,t){var n=$[e]=w(q.prototype);return U(n,{type:"Symbol",tag:e,description:t}),u||(n.description=t),n},ie=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},ae=function(e,t,n){e===G&&ae(K,t,n),d(e);var r=g(t,!0);return d(n),h($,r)?(n.enumerable?(h(e,H)&&e[H][r]&&(e[H][r]=!1),n=w(n,{enumerable:y(0,!1)})):(h(e,H)||z(e,H,y(1,{})),e[H][r]=!0),re(e,r,n)):z(e,r,n)},ue=function(e,t){d(e);var n=m(t),r=b(n).concat(he(n));return F(r,(function(t){u&&!se.call(n,t)||ae(e,t,n[t])})),e},se=function(e){var t=g(e,!0),n=X.call(this,t);return!(this===G&&h($,t)&&!h(K,t))&&(!(n||!h(this,t)||!h($,t)||h(this,H)&&this[H][t])||n)},ce=function(e,t){var n=m(e),r=g(t,!0);if(n!==G||!h($,r)||h(K,r)){var o=Y(n,r);return!o||!h($,r)||h(n,H)&&n[H][r]||(o.enumerable=!0),o}},le=function(e){var t=W(m(e)),n=[];return F(t,(function(e){h($,e)||h(P,e)||n.push(e)})),n},he=function(e){var t=e===G,n=W(t?K:m(e)),r=[];return F(n,(function(e){!h($,e)||t&&!h(G,e)||r.push($[e])})),r};(s||(L((q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),n=function(e){this===G&&n.call(K,e),h(this,H)&&h(this[H],t)&&(this[H][t]=!1),re(this,t,y(1,e))};return u&&ne&&re(G,t,{configurable:!0,set:n}),oe(t,e)}).prototype,"toString",(function(){return J(this).tag})),L(q,"withoutSetter",(function(e){return oe(I(e),e)})),C.f=se,O.f=ae,T.f=ce,E.f=S.f=le,x.f=he,N.f=function(e){return oe(j(e),e)},u&&(z(q.prototype,"description",{configurable:!0,get:function(){return J(this).description}}),a||L(G,"propertyIsEnumerable",se,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:q}),F(b(ee),(function(e){R(e)})),r({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=String(e);if(h(Q,t))return Q[t];var n=q(t);return Q[t]=n,Z[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(h(Z,e))return Z[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!u},{create:function(e,t){return void 0===t?w(e):ue(w(e),t)},defineProperty:ae,defineProperties:ue,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:le,getOwnPropertySymbols:he}),r({target:"Object",stat:!0,forced:l((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(v(e))}}),V)&&r({target:"JSON",stat:!0,forced:!s||l((function(){var e=q();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}))},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(p(t)||void 0!==e)&&!ie(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ie(t))return t}),o[1]=t,V.apply(null,o)}});q.prototype[B]||k(q.prototype,B,q.prototype.valueOf),D(q,"Symbol"),P[H]=!0},function(e,t,n){"use strict";var r=n(1),o=n(10),i=n(0),a=n(6),u=n(8),s=n(11).f,c=n(94),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new l(e):void 0===e?l():l(e);return""===e&&(h[t]=!0),t};c(f,l);var p=f.prototype=l.prototype;p.constructor=f;var d=p.toString,v="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;s(p,"description",{configurable:!0,get:function(){var e=u(this)?this.valueOf():this,t=d.call(e);if(a(h,e))return"";var n=v?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},function(e,t,n){n(151)("iterator")},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(0),o=n(8),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(90),o=n(61);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(20);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(63),o=n(34),i=n(2)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(98),n(78),n(4),n(66),n(19),n(92),n(26),n(27),n(91),n(119),n(5);var i=n(17),a=n(43),u=n(54),s=n(53),c=(n(77),n(99)),l=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function o(e){e.preventDefault()}function l(e){var t="randomClassForTransfer"+Math.pow(2,53)*Math.random();e.target.classList.add(t),e.dataTransfer.setData("randomClass",t)}r(this,e),this.handToRender=t.handToRender,this.handForExposed=t.handForExposed,this.tilePlacemat=t.tilePlacemat,this.interactive=t.interactive||!1,this.wind=t.wind,this.contents=[],this.inPlacemat=[],this.syncContents=n(162).bind(this),this.score=n(163).bind(this),this.getClearHandDoubles=n(164).bind(this),this.isMahjong=n(165).bind(this),this.isCalling=n(166).bind(this),Object.defineProperty(this,"placematLength",{get:function(){var e,t,n,r;return"american"===(null===(e=stateManager)||void 0===e||null===(t=e.lastState)||void 0===t||null===(n=t.message)||void 0===n||null===(r=n.settings)||void 0===r?void 0:r.gameStyle)?6:4}}),this.add=function(t){var n;n=t instanceof u||t instanceof c?e.getTileValue(t.tiles[0]):e.getTileValue(t);for(var r=0;r<this.contents.length;r++){var o=this.contents[r];if(o instanceof u&&(o=o.tiles[2]),o instanceof c&&(o=o.tiles[0]),n<e.getTileValue(o))return void this.contents.splice(r,0,t)}this.contents.push(t)}.bind(this),this.remove=function(e){var t=this.contents.indexOf(e),n=this.inPlacemat.indexOf(e);if(-1!==t)this.contents.splice(t,1);else{if(-1===n)throw e+" does not exist in hand. ";this.inPlacemat.splice(n,1)}}.bind(this),this.moveTile=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.inPlacemat.indexOf(e),o=this.contents.indexOf(e);if(console.log(n),r+o!==-2){this.inPlacemat,this.contents;if(t)if(-1===r){if(this.inPlacemat.length>=this.placematLength)return void alert("Placemat is already full. ");this.inPlacemat.push(this.contents.splice(o,1)[0])}else{if(0===r&&this.inPlacemat[0].evicting)return void alert("This tile was discarded. To claim it, select the tiles you would like to match with it, then hit proceed. ");var i=this.inPlacemat.splice(r,1)[0];isNaN(n)?this.add(i):this.contents.splice(n,0,i)}else isNaN(n)?console.error("Unable to determine how this tile should be moved. "):-1===o?console.error("Reordering in placemat is not supported. Must be in hand."):(n>o&&n--,this.contents.splice(n,0,this.contents.splice(o,1)[0]));this.renderTiles(),this.renderPlacemat()}else console.error("Tile does not exist. ")}.bind(this),this.removeMatchingTile=function(e){var t=this;if(!e instanceof i)throw"removeMatchingTile only supports Tiles";return this.inPlacemat.length>0&&console.warn("Hand.removeMatchingTile is intended for server side use only. "),!!this.contents.some(function(n,r){return!!e.matches(n)&&(t.contents.splice(r,1),!0)}.bind(this))},this.getExposedTiles=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return this.contents.forEach((function(n){n.exposed||n instanceof a&&4===n.amount?t.push(n):e&&t.push(new i({faceDown:!0}))})),t}.bind(this);var h=function(e){e.preventDefault();var t,n=e.dataTransfer.getData("randomClass"),r=document.getElementsByClassName(n)[0];r.classList.remove(n);for(var o=0;o<this.handToRender.children.length;o++){var i=this.handToRender.children[o],a=i.getBoundingClientRect();if(t=i.tileIndex+1,e.clientX<a.left+a.width/2){t--;break}}void 0!==r.placematIndex?this.moveTile(this.inPlacemat[r.placematIndex],!0,t):this.moveTile(this.contents[r.tileIndex],!1,t)}.bind(this),f=function(e){e.preventDefault();var t=e.dataTransfer.getData("randomClass"),n=document.getElementsByClassName(t)[0];n.classList.remove(t),this.moveTile(this.contents[n.tileIndex])}.bind(this);this.interactive&&(this.handToRender.addEventListener("dragover",o),this.handToRender.addEventListener("dragenter",o),this.handToRender.addEventListener("drop",h),this.tilePlacemat&&(this.tilePlacemat.addEventListener("dragover",o),this.tilePlacemat.addEventListener("dragenter",o),this.tilePlacemat.addEventListener("drop",f),this.tilePlacemat.addEventListener("dragover",(function(){this.style.backgroundColor="lightblue"})),this.tilePlacemat.addEventListener("dragleave",(function(){this.style.backgroundColor=""})),this.tilePlacemat.addEventListener("drop",(function(){this.style.backgroundColor=""})))),this.removeMatchingTilesFromHand=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e instanceof i)throw"You must send a tile. ";return this.removeTilesFromHand(new Array(t).fill(e),n)}.bind(this),this.removeTilesFromHand=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((e instanceof u||e instanceof c)&&(e=e.tiles),e instanceof i)e=[e];else if(!e instanceof Array)throw"Must send a Sequence, Tile, or Array. ";var r=[];e.forEach((function(e,n){if(!(e instanceof i))throw"Your Sequence or Array contains non-tiles. ";for(var o=t.contents.length-1;o>=0;o--)if(e.matches(t.contents[o])&&!r.includes(o))return void(r[n]=o)}));for(var o=!0,a=0;a<e.length;a++)void 0===r[a]&&(o=!1);return!!o&&(n||r.sort((function(e,t){return t-e})).forEach((function(e){t.contents.splice(e,1)})),!0)}.bind(this),this.renderPlacemat=function(e){var t,n,r=this;for(e=null!==(t=e)&&void 0!==t?t:null===(n=this.tilePlacemat.firstChild)||void 0===n?void 0:n.className;this.tilePlacemat.firstChild;)this.tilePlacemat.firstChild.remove();for(var o=function(t){var n,o,i,a,u=r.inPlacemat[t],s=document.createElement("img");(r.tilePlacemat.appendChild(s),0===t&&e&&(s.className=e),u)?(s.src=u.imageUrl,s.title=u.getTileName(null===(n=stateManager)||void 0===n||null===(o=n.lastState)||void 0===o||null===(i=o.message)||void 0===i||null===(a=i.settings)||void 0===a?void 0:a.gameStyle),s.draggable=!0,s.placematIndex=t,s.addEventListener("dragstart",l),s.addEventListener("click",function(){this.moveTile(u)}.bind(r))):s.src="assets/tiles/tile-outline.png"},i=0;i<this.placematLength;i++)o(i)}.bind(this),this.setEvictingThrownTile=function(e){for(var t=this.inPlacemat.length-1;t>=0;t--){this.inPlacemat[t].evicting&&this.inPlacemat.splice(t,1)}e&&(this.inPlacemat.length>=this.placematLength&&this.contents.push(this.inPlacemat.pop()),this.inPlacemat.unshift(e),e.evicting=!0)}.bind(this),this.renderTiles=function(e){if(!this.handToRender)throw"Unable to render hand. You must pass config.handToRender to the constructor. ";for(;this.handToRender.firstChild;)this.handToRender.firstChild.remove();if(this.handForExposed)for(;this.handForExposed.firstChild;)this.handForExposed.firstChild.remove();"string"==typeof e&&(e=i.fromJSON(e));for(var t=[],n=[],r=0;r<this.contents.length;r++){var o=this.contents[r];if(o instanceof i)t.push(o);else if(o instanceof s)n.push(o);else if(o instanceof a||o instanceof u){var h=o.tiles;o instanceof a&&4===o.amount&&(h[0].faceDown=!0,h[0]=i.fromJSON(h[0].toJSON())),o.exposed?n.push(h):o instanceof a&&4===o.amount?(h[3].faceDown=!0,h[3]=i.fromJSON(h[3].toJSON()),n.push(h)):(console.log(h),t.push(h))}else o instanceof c?n.push(o.tiles):console.error("Unknown item "+o)}var f=function(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(t,o){var i,a,u,s,c=document.createElement("img");c.src=t.imageUrl,c.title=t.getTileName(null===(i=stateManager)||void 0===i||null===(a=i.lastState)||void 0===a||null===(u=a.message)||void 0===u||null===(s=u.settings)||void 0===s?void 0:s.gameStyle),o&&0!==o?c.style.setProperty("--negativeMarginMultiplier",2):0===o&&c.style.setProperty("--negativeMarginMultiplier",0),"exposed"===n&&this.handForExposed?this.handForExposed.appendChild(c):"exposed"===n?(r&&(c.style.filter="brightness(1.2)"),this.handToRender.appendChild(c)):"unexposed"===n&&(!this.handForExposed&&r&&(c.style.filter="brightness(0.8)"),this.interactive&&(e&&t.matches(e)&&(e=void 0,c.classList.add("animateTile")),c.draggable=!0,c.addEventListener("click",function(){this.moveTile(t)}.bind(this)),c.addEventListener("dragstart",l),c.tileIndex=this.contents.findIndex((function(e){return e===t}))),this.handToRender.appendChild(c))}.bind(this),i=0;i<t.length;i++){var a=t[i];if(a instanceof Array)for(var u=0;u<a.length;u++)o(a[u],u);else"unexposed"===n&&0===i?o(a,0):o(a)}function s(e){if(e.children.length>14){var t=parseFloat(document.documentElement.style.getPropertyValue("--vh"));t/=e.children.length/14;var n=parseFloat(document.documentElement.style.getPropertyValue("--vw"));n/=e.children.length/14,e.children.forEach((function(e){e.style.setProperty("--vh",t+"px"),e.style.setProperty("--vw",n+"px")}))}}s(this.handToRender),this.handForExposed&&s(this.handForExposed)}.bind(this),p=!1;(t.some((function(e){return!e.faceDown}))||0===t.length)&&(p=!0),f(n,"exposed",p),f(t,"unexposed",p),this.tilePlacemat&&this.renderPlacemat()}.bind(this),this.getStringContents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"contents";return this[e].map((function(e){return e.toJSON()}))}.bind(this),this.toJSON=function(){return JSON.stringify({wind:this.wind,contents:this.contents})}.bind(this)}var t,l,h;return t=e,h=[{key:"getTileValue",value:function(e){var t=0;return t+=100*["pretty","flower","season","circle","bamboo","character","wind","dragon","joker"].findIndex((function(t){return e.type===t})),"number"==typeof e.value?t+=e.value:"wind"===e.type?t+=10*["north","east","south","west"].findIndex((function(t){return e.value===t})):"dragon"===e.type?t+=10*["red","green","white"].findIndex((function(t){return e.value===t})):e.faceDown||"joker"===e.type||console.error("Couldn't fully calculate value for "+e),t}},{key:"sortTiles",value:function(t){return t.sort((function(t,n){return e.getTileValue(t)-e.getTileValue(n)}))}},{key:"convertStringsToTiles",value:function(e){return e.map((function(e){var t=JSON.parse(e);if("Pretty"===t.class)return s.fromJSON(e);if("Tile"===t.class)return i.fromJSON(e);if("Sequence"===t.class)return u.fromJSON(e);if("TileContainer"===t.class)return c.fromJSON(e);if("Match"===t.class)return a.fromJSON(e);throw"Unable to identify itemString "+e}))}},{key:"fromString",value:function(t){var n=JSON.parse(t),r=(n.wind,new e({wind:n.wind}));return r.contents=e.convertStringsToTiles(n.contents),r}}],(l=null)&&o(t.prototype,l),h&&o(t,h),e}();e.exports=l},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(31),n(26),n(27),n(130),n(89),n(4);var i=n(17),a=n(53),u=n(161),s=function(){"use strict";function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random(),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),this.drawFirst=function(){return this.tiles.pop()},this.tiles=[],this.tiles=this.tiles.concat(e.getNonPrettyTiles()),o.noPrettys||[!1,!0].forEach((function(e){for(var n=1;n<=4;n++)o.prettysAsTiles?t.tiles.push(new i({value:n,type:e?"season":"flower"})):t.tiles.push(new a({value:n,seasonOrFlower:e?"season":"flower"}))})),o.includeJokers)for(var u=0;u<o.includeJokers;u++)this.tiles.push(new i({type:"joker",value:""}));e.shuffleArray(this.tiles,n),this.toJSON=function(){return n}.bind(this)}var t,n,s;return t=e,s=[{key:"getNonPrettyTiles",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=[],n=function(n){for(var r=0;r<e;r++)["bamboo","character","circle"].forEach((function(e){t.push(new i({type:e,value:n}))}))},r=1;r<=9;r++)n(r);return["red","green","white"].forEach((function(n){for(var r=0;r<e;r++)t.push(new i({type:"dragon",value:n}))})),["north","south","east","west"].forEach((function(n){for(var r=0;r<e;r++)t.push(new i({type:"wind",value:n}))})),t}},{key:"shuffleArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random(),n=u(t),r=e.length-1;r>0;r--){var o=Math.floor(n()*(r+1)),i=[e[o],e[r]];e[r]=i[0],e[o]=i[1]}}},{key:"renderWall",value:function(e,t){for(;e.firstChild;)e.firstChild.remove();for(var n=0;n<t.length;n++){var r,o,i,a,u=t[n],s=document.createElement("img");s.src=u.imageUrl,s.title=u.getTileName(null===(r=stateManager)||void 0===r||null===(o=r.lastState)||void 0===o||null===(i=o.message)||void 0===i||null===(a=i.settings)||void 0===a?void 0:a.gameStyle),e.appendChild(s)}0!==t.length&&String(t.length).split("").forEach((function(t){var n=document.createElement("p");n.innerHTML=t,e.appendChild(n)}))}},{key:"fromJSON",value:function(t){return new e(t)}}],(n=null)&&o(t.prototype,n),s&&o(t,s),e}();e.exports=s},function(e,t,n){"use strict";var r=n(1),o=n(80).indexOf,i=n(82),a=[].indexOf,u=!!a&&1/[1].indexOf(1,-0)<0,s=i("indexOf");r({target:"Array",proto:!0,forced:u||!s},{indexOf:function(e){return u?a.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(10),o=n(3),i=n(71);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(18),o=n(13),i=n(60),a=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(3),o=/#|\.prototype\./,i=function(e,t){var n=u[a(e)];return n==c||n!=s&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=i.data={},s=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var r=n(21);e.exports=r("navigator","userAgent")||""},function(e,t,n){"use strict";var r=n(1),o=n(133),i=n(23);r({target:"String",proto:!0,forced:!n(135)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(33),o=n(11),i=n(28);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var r=n(8),o=n(74),i=n(2)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(3),o=n(2),i=n(50),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r=n(36),o=n(23),i=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s))<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,n){"use strict";var r=n(1),o=n(64);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,n){var r=n(6),o=n(18),i=n(80).indexOf,a=n(41);e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)!r(a,n)&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){"use strict";var r=n(1),o=n(65).filter;r({target:"Array",proto:!0,forced:!n(87)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(1),o=n(24),i=n(14),a=n(3),u=n(82),s=[],c=s.sort,l=a((function(){s.sort(void 0)})),h=a((function(){s.sort(null)})),f=u("sort");r({target:"Array",proto:!0,forced:l||!h||!f},{sort:function(e){return void 0===e?c.call(i(this)):c.call(i(this),o(e))}})},function(e,t,n){var r=n(10),o=n(11).f,i=Function.prototype,a=i.toString,u=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(u)[1]}catch(e){return""}}})},function(e,t,n){var r=n(6),o=n(111),i=n(35),a=n(11);e.exports=function(e,t){for(var n=o(t),u=a.f,s=i.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||u(e,l,s(t,l))}}},function(e,t,n){var r=n(0);e.exports=r},function(e,t,n){var r=n(62);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(6),o=n(14),i=n(47),a=n(123),u=i("IE_PROTO"),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,u)?e[u]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";var r=n(1),o=n(60),i=n(36),a=n(13),u=n(14),s=n(86),c=n(85),l=n(87)("splice"),h=Math.max,f=Math.min;r({target:"Array",proto:!0,forced:!l},{splice:function(e,t){var n,r,l,p,d,v,m=u(this),g=a(m.length),y=o(e,g),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=g-y):(n=w-2,r=f(h(i(t),0),g-y)),g+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=s(m,r),p=0;p<r;p++)(d=y+p)in m&&c(l,p,m[d]);if(l.length=r,n<r){for(p=y;p<g-r;p++)v=p+n,(d=p+r)in m?m[v]=m[d]:delete m[v];for(p=g;p>g-r+n;p--)delete m[p-1]}else if(n>r)for(p=g-r;p>y;p--)v=p+n-1,(d=p+r-1)in m?m[v]=m[d]:delete m[v];for(p=0;p<n;p++)m[p+y]=arguments[p+2];return m.length=g-r+n,l}})},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(26),n(27),n(152),n(5);var i=n(17),a=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),this.isDouble=function(e){return!1},this.getPoints=function(){return 0},!t.tiles instanceof Array)throw"config.tiles must be an array of Tiles";this.tiles=t.tiles,this.exposed=!0,this.isSequence=!1,this.isPongOrKong=!1,this.isPair=!1,this.toJSON=function(){var e={class:"TileContainer"};return e.exposed=this.exposed,e.tiles=this.tiles,JSON.stringify(e)}.bind(this)}var t,n,a;return t=e,a=[{key:"findNonJoker",value:function(e){return e.find((function(e){return"joker"!==e.type}))}},{key:"isValidMatch",value:function(t,n){return new e({tiles:t}).isValidMatch(n)}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("TileContainer"!==n.class)throw"String was not created by TileContainer.toJSON()";return n.tiles=n.tiles.map((function(e){return i.fromJSON(e)})),new e(n)}}],(n=[{key:"isValidMatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.findNonJoker(this.tiles);return!!n&&!!this.tiles.every((function(e){if(e.matches(n)||t&&"joker"===e.type)return!0}))&&n}}])&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t,n){var r=n(1),o=n(14),i=n(73);r({target:"Object",stat:!0,forced:n(3)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,n){var r=n(1),o=n(125);r({target:"Array",stat:!0,forced:!n(128)((function(e){Array.from(e)}))},{from:o})},function(e,t,n){var r=n(21);e.exports=r("document","documentElement")},function(e,t,n){"use strict";var r=n(1),o=n(113),i=n(97),a=n(114),u=n(39),s=n(12),c=n(16),l=n(2),h=n(30),f=n(34),p=n(104),d=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g=function(){return this};e.exports=function(e,t,n,l,p,y,w){o(n,t,l);var b,E,S,x=function(e){if(e===p&&L)return L;if(!v&&e in C)return C[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",O=!1,C=e.prototype,k=C[m]||C["@@iterator"]||p&&C[p],L=!v&&k||x(p),M="Array"==t&&C.entries||k;if(M&&(b=i(M.call(new e)),d!==Object.prototype&&b.next&&(h||i(b)===d||(a?a(b,d):"function"!=typeof b[m]&&s(b,m,g)),u(b,T,!0,!0),h&&(f[T]=g))),"values"==p&&k&&"values"!==k.name&&(O=!0,L=function(){return k.call(this)}),h&&!w||C[m]===L||s(C,m,L),f[t]=L,p)if(E={values:x("values"),keys:y?L:x("keys"),entries:x("entries")},w)for(S in E)(v||O||!(S in C))&&c(C,S,E[S]);else r({target:t,proto:!0,forced:v||O},E);return E}},function(e,t,n){"use strict";var r,o,i,a=n(3),u=n(97),s=n(12),c=n(6),l=n(2),h=n(30),f=l("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(r=o):p=!0);var d=null==r||a((function(){var e={};return r[f].call(e)!==e}));d&&(r={}),h&&!d||c(r,f)||s(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(7);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},function(e,t,n){var r=n(2),o=n(34),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(156),o=n(120),i=n(132),a=n(167);var u=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n,r=this._parentOrParents,i=this._ctorUnsubscribe,s=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var h=0;h<r.length;++h){r[h].remove(this)}if(Object(o.a)(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(e){t=e instanceof u?c(e.errors):[e]}}if(Object(a.a)(l)){h=-1;for(var f=l.length;++h<f;){var p=l[h];if(null!==(n=p)&&"object"==typeof n)try{p.unsubscribe()}catch(e){t=t||[],e instanceof u?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new u(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof u?t.errors:t)}),[])}var l=n(157),h=n(55),f=n(121),p=function(e){function t(n,r,o){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!n){a.destination=i.a;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new d(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new d(a,n,r,o)}return a}return r.a(t,e),t.prototype[l.a]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s),d=function(e){function t(t,n,r,a){var u,s=e.call(this)||this;s._parentSubscriber=t;var c=s;return Object(o.a)(n)?u=n:n&&(u=n.next,r=n.error,a=n.complete,n!==i.a&&(c=Object.create(n),Object(o.a)(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=u,s._error=r,s._complete=a,s}return r.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;h.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=h.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(f.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(f.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};h.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),h.a.useDeprecatedSynchronousErrorHandling)throw e;Object(f.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!h.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return h.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(f.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(p)},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=b(a,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function h(){}function f(){}function p(){}var d={};d[o]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==t&&n.call(m,o)&&(d=m);var g=p.prototype=h.prototype=Object.create(d);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,u){var s=c(e[o],e,i);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,u)}))}u(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=g.constructor=p,p.constructor=f,f.displayName=u(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(w.prototype),w.prototype[i]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),u(g,a,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(0),o=n(56),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,n){var r=n(21),o=n(59),i=n(72),a=n(7);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(10),o=n(11),i=n(7),a=n(73);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),u=r.length,s=0;u>s;)o.f(e,n=r[s++],t[n]);return e}},function(e,t,n){"use strict";var r=n(104).IteratorPrototype,o=n(51),i=n(28),a=n(39),u=n(34),s=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,c,!1,!0),u[c]=s,e}},function(e,t,n){var r=n(7),o=n(136);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){"use strict";var r=n(52),o=n(63);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(1),o=n(40),i=n(18),a=n(82),u=[].join,s=o!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:s||!c},{join:function(e){return u.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(10),o=n(0),i=n(81),a=n(16),u=n(6),s=n(20),c=n(183),l=n(33),h=n(3),f=n(51),p=n(59).f,d=n(35).f,v=n(11).f,m=n(147).trim,g=o.Number,y=g.prototype,w="Number"==s(f(y)),b=function(e){var t,n,r,o,i,a,u,s,c=l(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=m(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(a=(i=c.slice(2)).length,u=0;u<a;u++)if((s=i.charCodeAt(u))<48||s>o)return NaN;return parseInt(i,r)}return+c};if(i("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var E,S=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof S&&(w?h((function(){y.valueOf.call(n)})):"Number"!=s(n))?c(new g(b(t)),n,S):b(t)},x=r?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),T=0;x.length>T;T++)u(g,E=x[T])&&!u(S,E)&&v(S,E,d(g,E));S.prototype=y,y.constructor=S,a(o,"Number",S)}},function(e,t,n){"use strict";var r=n(1),o=n(65).findIndex,i=n(48),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n(32);var r,o=n(1),i=n(10),a=n(137),u=n(0),s=n(112),c=n(16),l=n(105),h=n(6),f=n(124),p=n(125),d=n(88).codeAt,v=n(169),m=n(39),g=n(170),y=n(29),w=u.URL,b=g.URLSearchParams,E=g.getState,S=y.set,x=y.getterFor("URL"),T=Math.floor,O=Math.pow,C=/[A-Za-z]/,k=/[\d+-.A-Za-z]/,L=/\d/,M=/^(0x|0X)/,A=/^[0-7]+$/,P=/^\d+$/,I=/^[\dA-Fa-f]+$/,j=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,N=/[\u0000\t\u000A\u000D #/:?@[\\]]/,R=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,D=/[\t\u000A\u000D]/g,_=function(e,t){var n,r,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=H(t.slice(1,-1))))return"Invalid host";e.host=n}else if(z(e)){if(t=v(t),j.test(t))return"Invalid host";if(null===(n=F(t)))return"Invalid host";e.host=n}else{if(N.test(t))return"Invalid host";for(n="",r=p(t),o=0;o<r.length;o++)n+=V(r[o],U);e.host=n}},F=function(e){var t,n,r,o,i,a,u,s=e.split(".");if(s.length&&""==s[s.length-1]&&s.pop(),(t=s.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=s[r]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=M.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?P:8==i?A:I).test(o))return e;a=parseInt(o,i)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=O(256,5-t))return null}else if(a>255)return null;for(u=n.pop(),r=0;r<n.length;r++)u+=n[r]*O(256,3-r);return u},H=function(e){var t,n,r,o,i,a,u,s=[0,0,0,0,0,0,0,0],c=0,l=null,h=0,f=function(){return e.charAt(h)};if(":"==f()){if(":"!=e.charAt(1))return;h+=2,l=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=n=0;n<4&&I.test(f());)t=16*t+parseInt(f(),16),h++,n++;if("."==f()){if(0==n)return;if(h-=n,c>6)return;for(r=0;f();){if(o=null,r>0){if(!("."==f()&&r<4))return;h++}if(!L.test(f()))return;for(;L.test(f());){if(i=parseInt(f(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;h++}s[c]=256*s[c]+o,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;s[c++]=t}else{if(null!==l)return;h++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)u=s[c],s[c--]=s[l+a-1],s[l+--a]=u;else if(8!=c)return;return s},B=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=T(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},U={},J=f({},U,{" ":1,'"':1,"<":1,">":1,"`":1}),G=f({},J,{"#":1,"?":1,"{":1,"}":1}),q=f({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(e,t){var n=d(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},z=function(e){return h(Y,e.scheme)},W=function(e){return""!=e.username||""!=e.password},X=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},$=function(e,t){var n;return 2==e.length&&C.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},K=function(e){var t;return e.length>1&&$(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Q=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&$(t[0],!0)||t.pop()},Z=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},oe={},ie={},ae={},ue={},se={},ce={},le={},he={},fe={},pe={},de={},ve={},me={},ge={},ye={},we={},be={},Ee=function(e,t,n,o){var i,a,u,s,c,l=n||ee,f=0,d="",v=!1,m=!1,g=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(R,"")),t=t.replace(D,""),i=p(t);f<=i.length;){switch(a=i[f],l){case ee:if(!a||!C.test(a)){if(n)return"Invalid scheme";l=ne;continue}d+=a.toLowerCase(),l=te;break;case te:if(a&&(k.test(a)||"+"==a||"-"==a||"."==a))d+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";d="",l=ne,f=0;continue}if(n&&(z(e)!=h(Y,d)||"file"==d&&(W(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,n)return void(z(e)&&Y[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?l=pe:z(e)&&o&&o.scheme==e.scheme?l=re:z(e)?l=ue:"/"==i[f+1]?(l=oe,f++):(e.cannotBeABaseURL=!0,e.path.push(""),l=ye)}break;case ne:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,l=be;break}l="file"==o.scheme?pe:ie;continue;case re:if("/"!=a||"/"!=i[f+1]){l=ie;continue}l=se,f++;break;case oe:if("/"==a){l=ce;break}l=ge;continue;case ie:if(e.scheme=o.scheme,a==r)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==a||"\\"==a&&z(e))l=ae;else if("?"==a)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",l=we;else{if("#"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),l=ge;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=be}break;case ae:if(!z(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,l=ge;continue}l=ce}else l=se;break;case ue:if(l=se,"/"!=a||"/"!=d.charAt(f+1))continue;f++;break;case se:if("/"!=a&&"\\"!=a){l=ce;continue}break;case ce:if("@"==a){v&&(d="%40"+d),v=!0,u=p(d);for(var y=0;y<u.length;y++){var w=u[y];if(":"!=w||g){var b=V(w,q);g?e.password+=b:e.username+=b}else g=!0}d=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&z(e)){if(v&&""==d)return"Invalid authority";f-=p(d).length+1,d="",l=le}else d+=a;break;case le:case he:if(n&&"file"==e.scheme){l=ve;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&z(e)){if(z(e)&&""==d)return"Invalid host";if(n&&""==d&&(W(e)||null!==e.port))return;if(s=_(e,d))return s;if(d="",l=me,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),d+=a}else{if(""==d)return"Invalid host";if(s=_(e,d))return s;if(d="",l=fe,n==he)return}break;case fe:if(!L.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&z(e)||n){if(""!=d){var E=parseInt(d,10);if(E>65535)return"Invalid port";e.port=z(e)&&E===Y[e.scheme]?null:E,d=""}if(n)return;l=me;continue}return"Invalid port"}d+=a;break;case pe:if(e.scheme="file","/"==a||"\\"==a)l=de;else{if(!o||"file"!=o.scheme){l=ge;continue}if(a==r)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==a)e.host=o.host,e.path=o.path.slice(),e.query="",l=we;else{if("#"!=a){K(i.slice(f).join(""))||(e.host=o.host,e.path=o.path.slice(),Q(e)),l=ge;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=be}}break;case de:if("/"==a||"\\"==a){l=ve;break}o&&"file"==o.scheme&&!K(i.slice(f).join(""))&&($(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),l=ge;continue;case ve:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&$(d))l=ge;else if(""==d){if(e.host="",n)return;l=me}else{if(s=_(e,d))return s;if("localhost"==e.host&&(e.host=""),n)return;d="",l=me}continue}d+=a;break;case me:if(z(e)){if(l=ge,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=ge,"/"!=a))continue}else e.fragment="",l=be;else e.query="",l=we;break;case ge:if(a==r||"/"==a||"\\"==a&&z(e)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=d).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Q(e),"/"==a||"\\"==a&&z(e)||e.path.push("")):Z(d)?"/"==a||"\\"==a&&z(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&$(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(a==r||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",l=we):"#"==a&&(e.fragment="",l=be)}else d+=V(a,G);break;case ye:"?"==a?(e.query="",l=we):"#"==a?(e.fragment="",l=be):a!=r&&(e.path[0]+=V(a,U));break;case we:n||"#"!=a?a!=r&&("'"==a&&z(e)?e.query+="%27":e.query+="#"==a?"%23":V(a,U)):(e.fragment="",l=be);break;case be:a!=r&&(e.fragment+=V(a,J))}f++}},Se=function(e){var t,n,r=l(this,Se,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(e),u=S(r,{type:"URL"});if(void 0!==o)if(o instanceof Se)t=x(o);else if(n=Ee(t={},String(o)))throw TypeError(n);if(n=Ee(u,a,null,t))throw TypeError(n);var s=u.searchParams=new b,c=E(s);c.updateSearchParams(u.query),c.updateURL=function(){u.query=String(s)||null},i||(r.href=Te.call(r),r.origin=Oe.call(r),r.protocol=Ce.call(r),r.username=ke.call(r),r.password=Le.call(r),r.host=Me.call(r),r.hostname=Ae.call(r),r.port=Pe.call(r),r.pathname=Ie.call(r),r.search=je.call(r),r.searchParams=Ne.call(r),r.hash=Re.call(r))},xe=Se.prototype,Te=function(){var e=x(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,u=e.query,s=e.fragment,c=t+":";return null!==o?(c+="//",W(e)&&(c+=n+(r?":"+r:"")+"@"),c+=B(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==u&&(c+="?"+u),null!==s&&(c+="#"+s),c},Oe=function(){var e=x(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&z(e)?t+"://"+B(e.host)+(null!==n?":"+n:""):"null"},Ce=function(){return x(this).scheme+":"},ke=function(){return x(this).username},Le=function(){return x(this).password},Me=function(){var e=x(this),t=e.host,n=e.port;return null===t?"":null===n?B(t):B(t)+":"+n},Ae=function(){var e=x(this).host;return null===e?"":B(e)},Pe=function(){var e=x(this).port;return null===e?"":String(e)},Ie=function(){var e=x(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},je=function(){var e=x(this).query;return e?"?"+e:""},Ne=function(){return x(this).searchParams},Re=function(){var e=x(this).fragment;return e?"#"+e:""},De=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&s(xe,{href:De(Te,(function(e){var t=x(this),n=String(e),r=Ee(t,n);if(r)throw TypeError(r);E(t.searchParams).updateSearchParams(t.query)})),origin:De(Oe),protocol:De(Ce,(function(e){var t=x(this);Ee(t,String(e)+":",ee)})),username:De(ke,(function(e){var t=x(this),n=p(String(e));if(!X(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=V(n[r],q)}})),password:De(Le,(function(e){var t=x(this),n=p(String(e));if(!X(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=V(n[r],q)}})),host:De(Me,(function(e){var t=x(this);t.cannotBeABaseURL||Ee(t,String(e),le)})),hostname:De(Ae,(function(e){var t=x(this);t.cannotBeABaseURL||Ee(t,String(e),he)})),port:De(Pe,(function(e){var t=x(this);X(t)||(""==(e=String(e))?t.port=null:Ee(t,e,fe))})),pathname:De(Ie,(function(e){var t=x(this);t.cannotBeABaseURL||(t.path=[],Ee(t,e+"",me))})),search:De(je,(function(e){var t=x(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ee(t,e,we)),E(t.searchParams).updateSearchParams(t.query)})),searchParams:De(Ne),hash:De(Re,(function(e){var t=x(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ee(t,e,be)):t.fragment=null}))}),c(xe,"toJSON",(function(){return Te.call(this)}),{enumerable:!0}),c(xe,"toString",(function(){return Te.call(this)}),{enumerable:!0}),w){var _e=w.createObjectURL,Fe=w.revokeObjectURL;_e&&c(Se,"createObjectURL",(function(e){return _e.apply(w,arguments)})),Fe&&c(Se,"revokeObjectURL",(function(e){return Fe.apply(w,arguments)}))}m(Se,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Se})},function(e,t,n){var r=n(3);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){"use strict";var r=n(10),o=n(3),i=n(73),a=n(72),u=n(70),s=n(14),c=n(40),l=Object.assign,h=Object.defineProperty;e.exports=!l||o((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||"abcdefghijklmnopqrst"!=i(l({},t)).join("")}))?function(e,t){for(var n=s(e),o=arguments.length,l=1,h=a.f,f=u.f;o>l;)for(var p,d=c(arguments[l++]),v=h?i(d).concat(h(d)):i(d),m=v.length,g=0;m>g;)p=v[g++],r&&!f.call(d,p)||(n[p]=d[p]);return n}:l},function(e,t,n){"use strict";var r=n(42),o=n(14),i=n(138),a=n(107),u=n(13),s=n(85),c=n(75);e.exports=function(e){var t,n,l,h,f,p,d=o(e),v="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,y=void 0!==g,w=c(d),b=0;if(y&&(g=r(g,m>2?arguments[2]:void 0,2)),null==w||v==Array&&a(w))for(n=new v(t=u(d.length));t>b;b++)p=y?g(d[b],b):d[b],s(n,b,p);else for(f=(h=w.call(d)).next,n=new v;!(l=f.call(h)).done;b++)p=y?i(h,g,[l.value,b],!0):l.value,s(n,b,p);return n.length=b,n}},function(e,t,n){var r=n(16);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(7);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(2)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){var r=n(7),o=n(24),i=n(2)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){"use strict";var r=n(143),o=n(134),i=n(7),a=n(23),u=n(129),s=n(145),c=n(13),l=n(146),h=n(64),f=n(3),p=[].push,d=Math.min,v=!f((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);for(var u,s,c,l=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,v=new RegExp(e.source,f+"g");(u=h.call(v,r))&&!((s=v.lastIndex)>d&&(l.push(r.slice(d,u.index)),u.length>1&&u.index<r.length&&p.apply(l,u.slice(1)),c=u[0].length,d=s,l.length>=i));)v.lastIndex===u.index&&v.lastIndex++;return d===r.length?!c&&v.test("")||l.push(""):l.push(r.slice(d)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var a=n(r,e,this,o,r!==t);if(a.done)return a.value;var h=i(e),f=String(this),p=u(h,RegExp),m=h.unicode,g=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(v?"y":"g"),y=new p(v?h:"^(?:"+h.source+")",g),w=void 0===o?4294967295:o>>>0;if(0===w)return[];if(0===f.length)return null===l(y,f)?[f]:[];for(var b=0,E=0,S=[];E<f.length;){y.lastIndex=v?E:0;var x,T=l(y,v?f:f.slice(E));if(null===T||(x=d(c(y.lastIndex+(v?0:E)),f.length))===b)E=s(f,E,m);else{if(S.push(f.slice(b,E)),S.length===w)return S;for(var O=1;O<=T.length-1;O++)if(S.push(T[O]),S.length===w)return S;E=b=x}}return S.push(f.slice(b)),S}]}),!v)},function(e,t,n){"use strict";var r=n(1),o=n(149),i=n(14),a=n(13),u=n(36),s=n(86);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),n=a(t.length),r=s(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:u(e)),r}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(55),o=n(121),i={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(o.a)(e)},complete:function(){}}},function(e,t,n){var r=n(134);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(8),o=n(20),i=n(2)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(2)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(3),o=n(2),i=n(30),a=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){var r=n(7),o=n(106);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){throw o(e),t}}},function(e,t,n){"use strict";var r,o,i,a,u=n(1),s=n(30),c=n(0),l=n(21),h=n(173),f=n(16),p=n(126),d=n(39),v=n(174),m=n(8),g=n(24),y=n(105),w=n(56),b=n(175),E=n(128),S=n(129),x=n(140).set,T=n(176),O=n(178),C=n(179),k=n(142),L=n(180),M=n(29),A=n(81),P=n(2),I=n(49),j=n(50),N=P("species"),R="Promise",D=M.get,_=M.set,F=M.getterFor(R),H=h,B=c.TypeError,U=c.document,J=c.process,G=l("fetch"),q=k.f,V=q,Y=!!(U&&U.createEvent&&c.dispatchEvent),z="function"==typeof PromiseRejectionEvent,W=A(R,(function(){if(!(w(H)!==String(H))){if(66===j)return!0;if(!I&&!z)return!0}if(s&&!H.prototype.finally)return!0;if(j>=51&&/native code/.test(H))return!1;var e=H.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[N]=t,!(e.then((function(){}))instanceof t)})),X=W||!E((function(e){H.all(e).catch((function(){}))})),$=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},K=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;T((function(){for(var r=e.value,o=1==e.state,i=0;n.length>i;){var a,u,s,c=n[i++],l=o?c.ok:c.fail,h=c.resolve,f=c.reject,p=c.domain;try{l?(o||(2===e.rejection&&te(e),e.rejection=1),!0===l?a=r:(p&&p.enter(),a=l(r),p&&(p.exit(),s=!0)),a===c.promise?f(B("Promise-chain cycle")):(u=$(a))?u.call(a,h,f):h(a)):f(r)}catch(e){p&&!s&&p.exit(),f(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Z(e)}))}},Q=function(e,t,n){var r,o;Y?((r=U.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!z&&(o=c["on"+e])?o(r):"unhandledrejection"===e&&C("Unhandled promise rejection",n)},Z=function(e){x.call(c,(function(){var t,n=e.facade,r=e.value;if(ee(e)&&(t=L((function(){I?J.emit("unhandledRejection",r,n):Q("unhandledrejection",n,r)})),e.rejection=I||ee(e)?2:1,t.error))throw t.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e){x.call(c,(function(){var t=e.facade;I?J.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},ne=function(e,t,n){return function(r){e(t,r,n)}},re=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,K(e,!0))},oe=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw B("Promise can't be resolved itself");var r=$(t);r?T((function(){var n={done:!1};try{r.call(t,ne(oe,n,e),ne(re,n,e))}catch(t){re(n,t,e)}})):(e.value=t,e.state=1,K(e,!1))}catch(t){re({done:!1},t,e)}}};W&&(H=function(e){y(this,H,R),g(e),r.call(this);var t=D(this);try{e(ne(oe,t),ne(re,t))}catch(e){re(t,e)}},(r=function(e){_(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(H.prototype,{then:function(e,t){var n=F(this),r=q(S(this,H));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=I?J.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&K(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=D(e);this.promise=e,this.resolve=ne(oe,t),this.reject=ne(re,t)},k.f=q=function(e){return e===H||e===i?new o(e):V(e)},s||"function"!=typeof h||(a=h.prototype.then,f(h.prototype,"then",(function(e,t){var n=this;return new H((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&u({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return O(H,G.apply(c,arguments))}}))),u({global:!0,wrap:!0,forced:W},{Promise:H}),d(H,R,!1,!0),v(R),i=l(R),u({target:R,stat:!0,forced:W},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),u({target:R,stat:!0,forced:s||W},{resolve:function(e){return O(s&&this===i?H:this,e)}}),u({target:R,stat:!0,forced:X},{all:function(e){var t=this,n=q(t),r=n.resolve,o=n.reject,i=L((function(){var n=g(t.resolve),i=[],a=0,u=1;b(e,(function(e){var s=a++,c=!1;i.push(void 0),u++,n.call(t,e).then((function(e){c||(c=!0,i[s]=e,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=q(t),r=n.reject,o=L((function(){var o=g(t.resolve);b(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(e,t,n){var r,o,i,a=n(0),u=n(3),s=n(42),c=n(102),l=n(71),h=n(141),f=n(49),p=a.location,d=a.setImmediate,v=a.clearImmediate,m=a.process,g=a.MessageChannel,y=a.Dispatch,w=0,b={},E=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},S=function(e){return function(){E(e)}},x=function(e){E(e.data)},T=function(e){a.postMessage(e+"",p.protocol+"//"+p.host)};d&&v||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++w]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(w),w},v=function(e){delete b[e]},f?r=function(e){m.nextTick(S(e))}:y&&y.now?r=function(e){y.now(S(e))}:g&&!h?(i=(o=new g).port2,o.port1.onmessage=x,r=s(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&p&&"file:"!==p.protocol&&!u(T)?(r=T,a.addEventListener("message",x,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),E(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:d,clear:v}},function(e,t,n){var r=n(83);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(24),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},function(e,t,n){"use strict";n(89);var r=n(16),o=n(3),i=n(2),a=n(64),u=n(12),s=i("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),h=i("replace"),f=!!/./[h]&&""===/./[h]("a","$0"),p=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,h){var d=i(e),v=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),m=v&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!v||!m||"replace"===e&&(!c||!l||f)||"split"===e&&!p){var g=/./[d],y=n(d,""[e],(function(e,t,n,r,o){return t.exec===a?v&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),w=y[0],b=y[1];r(String.prototype,e,w),r(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}h&&u(RegExp.prototype[d],"sham",!0)}},function(e,t,n){"use strict";var r=n(3);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){"use strict";var r=n(88).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(20),o=n(64);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){var r=n(23),o="["+n(148)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),u=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(74),o=n(13),i=n(42),a=function(e,t,n,u,s,c,l,h){for(var f,p=s,d=0,v=!!l&&i(l,h,3);d<u;){if(d in n){if(f=v?v(n[d],d,t):n[d],c>0&&r(f))p=a(e,t,f,o(f.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=f}p++}d++}return p};e.exports=a},function(e,t,n){var r=n(2);t.f=r},function(e,t,n){var r=n(95),o=n(6),i=n(150),a=n(11).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t,n){"use strict";var r=n(1),o=n(65).find,i=n(48),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,n){"use strict";var r=n(1),o=n(186).left,i=n(82),a=n(50),u=n(49);r({target:"Array",proto:!0,forced:!i("reduce")||!u&&a>79&&a<83},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(1),o=n(124);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,n){"use strict";var r=n(1),o=n(147).trim;r({target:"String",proto:!0,forced:n(210)("trim")},{trim:function(){return o(this)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,h=-1;function f(){l&&s&&(l=!1,s.length?c=s.concat(c):h=-1,c.length&&p())}function p(){if(!l){var e=u(f);l=!0;for(var t=c.length;t;){for(s=c,c=[];++h<t;)s&&s[h].run();h=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(117),n(130),n(89),n(139),n(25),n(31);var o=new Promise((function(e){e()})),i=0,a=0,u=function(){"use strict";return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3200,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e);var s=document.createElement("div");s.classList.add("blocklessAlertCover"),s.style.display="none",document.body.appendChild(s);var c=document.createElement("p");c.innerHTML=t,s.appendChild(c);var l=o;return o=new Promise((function(e){i++,a=Math.max(i,a),o.then((function(){if(a>6&&u.optional)return console.log("Skipping optional message due to time. "),i--,e();console.log(i+" messages remaining to be posted. ");var t=n/Math.min(2.5,Math.max(1,Math.pow((i+(a>6?i:a))/2,.7))||1);console.log("Adjusting duration from ".concat(n," to ").concat(t)),n=t,s.style.animation="fadeInAndOut "+n+"ms ease-in",s.style.display="",setTimeout((function(){s.remove(),i--,e()}),n)}))})),{onStart:l,onEnd:o}}}();e.exports={Notification:function e(t,n){"use strict";r(this,e);var o=document.createElement("div");o.id="errorPopupCover",o.style.display="none",document.body.appendChild(o);var i=document.createElement("div");i.id="errorPopup",o.appendChild(i);var a=document.createElement("p");if(a.innerHTML=t,a.id="errorText",i.appendChild(a),"string"==typeof n){var u=document.createElement("p");u.innerHTML=n.split("\n").join("<br>"),u.id="messageText",i.appendChild(u)}else i.appendChild(n),n.id="messageText";var s=document.createElement("button");s.id="dismissButton",s.innerHTML="Dismiss",i.appendChild(s);var c=function(e){this.ondismissed&&this.ondismissed(),o.remove()}.bind(this);setTimeout((function(){s.addEventListener("click",c),o.addEventListener("click",(function(e){e.target===o&&c()}))}),500),this.show=function(){o.style.display=""},this.dismiss=c},MessageBar:function e(t){"use strict";r(this,e);var n=document.createElement("div");n.id="notificationBar";var o=document.createElement("p");o.innerHTML=t,n.appendChild(o),this.show=function(e){document.body.appendChild(n),setTimeout((function(){n.remove()}),e)}},BlocklessAlert:u}},function(e,t,n){n(122),n(25),n(32),n(22),n(37);try{if(window.Capacitor){var r=function(e){console.log("Current URL: "+window.location.href);var t=new URL(e);t.hash===window.location.hash&&t.pathname===window.location.pathname?console.log("Same URLs. Skipping"):t.pathname===window.location.pathname?(console.log("Same pathname. Setting and reloading. "),window.location.hash=t.hash,window.location.reload()):(console.log("Different pathname. Setting"),window.location.hash=t.hash,window.location.pathname=t.pathname)};Capacitor.Plugins.App.addListener("appUrlOpen",(function(e){console.log("App opened with URL: "+e.url),r(e.url)})),Capacitor.Plugins.App.getLaunchUrl().then((function(e){e&&e.url&&(console.log("Launch url: ",e.url),r(e.url))}))}}catch(e){console.error(e)}},function(e,t,n){"use strict";(function(t){var n=[],r=void 0===t?window:t,o=Math.pow(256,6),i=Math.pow(2,52),a=2*i,u=Math.random;function s(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);o<256;)a[o]=o++;for(o=0;o<256;o++)a[o]=a[i=255&i+e[o%n]+(t=a[o])],a[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,a=r.S;e--;)t=a[o=255&o+1],n=256*n+a[255&(a[o]=a[i=255&i+t])+(a[i]=t)];return r.i=o,r.j=i,n})(256)}function c(e,t){var n,r=[],o=(typeof e)[0];if(t&&"o"==o)for(n in e)try{r.push(c(e[n],t-1))}catch(e){}return r.length?r:"s"==o?e:e+"\0"}function l(e,t){for(var n,r=e+"",o=0;o<r.length;)t[255&o]=255&(n^=19*t[255&o])+r.charCodeAt(o++);return f(t)}function h(e){try{return r.crypto.getRandomValues(e=new Uint8Array(256)),f(e)}catch(e){return[+new Date,r,r.navigator&&r.navigator.plugins,r.screen,f(n)]}}function f(e){return String.fromCharCode.apply(0,e)}e.exports=function(t,r){if(r&&!0===r.global)return r.global=!1,Math.random=e.exports(t,r),r.global=!0,Math.random;var u=r&&r.entropy||!1,p=[],d=(l(c(u?[t,f(n)]:0 in arguments?t:h(),3),p),new s(p));return l(f(d.S),n),function(){for(var e=d.g(6),t=o,n=0;e<i;)e=256*(e+n),t*=256,n=d.g(1);for(;e>=a;)e/=2,t/=2,n>>>=1;return(e+n)/t}},e.exports.resetGlobal=function(){Math.random=u},l(Math.random(),n)}).call(this,n(44))},function(e,t,n){n(4),n(26),n(27),n(19),n(78),n(15),n(31);var r=n(17);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],o=[];console.log(this.contents.length),this.contents.forEach((function(e){n.push(e.toJSON())})),console.log(this.inPlacemat.length),this.inPlacemat.forEach((function(e){e.evicting||n.push(e.toJSON())})),e.forEach((function(e){o.push(e.toJSON())}));for(var i=0;i<n.length;i++){var a=n[i];a&&o.includes(a)&&(n[i]=null,o[o.indexOf(a)]=null)}var u=this.contents.slice(0);u=this.inPlacemat[0]&&this.inPlacemat[0].evicting?u.concat(this.inPlacemat.slice(1)):u.concat(this.inPlacemat.slice(0));for(var s=0;s<n.length;s++){var c=n[s];c&&this.remove(u[s])}for(var l=0;l<o.length;l++){var h=o[l];h&&(t&&this.inPlacemat.length<3&&e[l]instanceof r?this.inPlacemat.push(e[l]):this.add(e[l]))}}},function(e,t,n){n(15);var r=n(43),o=n(17);e.exports=function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=0,i=0,a=!1,u=this.contents.slice(0),s=function(t){var u=e.contents[t];u instanceof o&&[4,3,2].forEach(function(n){u instanceof o?e.removeMatchingTilesFromHand(u,n)&&(t--,u=new r({amount:n,type:u.type,value:u.value,exposed:!1})):c=t}.bind(e)),n+=u.isDouble(e.wind),i+=u.getPoints(e.wind),a=a||u.isSequence,c=t},c=0;c<this.contents.length;c++)s(c);return t.isMahjong&&(i+=20,t.drewOwnTile&&(i+=10),a||(i+=10)),this.contents=u,n+=this.getClearHandDoubles(),i*Math.pow(2,n)}},function(e,t,n){n(4),n(19),n(100);var r=n(54),o=n(53);e.exports=function(){var e={},t=!1,n=!0;return this.contents.forEach((function(t){t instanceof r?(e[t.tiles[0].type]=!0,n=!1):t instanceof o||(e[t.type]=!0,["wind","dragon"].includes(t.type)||1===t.value||9===t.value||(n=!1))})),(e.wind||e.dragon)&&(delete e.wind,delete e.dragon,t=!0),0===(e=Object.keys(e).length)?3:1!==e||t?1===e&&t?1:n&&!t?3:n&&t?1:0:3}},function(e,t,n){function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(109),n(15),n(4),n(131),n(66),n(32),n(22),n(37),n(31),n(91),n(153),n(118),n(25),n(93),n(101),n(67),n(68),n(69);var i=n(54),a=n(53),u=n(77),s=n(43),c=n(17),l=n(76);e.exports=function(){for(var e=regeneratorRuntime.mark(b),t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n=0,o=0,h=0,f=[],p=[],d=0;d<this.contents.length;d++){var v=this.contents[d];v.isPongOrKong?(n++,p.push(v)):v.isPair?(o++,p.push(v)):v.isSequence?(h++,p.push(v)):v instanceof a?p.push(v):f.push(v)}if(1===o&&Math.min(h,t)+n===4)return 2;var m=l.sortTiles(u.getNonPrettyTiles(1)),g=[],y=[],w=new l;function b(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,i){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.length!=n){r.next=5;break}return r.next=3,i;case 3:r.next=11;break;case 5:a=e;case 6:if(!(a<t.length)){r.next=11;break}return r.delegateYield(o(a+1,i.concat(t[a])),"t0",8);case 8:a++,r.next=6;break;case 11:case"end":return r.stop()}}),r)},r=regeneratorRuntime.mark(o),e.delegateYield(o(0,[]),"t0",3);case 3:case"end":return e.stop()}}),e)}w.contents=f.slice(0),m.forEach((function(e){w.removeMatchingTilesFromHand(e,3,!0)&&g.push(e)})),m.forEach((function(e,n){if(i.isValidSequence(m.slice(n,n+3))){for(var r=0,o=m.slice(n,n+3);r<t;){var a=Array(r+1).fill(o).flat();if(!w.removeTilesFromHand(a,!0))break;r++}for(var u=0;u<r;u++)y.push(new i({exposed:!1,tiles:o}))}}));var E=[],S=g,x=4;t>h?(S=S.concat(y),x-=h):x-=Math.min(h,1);var T,O=r(b(S,x-=n));try{for(O.s();!(T=O.n()).done;){var C=T.value,k=C.reduce((function(e,t){return e+Number(t instanceof i)}),0),L=x-k;k+=h,4-n-L>Math.min(t,k)||E.push(C)}}catch(e){O.e(e)}finally{O.f()}e:for(var M=0;M<E.length;M++){var A=E[M],P=new l;P.contents=w.contents.slice(0);for(var I=0;I<A.length;I++){var j=A[I];if(j instanceof c){if(!P.removeMatchingTilesFromHand(j,3))continue e;P.add(new s({type:j.type,value:j.value,exposed:!1,amount:3}))}else if(j instanceof i){if(!P.removeTilesFromHand(j))continue e;P.add(j)}}var N=P.contents.filter((function(e){return e instanceof c}))[0];if(0!==o||P.removeMatchingTilesFromHand(N,2,!0))return 0===o&&(P.add(new s({type:N.type,value:N.value,exposed:!1,amount:2})),P.removeMatchingTilesFromHand(N,2)),P.contents=P.contents.concat(p.slice(0)),P}return 0}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(4),n(66),n(67),n(68),n(25),n(69),n(32),n(22),n(37);var o=n(54),i=(n(53),n(77)),a=n(43),u=n(17),s=n(76);e.exports=function(e,t){var n=this,c=new s;c.contents=i.getNonPrettyTiles(),e.forEach((function(e){c.removeMatchingTile(e)})),this.contents.forEach((function(e){e instanceof u?c.removeMatchingTile(e):e instanceof o?e.tiles.forEach((function(e){c.removeMatchingTile(e)})):e instanceof a&&new Array(e.amount).fill().forEach((function(){c.removeMatchingTile(e.getComponentTile())}))}));for(var l=function(){for(var e=c.contents[0];c.removeMatchingTile(e););var r=n.contents.some((function(t,n){return e.matches(t)}));if(!r&&!isNaN(e.value)){var o=[,,!0,,,];n.contents.forEach((function(t){t.type===e.type&&Math.abs(t.value-e.value)<=2&&(o[2-(t.value-e.value)]=!0)})),(o[0]&&o[1]||o[1]&&o[3]||o[3]&&o[4])&&(r=!0)}return r?(n.add(e),n.isMahjong(t)?(n.remove(e),{v:e}):void n.remove(e)):"continue"};c.contents.length;){var h=l();if("continue"!==h&&"object"===r(h))return h.v}return!1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(108);var o=n(157),i=n(132);var a=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function u(e){return e}function s(e){return 0===e.length?u:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var c=n(55),l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var a=this.operator,u=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new r.a(e,t,n):new r.a(i.a)}(e,t,n);if(a?u.add(a.call(u,this.source)):u.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),c.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&o instanceof r.a?o:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=h(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:s(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function h(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,u=String.fromCharCode,s=function(e){return e+22+75*(e<26)},c=function(e,t,n){var r=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;r+=36)e=a(e/35);return a(r+36*e/(e+38))},l=function(e){var t,n,r=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}(e)).length,l=128,h=0,f=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(u(n));var p=r.length,d=p;for(p&&r.push("-");d<o;){var v=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=l&&n<v&&(v=n);var m=d+1;if(v-l>a((2147483647-h)/m))throw RangeError(i);for(h+=(v-l)*m,l=v,t=0;t<e.length;t++){if((n=e[t])<l&&++h>2147483647)throw RangeError(i);if(n==l){for(var g=h,y=36;;y+=36){var w=y<=f?1:y>=f+26?26:y-f;if(g<w)break;var b=g-w,E=36-w;r.push(u(s(w+b%E))),g=a(b/E)}r.push(u(s(g))),f=c(h,m,d==p),h=0,++d}}++h,++l}return r.join("")};e.exports=function(e){var t,n,i=[],a=e.toLowerCase().replace(o,".").split(".");for(t=0;t<a.length;t++)n=a[t],i.push(r.test(n)?"xn--"+l(n):n);return i.join(".")}},function(e,t,n){"use strict";n(22);var r=n(1),o=n(21),i=n(137),a=n(16),u=n(126),s=n(39),c=n(113),l=n(29),h=n(105),f=n(6),p=n(42),d=n(63),v=n(7),m=n(8),g=n(51),y=n(28),w=n(171),b=n(75),E=n(2),S=o("fetch"),x=o("Headers"),T=E("iterator"),O=l.set,C=l.getterFor("URLSearchParams"),k=l.getterFor("URLSearchParamsIterator"),L=/\+/g,M=Array(4),A=function(e){return M[e-1]||(M[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},P=function(e){try{return decodeURIComponent(e)}catch(t){return e}},I=function(e){var t=e.replace(L," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(A(n--),P);return t}},j=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},R=function(e){return N[e]},D=function(e){return encodeURIComponent(e).replace(j,R)},_=function(e,t){if(t)for(var n,r,o=t.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),e.push({key:I(r.shift()),value:I(r.join("="))}))},F=function(e){this.entries.length=0,_(this.entries,e)},H=function(e,t){if(e<t)throw TypeError("Not enough arguments")},B=c((function(e,t){O(this,{type:"URLSearchParamsIterator",iterator:w(C(e).entries),kind:t})}),"Iterator",(function(){var e=k(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),U=function(){h(this,U,"URLSearchParams");var e,t,n,r,o,i,a,u,s,c=arguments.length>0?arguments[0]:void 0,l=this,p=[];if(O(l,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:F}),void 0!==c)if(m(c))if("function"==typeof(e=b(c)))for(n=(t=e.call(c)).next;!(r=n.call(t)).done;){if((a=(i=(o=w(v(r.value))).next).call(o)).done||(u=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:u.value+""})}else for(s in c)f(c,s)&&p.push({key:s,value:c[s]+""});else _(p,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},J=U.prototype;u(J,{append:function(e,t){H(arguments.length,2);var n=C(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){H(arguments.length,1);for(var t=C(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){H(arguments.length,1);for(var t=C(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){H(arguments.length,1);for(var t=C(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){H(arguments.length,1);for(var t=C(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){H(arguments.length,1);for(var n,r=C(this),o=r.entries,i=!1,a=e+"",u=t+"",s=0;s<o.length;s++)(n=o[s]).key===a&&(i?o.splice(s--,1):(i=!0,n.value=u));i||o.push({key:a,value:u}),r.updateURL()},sort:function(){var e,t,n,r=C(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===n&&o.push(e)}r.updateURL()},forEach:function(e){for(var t,n=C(this).entries,r=p(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),a(J,T,J.entries),a(J,"toString",(function(){for(var e,t=C(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(D(e.key)+"="+D(e.value));return n.join("&")}),{enumerable:!0}),s(U,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:U}),i||"function"!=typeof S||"function"!=typeof x||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,o=[e];return arguments.length>1&&(m(t=arguments[1])&&(n=t.body,"URLSearchParams"===d(n)&&((r=t.headers?new x(t.headers):new x).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:y(0,String(n)),headers:y(0,r)}))),o.push(t)),S.apply(this,o)}}),e.exports={URLSearchParams:U,getState:C}},function(e,t,n){var r=n(7),o=n(75);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){"use strict";var r,o=n(1),i=n(35).f,a=n(13),u=n(133),s=n(23),c=n(135),l=n(30),h="".startsWith,f=Math.min,p=c("startsWith");o({target:"String",proto:!0,forced:!!(l||p||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!p},{startsWith:function(e){var t=String(s(this));u(e);var n=a(f(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return h?h.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(0);e.exports=r.Promise},function(e,t,n){"use strict";var r=n(21),o=n(11),i=n(2),a=n(10),u=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[u]&&n(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(7),o=n(107),i=n(13),a=n(42),u=n(75),s=n(106),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var l,h,f,p,d,v,m,g=n&&n.that,y=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),E=a(t,g,1+y+b),S=function(e){return l&&s(l),new c(!0,e)},x=function(e){return y?(r(e),b?E(e[0],e[1],S):E(e[0],e[1])):b?E(e,S):E(e)};if(w)l=e;else{if("function"!=typeof(h=u(e)))throw TypeError("Target is not iterable");if(o(h)){for(f=0,p=i(e.length);p>f;f++)if((d=x(e[f]))&&d instanceof c)return d;return new c(!1)}l=h.call(e)}for(v=l.next;!(m=v.call(l)).done;){try{d=x(m.value)}catch(e){throw s(l),e}if("object"==typeof d&&d&&d instanceof c)return d}return new c(!1)}},function(e,t,n){var r,o,i,a,u,s,c,l,h=n(0),f=n(35).f,p=n(140).set,d=n(141),v=n(177),m=n(49),g=h.MutationObserver||h.WebKitMutationObserver,y=h.document,w=h.process,b=h.Promise,E=f(h,"queueMicrotask"),S=E&&E.value;S||(r=function(){var e,t;for(m&&(e=w.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},d||m||v||!g||!y?b&&b.resolve?(c=b.resolve(void 0),l=c.then,a=function(){l.call(c,r)}):a=m?function(){w.nextTick(r)}:function(){p.call(h,r)}:(u=!0,s=y.createTextNode(""),new g(r).observe(s,{characterData:!0}),a=function(){s.data=u=!u})),e.exports=S||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},function(e,t,n){var r=n(83);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(7),o=n(8),i=n(142);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(0);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){function r(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function u(e){r(a,o,i,u,s,"next",e)}function s(e){r(a,o,i,u,s,"throw",e)}u(void 0)}))}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(139),n(25),n(98),n(4),n(122),n(32),n(22),n(37),n(15),n(109);var a=function(){"use strict";function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(e){var t=JSON.parse(e.data);console.log(t),"joinRoom"===t.type?i(t):"createRoom"===t.type?r(t):"roomActionState"===t.type?l(t):"roomActionKickFromRoom"===t.type||("roomActionLeaveRoom"===t.type?a(t):"getCurrentRoom"===t.type?h(t):"displayMessage"===t.type?new Popups.Notification(t.message.title,t.message.body).show():"roomActionStartGame"===t.type?s(t):"roomActionEndGame"===t.type?c(t):"roomActionPlaceTiles"===t.type?this.onPlaceTiles instanceof Function&&this.onPlaceTiles(t):"roomActionGameplayAlert"===t.type?this.onGameplayAlert instanceof Function&&this.onGameplayAlert(t):console.log("Unknown Type "+t.type))}.bind(this);this.createWebsocket=function(){var e=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.websocket=new WebSocket(t),this.websocket.addEventListener("message",n),this.websocket.addEventListener("error",function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this)),this.websocket.addEventListener("close",function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.warn(t),1e3===t.code){e.next=6;break}return e.next=4,new Promise((function(e,t){setTimeout(e,1e3)}));case 4:this.createWebsocket(),this.getCurrentRoom();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)),this.sendMessage=function(){var e=o(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.websocket.readyState){e.next=3;break}return e.next=3,new Promise((function(e,t){n.websocket.onopen=e,n.websocket.onerror=t}));case 3:console.log(t),this.websocket.send(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}().bind(this),this.createWebsocket(),this.inRoom=!1,this.isHost=!1,this.inGame=!1,this.joinRoom=function(e,t){this.sendMessage(JSON.stringify({type:"joinRoom",clientId:window.clientId,roomId:e,nickname:t}))},this.createRoom=function(e,t){this.sendMessage(JSON.stringify({type:"createRoom",clientId:window.clientId,roomId:e,nickname:t}))},this.kickUser=function(e,t){this.sendMessage(JSON.stringify({type:"roomActionKickFromRoom",clientId:window.clientId,id:t}))},this.leaveRoom=function(e){this.sendMessage(JSON.stringify({type:"roomActionLeaveRoom",clientId:window.clientId}))},this.closeRoom=function(e){this.sendMessage(JSON.stringify({type:"roomActionCloseRoom",clientId:window.clientId}))},this.startGame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessage(JSON.stringify({type:"roomActionStartGame",clientId:window.clientId,settings:e}))},this.endGame=function(){this.sendMessage(JSON.stringify({type:"roomActionEndGame",clientId:window.clientId}))},this.placeTiles=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.sendMessage(JSON.stringify({type:"roomActionPlaceTiles",clientId:window.clientId,mahjong:t,message:e,swapJoker:n.swapJoker}))},this.addBot=function(e){this.sendMessage(JSON.stringify({type:"roomActionAddBot",clientId:window.clientId,botName:e}))},this.setNickname=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.clientId;this.sendMessage(JSON.stringify({type:"roomActionChangeNickname",clientId:window.clientId,nickname:e,targetId:t}))},this.getCurrentRoom=function(){this.sendMessage(JSON.stringify({type:"getCurrentRoom",clientId:window.clientId}))}.bind(this),this.revertState=function(e){this.sendMessage(JSON.stringify({type:"roomActionRevertState",message:e,clientId:window.clientId}))}.bind(this),this.createRoomFromState=function(e){this.sendMessage(JSON.stringify({type:"createRoomFromState",saveId:e,clientId:window.clientId}))}.bind(this),this.getState=function(e){console.log("Getting state..."),this.sendMessage(JSON.stringify({type:"roomActionState",clientId:window.clientId}))},this.callServerSave=function(e,t){this.sendMessage(JSON.stringify({type:"callServerSave",auth:e,saveName:t})),console.warn("You will need to manually kill the server on reboot and reload from save. ")},this.messageAllServerClients=function(e,t,n){this.sendMessage(JSON.stringify({type:"messageAllServerClients",auth:e,title:t,body:n}))};var r=function(e){"success"===e.status&&(this.inRoom=e.message,this.isHost=!0),this.onCreateRoom instanceof Function&&this.onCreateRoom(e)}.bind(this),i=function(e){"success"===e.status&&(this.inRoom=e.message),this.onJoinRoom instanceof Function&&this.onJoinRoom(e)}.bind(this),a=function(e){"success"===e.status&&(this.inRoom=!1,this.isHost=!1,!0===this.inGame&&(this.inGame=!1,c({status:"success",message:"State Sync"}))),this.onLeaveRoom instanceof Function&&this.onLeaveRoom(e)}.bind(this),u={onStartGame:[],onEndGame:[],onStateUpdate:[]};this.addEventListener=function(e,t){if(!u[e])throw e+" is not supported by this addEventListener";u[e].push(t)}.bind(this),this.removeEventListener=function(e,t){if(!u[e])throw e+" is not supported by this addEventListener";if(-1===u.indexOf(t))throw"Unable to find listener";u[e].splice(u.indexOf(t),1)}.bind(this);var s=function(e){"success"===e.status&&(this.inGame=!0),this.onStartGame instanceof Function&&this.onStartGame(e),u.onStartGame.forEach((function(t){t(e)}))}.bind(this),c=function(e){"success"===e.status&&(this.inGame=!1),this.onEndGame instanceof Function&&this.onEndGame(e),u.onEndGame.forEach((function(t){t(e)}))}.bind(this),l=function(e){this.lastState=e,this.isHost=e.message.isHost,!1===this.inGame&&!0===e.message.inGame?s({status:"success",message:"State Sync"}):!0===this.inGame&&!1===e.message.inGame&&c({status:"success",message:"State Sync"}),this.currentTurn=e.message.currentTurn,this.onStateUpdate instanceof Function&&this.onStateUpdate(e),u.onStateUpdate.forEach((function(t){t(e)}))}.bind(this),h=function(e){this.inRoom=e.message||!1,this.inRoom&&(i(e),this.getState(this.inRoom))}.bind(this)}var t,n,r;return t=e,r=[{key:"setClientId",value:function(e){window.clientId=e,localStorage.setItem("clientId",window.clientId);var t=new URLSearchParams("?"+window.location.hash.slice(1));t.has("clientId")&&(window.clientId=t.get("clientId"))}},{key:"createNewClientId",value:function(){return"user"+Math.random()*Math.pow(2,53)}},{key:"getClientId",value:function(){var t=localStorage.getItem("clientId");return null===t&&(t=e.createNewClientId()),t}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}();a.setClientId(a.getClientId()),e.exports=a},function(e,t,n){"use strict";var r=n(65).forEach,o=n(82)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(8),o=n(114);e.exports=function(e,t,n){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(e,a),e}},function(e,t,n){"use strict";var r=n(14),o=n(60),i=n(13);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:o(s,n);c>u;)t[u++]=e;return t}},function(e,t,n){var r=n(18),o=n(59).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(24),o=n(14),i=n(40),a=n(13),u=function(e){return function(t,n,u,s){r(n);var c=o(t),l=i(c),h=a(c.length),f=e?h-1:0,p=e?-1:1;if(u<2)for(;;){if(f in l){s=l[f],f+=p;break}if(f+=p,e?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:h>f;f+=p)f in l&&(s=n(s,l[f],f,c));return s}};e.exports={left:u(!1),right:u(!0)}},function(e,t,n){n(100);var r={"2020 National Mahjongg League":n(188),"2021 National Mahjongg League":n(200)},o=Object.keys(r);Object.defineProperty(r,"Other Card - Bots Use Random Card",{get:function(){return r[o[Math.floor(Math.random()*o.length)]]}}),e.exports=r},function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(31),n(67),n(68),n(25),n(69),n(32),n(22),n(37),n(101),n(15),n(93);var i=n(9),a=[];a=(a=(a=(a=(a=(a=(a=(a=(a=a.concat(n(191))).concat(n(192))).concat(n(193))).concat(n(194))).concat(n(195))).concat(n(196))).concat(n(197))).concat(n(198))).concat(n(199)),a=i.outputExpander(a);var u=[];u.push.apply(u,r(i.createTiles({type:"bamboo",value:1,amount:2}))),u.push.apply(u,r(i.createTiles({type:"bamboo",value:2,amount:2}))),u.push.apply(u,r(i.createTiles({type:"bamboo",value:3,amount:2}))),u.push.apply(u,r(i.createTiles({type:"joker",value:"",amount:8}))),console.time("Calc"),console.log(i.getTileDifferential(a,u)),console.timeEnd("Calc"),console.log(a),e.exports=a},function(e,t,n){"use strict";var r=n(1),o=n(149),i=n(14),a=n(13),u=n(24),s=n(86);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=i(this),r=a(n.length);return u(e),(t=s(n,0)).length=o(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},function(e,t,n){n(48)("flatMap")},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=r.allSuits,a=(r.allSuitArrangements,r.oddOptions),u=r.evenOptions,s=(r.allOptions,r.dragonOptions),c=r.dragonArrangments;r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:"wind",value:"east",amount:3})),n.push(o({type:"wind",value:"west",amount:3})),n.push(o({type:"wind",value:"south",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:1})),n.push(o({type:"wind",value:"east",amount:1})),n.push(o({type:"wind",value:"west",amount:1})),n.push(o({type:"wind",value:"south",amount:1})),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"dragon",value:t[0],amount:4})),n.push(o({type:"dragon",value:t[1],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:"wind",value:"south",amount:4})),i.forEach((function(e){n.push(o({type:e,value:t,amount:2}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"east",amount:4})),n.push(o({type:"wind",value:"west",amount:4})),i.forEach((function(e){n.push(o({type:e,value:t,amount:2}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:2})),n.push(o({type:"wind",value:"east",amount:3})),n.push(o({type:"wind",value:"west",amount:3})),n.push(o({type:"wind",value:"south",amount:2})),n.push(o({type:"dragon",value:t,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:"wind",value:"south",amount:4}))})),i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"wind",value:"east",amount:4})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:"wind",value:"west",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"wind",value:"north",amount:3})),n.push(o({type:"wind",value:"east",amount:3})),n.push(o({type:"wind",value:"west",amount:3})),n.push(o({type:"wind",value:"south",amount:3}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Winds and Dragons",n}))},function(e,t,n){n(5),n(4),n(15);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions),s=(r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){[0,4].forEach((function(n){var r=[];e.push(r),r.push(o({type:t,value:1+n,amount:2})),r.push(o({type:t,value:2+n,amount:2})),r.push(o({type:t,value:3+n,amount:3})),r.push(o({type:t,value:4+n,amount:3})),r.push(o({type:t,value:5+n,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-2).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:4})),r.push(o({type:n[0],value:t,amount:4})),r.push(o({type:n[1],value:1+t,amount:2})),r.push(o({type:n[2],value:2+t,amount:4}))})),i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:4})),r.push(o({type:n,value:t,amount:4})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-3).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:3})),r.push(o({type:n[0],value:1+t,amount:3})),r.push(o({type:n[1],value:2+t,amount:4})),r.push(o({type:n[1],value:3+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-2).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n,value:t,amount:3})),r.push(o({type:n,value:1+t,amount:4})),r.push(o({type:n,value:2+t,amount:3})),r.push(o({type:"dragon",value:s[n],amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-4).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:2})),r.push(o({type:n[0],value:1+t,amount:2})),r.push(o({type:n[0],value:2+t,amount:2})),r.push(o({type:n[1],value:3+t,amount:4})),r.push(o({type:n[2],value:4+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-3).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:4})),r.push(o({type:n,value:t,amount:1})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:3})),r.push(o({type:n,value:3+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-2).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:3})),r.push(o({type:n[0],value:1+t,amount:2})),r.push(o({type:n[0],value:2+t,amount:3})),r.push(o({type:"dragon",value:s[n[1]],amount:3})),r.push(o({type:"dragon",value:s[n[2]],amount:3}))}))})),{tiles:e,score:30,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-2).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:3})),r.push(o({type:n[0],value:1+t,amount:3})),r.push(o({type:n[1],value:t,amount:3})),r.push(o({type:n[1],value:1+t,amount:3})),r.push(o({type:n[2],value:2+t,amount:2}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Consecutive Run",n}))},function(e,t,n){n(5),n(4),n(15);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions),s=r.dragonOptions;r.dragonArrangments,r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){u.forEach((function(n){s.forEach((function(r){var i=[];e.push(i),i.push(o({type:"dragon",value:r,amount:4})),i.push(o({type:t,value:n,amount:5})),i.push(o({type:"flower",value:"4",amount:5}))}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-2).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:2})),r.push(o({type:n[0],value:1+t,amount:2})),r.push(o({type:n[1],value:2+t,amount:5})),r.push(o({type:n[2],value:2+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n,value:t,amount:5})),r.push(o({type:n,value:2+t,amount:4})),r.push(o({type:n,value:4+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-3).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n,value:t,amount:5})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:2})),r.push(o({type:n,value:3+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Quints",n}))},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions),s=(r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),i.forEach((function(e){n.push(o({type:e,value:t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:2})),r.push(o({type:n[0],value:t,amount:4})),r.push(o({type:"dragon",value:s[n[0]],amount:2})),r.push(o({type:n[1],value:t,amount:4})),r.push(o({type:"dragon",value:s[n[1]],amount:2}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:5})),r.push(o({type:n[0],value:t,amount:2})),r.push(o({type:n[1],value:t,amount:3})),r.push(o({type:n[2],value:t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Any Like Numbers",n}))},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:4})),n.push(o({type:t,value:2,amount:1})),n.push(o({type:t,value:4,amount:2})),n.push(o({type:t,value:6,amount:3})),n.push(o({type:t,value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:t[0],value:4,amount:2})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[1],value:8,amount:3})),n.push(o({type:"dragon",value:u[t[2]],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:2,amount:4})),n.push(o({type:t,value:4,amount:4})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:3})),n.push(o({type:t[0],value:4,amount:3})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[1],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:4})),n.push(o({type:t[0],value:4,amount:4})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[2],value:2,amount:1})),n.push(o({type:t[2],value:4,amount:1}))})),a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:4})),n.push(o({type:t[0],value:6,amount:4})),n.push(o({type:t[1],value:8,amount:4})),n.push(o({type:t[2],value:4,amount:1})),n.push(o({type:t[2],value:8,amount:1}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:t[0],value:4,amount:3})),n.push(o({type:t[1],value:4,amount:2})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[2],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"dragon",value:u[t],amount:4})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:t,value:4,amount:3})),n.push(o({type:t,value:6,amount:3})),n.push(o({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t[0],value:2,amount:3})),n.push(o({type:t[0],value:8,amount:3})),n.push(o({type:t[1],value:4,amount:3})),n.push(o({type:t[1],value:6,amount:3}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2468",n}))},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements;r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:t[1],value:2,amount:4})),n.push(o({type:t[2],value:2,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:"dragon",value:"green",amount:4})),n.push(o({type:"dragon",value:"red",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:5})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:t[1],value:2,amount:3})),n.push(o({type:t[2],value:2,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:2})),n.push(o({type:"wind",value:"east",amount:3})),n.push(o({type:"wind",value:"west",amount:3})),n.push(o({type:"wind",value:"south",amount:2})),n.push(o({type:"dragon",value:"white",amount:2})),n.push(o({type:t,value:2,amount:2}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2020",n}))},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:1,amount:2})),n.push(o({type:t,value:3,amount:2})),n.push(o({type:t,value:5,amount:3})),n.push(o({type:t,value:7,amount:3})),n.push(o({type:t,value:9,amount:4}))})),a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:1,amount:2})),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[1],value:5,amount:3})),n.push(o({type:t[1],value:7,amount:3})),n.push(o({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:4})),n.push(o({type:t[0],value:3,amount:4})),n.push(o({type:t[1],value:5,amount:4})),n.push(o({type:t[2],value:1,amount:1})),n.push(o({type:t[2],value:5,amount:1}))})),a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:4})),n.push(o({type:t[0],value:5,amount:4})),n.push(o({type:t[1],value:7,amount:4})),n.push(o({type:t[2],value:3,amount:1})),n.push(o({type:t[2],value:5,amount:1}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:1,amount:3})),n.push(o({type:t[0],value:3,amount:3})),n.push(o({type:t[1],value:3,amount:4})),n.push(o({type:t[1],value:5,amount:4}))})),a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:5,amount:3})),n.push(o({type:t[0],value:7,amount:3})),n.push(o({type:t[1],value:7,amount:4})),n.push(o({type:t[1],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:1,amount:4})),n.push(o({type:t[1],value:3,amount:2})),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[2],value:3,amount:2})),n.push(o({type:t[0],value:5,amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:5,amount:4})),n.push(o({type:t[1],value:7,amount:2})),n.push(o({type:t[0],value:7,amount:2})),n.push(o({type:t[2],value:7,amount:2})),n.push(o({type:t[0],value:9,amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"dragon",value:u[n],amount:4})),r.push(o({type:n,value:t,amount:3})),r.push(o({type:n,value:t+2,amount:4})),r.push(o({type:n,value:t+4,amount:3}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t[0],value:1,amount:1})),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[0],value:5,amount:3})),n.push(o({type:t[1],value:5,amount:1})),n.push(o({type:t[1],value:7,amount:2})),n.push(o({type:t[1],value:9,amount:3}))})),{tiles:e,score:35,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="13579",n}))},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:3})),n.push(o({type:t[0],value:6,amount:3})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[1],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[3,6,9].forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:3,amount:2})),r.push(o({type:n[0],value:6,amount:2})),r.push(o({type:n[0],value:9,amount:2})),r.push(o({type:n[1],value:t,amount:4})),r.push(o({type:n[2],value:t,amount:4}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:3,amount:3})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:9,amount:3})),n.push(o({type:"dragon",value:u[t],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[0],value:6,amount:3})),n.push(o({type:t[1],value:3,amount:2})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t,value:3,amount:4})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:9,amount:4}))})),a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t[0],value:3,amount:4})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t[0],value:3,amount:1})),n.push(o({type:t[0],value:6,amount:2})),n.push(o({type:t[0],value:9,amount:3})),n.push(o({type:t[1],value:3,amount:1})),n.push(o({type:t[1],value:6,amount:2})),n.push(o({type:t[1],value:9,amount:3}))})),{tiles:e,score:35,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="369",n}))},function(e,t,n){n(5),n(4),n(15);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions),s=(r.dragonOptions,r.dragonArrangments,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-2).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"wind",value:"north",amount:2})),r.push(o({type:"wind",value:"east",amount:2})),r.push(o({type:"wind",value:"west",amount:2})),r.push(o({type:"wind",value:"south",amount:2})),r.push(o({type:n,value:t,amount:2})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-4).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:2})),r.push(o({type:"dragon",value:s[n],amount:2})),r.push(o({type:n,value:t,amount:2})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:2})),r.push(o({type:n,value:3+t,amount:2})),r.push(o({type:n,value:4+t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-1).forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:i[0],value:t,amount:2})),n.push(o({type:i[0],value:1+t,amount:2})),n.push(o({type:i[1],value:t,amount:2})),n.push(o({type:i[1],value:1+t,amount:2})),n.push(o({type:i[2],value:t,amount:2})),n.push(o({type:i[2],value:1+t,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t[0],value:2,amount:1})),n.push(o({type:t[0],value:4,amount:1})),n.push(o({type:t[0],value:6,amount:1})),n.push(o({type:t[0],value:8,amount:1})),n.push(o({type:"dragon",value:s[t[0]],amount:2})),n.push(o({type:t[1],value:2,amount:1})),n.push(o({type:t[1],value:4,amount:1})),n.push(o({type:t[1],value:6,amount:1})),n.push(o({type:t[1],value:8,amount:1})),n.push(o({type:"dragon",value:s[t[1]],amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[0],value:6,amount:1})),n.push(o({type:t[1],value:3,amount:2})),n.push(o({type:t[1],value:6,amount:2})),n.push(o({type:t[1],value:9,amount:1})),n.push(o({type:t[2],value:3,amount:2})),n.push(o({type:t[2],value:6,amount:2})),n.push(o({type:t[2],value:9,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:1,amount:2})),n.push(o({type:t[0],value:3,amount:1})),n.push(o({type:t[0],value:5,amount:1})),n.push(o({type:t[0],value:7,amount:1})),n.push(o({type:t[0],value:9,amount:2})),n.push(o({type:t[1],value:1,amount:2})),n.push(o({type:t[1],value:3,amount:1})),n.push(o({type:t[1],value:5,amount:1})),n.push(o({type:t[1],value:7,amount:1})),n.push(o({type:t[1],value:9,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"dragon",value:"white",amount:4})),n.push(o({type:"wind",value:"north",amount:1})),n.push(o({type:"wind",value:"east",amount:1})),n.push(o({type:"wind",value:"west",amount:1})),n.push(o({type:"wind",value:"south",amount:1})),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:t[1],value:2,amount:2}))})),{tiles:e,score:85,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Singles and Pairs",n}))},function(e,t,n){n(31);var r=n(9),o=[];o=(o=(o=(o=(o=(o=(o=(o=(o=o.concat(n(201))).concat(n(202))).concat(n(203))).concat(n(204))).concat(n(205))).concat(n(206))).concat(n(207))).concat(n(208))).concat(n(209)),o=r.outputExpander(o),console.log(o),e.exports=o},function(e,t,n){n(5),n(4),n(15);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions),s=(r.dragonOptions,r.dragonArrangments,r.windOptions);r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){u.forEach((function(n){s.forEach((function(r){var i=[];e.push(i),i.push(o({type:"wind",value:r,amount:5})),i.push(o({type:t,value:n,amount:4})),i.push(o({type:"flower",value:"4",amount:5}))}))}))})),{tiles:e,score:40,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-3).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:5})),r.push(o({type:n[1],value:1+t,amount:2})),r.push(o({type:n[1],value:2+t,amount:2})),r.push(o({type:n[0],value:3+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-2).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:5})),r.push(o({type:n[1],value:1+t,amount:4})),r.push(o({type:n[2],value:2+t,amount:5}))}))})),u.slice(0,-2).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n,value:t,amount:5})),r.push(o({type:n,value:1+t,amount:4})),r.push(o({type:n,value:2+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-1).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:2})),r.push(o({type:n[0],value:1+t,amount:5})),r.push(o({type:n[1],value:t,amount:2})),r.push(o({type:n[1],value:1+t,amount:5}))}))})),{tiles:e,score:45,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Quints",n}))},function(e,t,n){n(5),n(4),n(15);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions),s=(r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){[0,4].forEach((function(n){var r=[];e.push(r),r.push(o({type:t,value:1+n,amount:2})),r.push(o({type:t,value:2+n,amount:3})),r.push(o({type:t,value:3+n,amount:4})),r.push(o({type:t,value:4+n,amount:3})),r.push(o({type:t,value:5+n,amount:2}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-3).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:3})),r.push(o({type:n[0],value:1+t,amount:4})),r.push(o({type:n[1],value:2+t,amount:3})),r.push(o({type:n[1],value:3+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-3).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n,value:t,amount:1})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:3})),r.push(o({type:n,value:3+t,amount:4})),r.push(o({type:"dragon",value:s[n],amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-2).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:5})),r.push(o({type:n,value:t,amount:2})),r.push(o({type:n,value:1+t,amount:3})),r.push(o({type:n,value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-2).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:2})),r.push(o({type:n[0],value:t,amount:4})),r.push(o({type:n[1],value:1+t,amount:4})),r.push(o({type:n[2],value:2+t,amount:4}))})),i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:2})),r.push(o({type:n,value:t,amount:4})),r.push(o({type:n,value:1+t,amount:4})),r.push(o({type:n,value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-2).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:2})),r.push(o({type:n[0],value:1+t,amount:3})),r.push(o({type:n[1],value:0+t,amount:2})),r.push(o({type:n[1],value:1+t,amount:3})),r.push(o({type:n[2],value:2+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-3).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:2})),r.push(o({type:n[0],value:1+t,amount:2})),r.push(o({type:n[0],value:2+t,amount:2})),r.push(o({type:n[1],value:3+t,amount:4})),r.push(o({type:n[2],value:3+t,amount:4}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u.slice(0,-1).forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:2})),r.push(o({type:n[0],value:0+t,amount:3})),r.push(o({type:n[0],value:1+t,amount:3})),r.push(o({type:"dragon",value:s[n[1]],amount:3})),r.push(o({type:"dragon",value:s[n[2]],amount:3}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Consecutive Run",n}))},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:1,amount:2})),n.push(o({type:t,value:3,amount:3})),n.push(o({type:t,value:5,amount:4})),n.push(o({type:t,value:7,amount:3})),n.push(o({type:t,value:9,amount:2}))})),a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:1,amount:2})),n.push(o({type:t[0],value:3,amount:3})),n.push(o({type:t[1],value:5,amount:4})),n.push(o({type:t[2],value:7,amount:3})),n.push(o({type:t[2],value:9,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:2})),r.push(o({type:n,value:0+t,amount:2})),r.push(o({type:n,value:2+t,amount:3})),r.push(o({type:n,value:4+t,amount:4})),r.push(o({type:"dragon",value:u[n],amount:3}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:3})),r.push(o({type:n[0],value:2+t,amount:4})),r.push(o({type:n[1],value:2+t,amount:4})),r.push(o({type:n[1],value:4+t,amount:3}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:2})),r.push(o({type:n[0],value:2+t,amount:3})),r.push(o({type:n[1],value:2+t,amount:3})),r.push(o({type:n[1],value:4+t,amount:2})),r.push(o({type:"dragon",value:u[n[2]],amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:4})),r.push(o({type:n,value:0+t,amount:4})),r.push(o({type:n,value:2+t,amount:2})),r.push(o({type:n,value:4+t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1].forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:2})),r.push(o({type:n[0],value:2+t,amount:2})),r.push(o({type:n[0],value:4+t,amount:2})),r.push(o({type:n[1],value:6+t,amount:4})),r.push(o({type:n[2],value:8+t,amount:4}))}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[1,5].forEach((function(t){a.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:0+t,amount:3})),r.push(o({type:n[0],value:2+t,amount:3})),r.push(o({type:n[1],value:0+t,amount:3})),r.push(o({type:n[1],value:2+t,amount:3})),r.push(o({type:n[2],value:4+t,amount:2}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="13579",n}))},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=(r.allSuits,r.allSuitArrangements),a=(r.oddOptions,r.evenOptions,r.allOptions),u=(r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:2})),r.push(o({type:n[0],value:t,amount:4})),r.push(o({type:n[1],value:t,amount:4})),r.push(o({type:"wind",value:"north",amount:1})),r.push(o({type:"wind",value:"east",amount:1})),r.push(o({type:"wind",value:"west",amount:1})),r.push(o({type:"wind",value:"south",amount:1}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:4})),r.push(o({type:n[0],value:t,amount:4})),r.push(o({type:n[1],value:t,amount:2})),r.push(o({type:n[2],value:t,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:n[0],value:t,amount:3})),r.push(o({type:"dragon",value:u[n[0]],amount:4})),r.push(o({type:n[1],value:t,amount:3})),r.push(o({type:"dragon",value:u[n[1]],amount:4}))}))})),{tiles:e,score:25,concealed:!1}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Any Like Numbers",n}))},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions),s=(r.allOptions,r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:4})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:t,value:4,amount:3})),n.push(o({type:t,value:6,amount:3})),n.push(o({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:3})),n.push(o({type:t[0],value:4,amount:4})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[1],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"dragon",value:s[t],amount:4})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:t,value:4,amount:2})),n.push(o({type:t,value:6,amount:3})),n.push(o({type:t,value:8,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t[0],value:2,amount:4})),n.push(o({type:t[1],value:4,amount:2})),n.push(o({type:t[1],value:6,amount:2})),n.push(o({type:t[0],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:3})),n.push(o({type:t[0],value:4,amount:3})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[2],value:8,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:2,amount:4})),n.push(o({type:t,value:4,amount:4})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:8,amount:2}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t[0],value:2,amount:1})),n.push(o({type:t[0],value:4,amount:1})),n.push(o({type:t[0],value:6,amount:1})),n.push(o({type:t[0],value:8,amount:1})),n.push(o({type:"dragon",value:s[t[1]],amount:4})),n.push(o({type:"dragon",value:s[t[2]],amount:4}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){u.forEach((function(n){var r=[];e.push(r),r.push(o({type:t[0],value:2,amount:3})),r.push(o({type:t[0],value:4,amount:1})),r.push(o({type:t[0],value:6,amount:1})),r.push(o({type:t[0],value:8,amount:3})),r.push(o({type:t[1],value:n,amount:3})),r.push(o({type:t[2],value:n,amount:3}))}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2468",n}))},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements;r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t[0],value:2,amount:2})),n.push(o({type:"dragon",value:"white",amount:1})),n.push(o({type:t[0],value:1,amount:1})),n.push(o({type:t[1],value:2,amount:4})),n.push(o({type:t[2],value:1,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:2,amount:3})),n.push(o({type:"dragon",value:"white",amount:4})),n.push(o({type:t[1],value:2,amount:3})),n.push(o({type:t[1],value:1,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:4})),n.push(o({type:"dragon",value:"white",amount:4})),n.push(o({type:t,value:2,amount:4})),n.push(o({type:t,value:2,amount:1})),n.push(o({type:t,value:1,amount:1}))})),{tiles:e,score:30,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:3})),n.push(o({type:"wind",value:"east",amount:2})),n.push(o({type:"wind",value:"west",amount:2})),n.push(o({type:"wind",value:"south",amount:3})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:"dragon",value:"white",amount:1})),n.push(o({type:t,value:1,amount:1}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="2021",n}))},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=r.oddOptions,s=r.evenOptions,c=(r.allOptions,r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:"wind",value:"east",amount:3})),n.push(o({type:"wind",value:"west",amount:3})),n.push(o({type:"wind",value:"south",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){u.forEach((function(n){var r=[];e.push(r),r.push(o({type:"wind",value:"north",amount:3})),r.push(o({type:"wind",value:"south",amount:3})),r.push(o({type:t[0],value:n,amount:2})),r.push(o({type:t[1],value:n,amount:2})),r.push(o({type:t[2],value:n,amount:4}))})),s.forEach((function(n){var r=[];e.push(r),r.push(o({type:"wind",value:"east",amount:3})),r.push(o({type:"wind",value:"west",amount:3})),r.push(o({type:t[0],value:n,amount:2})),r.push(o({type:t[1],value:n,amount:2})),r.push(o({type:t[2],value:n,amount:4}))}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:4})),n.push(o({type:"wind",value:"north",amount:3})),n.push(o({type:"wind",value:"east",amount:2})),n.push(o({type:"wind",value:"west",amount:2})),n.push(o({type:"wind",value:"south",amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"dragon",value:"red",amount:4})),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:"wind",value:"south",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[0].forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"dragon",value:"green",amount:4})),n.push(o({type:"wind",value:"east",amount:4})),n.push(o({type:"wind",value:"west",amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"wind",value:"north",amount:4})),n.push(o({type:"wind",value:"south",amount:4})),n.push(o({type:"dragon",value:"white",amount:1})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:t,value:1,amount:1}))})),i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"wind",value:"east",amount:4})),n.push(o({type:"wind",value:"west",amount:4})),n.push(o({type:"dragon",value:"white",amount:1})),n.push(o({type:t,value:2,amount:2})),n.push(o({type:t,value:1,amount:1}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"wind",value:"north",amount:3})),n.push(o({type:"wind",value:"east",amount:1})),n.push(o({type:"wind",value:"west",amount:1})),n.push(o({type:"wind",value:"south",amount:3})),n.push(o({type:"dragon",value:c[t[0]],amount:3})),n.push(o({type:"dragon",value:c[t[1]],amount:3}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Winds and Dragons",n}))},function(e,t,n){n(5),n(4);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions,r.allOptions,r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion);e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:3})),n.push(o({type:t[0],value:6,amount:4})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[1],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:t,value:3,amount:3})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:9,amount:3})),n.push(o({type:"dragon",value:u[t],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:4})),n.push(o({type:t[0],value:6,amount:4})),n.push(o({type:t[1],value:9,amount:3})),n.push(o({type:t[2],value:9,amount:3}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:5})),n.push(o({type:t,value:3,amount:2})),n.push(o({type:t,value:6,amount:3})),n.push(o({type:t,value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:2})),n.push(o({type:t[0],value:6,amount:2})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[1],value:9,amount:3})),n.push(o({type:"dragon",value:u[t[2]],amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t,value:3,amount:4})),n.push(o({type:t,value:6,amount:4})),n.push(o({type:t,value:9,amount:4}))})),a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t[0],value:3,amount:4})),n.push(o({type:t[1],value:6,amount:4})),n.push(o({type:t[2],value:9,amount:4}))})),{tiles:e,score:25,concealed:!1}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:t[0],value:3,amount:3})),n.push(o({type:t[0],value:6,amount:3})),n.push(o({type:t[1],value:3,amount:3})),n.push(o({type:t[1],value:6,amount:3})),n.push(o({type:t[2],value:9,amount:2}))})),{tiles:e,score:30,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="369",n}))},function(e,t,n){n(5),n(4),n(15);var r=n(9),o=r.createTiles,i=r.allSuits,a=r.allSuitArrangements,u=(r.oddOptions,r.evenOptions),s=r.allOptions;r.dragonOptions,r.dragonArrangments,r.windOptions,r.suitDragonConversion;e.exports=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:"wind",value:"north",amount:2})),n.push(o({type:"wind",value:"east",amount:1})),n.push(o({type:"wind",value:"west",amount:1})),n.push(o({type:"wind",value:"south",amount:2})),i.forEach((function(e){n.push(o({type:e,value:t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){[0,4].forEach((function(n){var r=[];e.push(r),r.push(o({type:t[0],value:n+1,amount:2})),r.push(o({type:t[0],value:n+3,amount:1})),r.push(o({type:t[1],value:n+1,amount:2})),r.push(o({type:t[1],value:n+3,amount:2})),r.push(o({type:t[1],value:n+5,amount:1})),r.push(o({type:t[2],value:n+1,amount:2})),r.push(o({type:t[2],value:n+3,amount:2})),r.push(o({type:t[2],value:n+5,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.slice(0,-5).forEach((function(t){i.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:2})),r.push(o({type:n,value:t,amount:2})),r.push(o({type:n,value:1+t,amount:2})),r.push(o({type:n,value:2+t,amount:2})),r.push(o({type:n,value:3+t,amount:2})),r.push(o({type:n,value:4+t,amount:2})),r.push(o({type:n,value:5+t,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){u.forEach((function(n){var r=[];e.push(r),r.push(o({type:"flower",value:"4",amount:2})),r.push(o({type:t[0],value:2,amount:2})),r.push(o({type:t[0],value:4,amount:2})),r.push(o({type:t[0],value:6,amount:2})),r.push(o({type:t[0],value:8,amount:2})),r.push(o({type:t[1],value:n,amount:2})),r.push(o({type:t[2],value:n,amount:2}))}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),n.push(o({type:t[1],value:3,amount:2})),n.push(o({type:t[1],value:6,amount:2})),n.push(o({type:t[1],value:9,amount:2})),n.push(o({type:t[2],value:3,amount:2})),n.push(o({type:t[2],value:6,amount:2})),n.push(o({type:t[2],value:9,amount:2}))})),{tiles:e,score:50,concealed:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.forEach((function(t){var n=[];e.push(n),n.push(o({type:"flower",value:"4",amount:2})),i.forEach((function(e){n.push(o({type:e,value:2,amount:2})),n.push(o({type:e,value:1,amount:1})),n.push(o({type:"dragon",value:"white",amount:1}))}))})),{tiles:e,score:75,concealed:!0}}].map((function(e,t){var n=e();return n.cardIndex=t,n.section="Singles and Pairs",n}))},function(e,t,n){var r=n(3),o=n(148);e.exports=function(e){return r((function(){return!!o[e]()||"​᠎"!="​᠎"[e]()||o[e].name!==e}))}},function(e,t,n){"use strict";n.r(t);n(109),n(78),n(19),n(84),n(31),n(122),n(25),n(32),n(22),n(37),n(172),n(220),n(139);var r,o=n(218);function i(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}try{if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)||navigator.userAgent.indexOf("Trident/")>-1){var a=document.createElement("h2");a.innerHTML="Internet Explorer is NOT Supported. Choose a different browser (Chrome, Firefox, Edge, Safari, Opera, and most other browsers should work)",document.body.insertBefore(a,document.body.firstChild)}}catch(e){console.error(e)}if("serviceWorker"in navigator)try{navigator.serviceWorker.register("packagedsw.js")}catch(e){console.error(e)}if(document.title="Mahjong 4 Friends - Free Multiplayer Mahjong",window.isAndroid=!1,document.referrer&&document.referrer.includes("android-app://com.mahjong4friends.twa")&&(window.isAndroid=!0),window.Capacitor)try{(r=regeneratorRuntime.mark((function e(){var t,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=1.2,e.prev=1,window.HTTP=n(238).HTTP,e.next=5,HTTP.get("https://itunes.apple.com/lookup?bundleId=com.mahjong4friends.twa",{},{});case 5:return r=e.sent,e.next=8,JSON.parse(r.data);case 8:o=e.sent,t=o.results[0].version,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.warn("Potential Error fetching latest version code",e.t0);case 15:return e.next=17,window.Capacitor.Plugins.Device.getInfo();case 17:i=e.sent,a=i.appVersion,parseFloat(a)<parseFloat(t)&&new(n(159).Notification)("App Update","There is a Mahjong 4 Friends <a href='https://apps.apple.com/us/app/mahjong-4-friends/id1552704332' target='_blank'>app update</a>. Downloading it is recommended. You may experience minor issues if you do not update. ").show();case 20:case"end":return e.stop()}}),e,null,[[1,12]])})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))})()}catch(e){console.error(e)}n(160);[16,24,32,64,96,160,196].forEach((function(e){var t=document.createElement("link");t.rel="shortcut icon",t.type="image/png",t.sizes=e+"x"+e,t.href="assets/icons/".concat(e,"x").concat(e,"-green-dragon.png"),document.head.appendChild(t)}));var u=n(181);(0,n(221).polyfill)({dragImageTranslateOverride:o.scrollBehaviourDragImageTranslateOverride});var s=new URL(window.location.origin+window.location.pathname);s.pathname="/node","https:"===window.location.protocol?s.protocol="wss:":s.protocol="ws:",("127.0.0.1"===window.location.hostname||window.location.hostname.startsWith("192.168.1")||window.location.hostname.startsWith("10."))&&(s.port=7591);var c=s.toString();window.isNative&&(c="wss://mahjong4friends.com/node"),window.stateManager=new u(c),["Hand","Tile","Sequence","Pretty","Match","Wall","Popups"].forEach((function(e){window[e]=n(222)("./"+e+".js")}));n(213),n(212);function l(){document.documentElement.style.setProperty("--vh","".concat(window.innerHeight/100,"px")),document.documentElement.style.setProperty("--vw","".concat(window.innerWidth/100,"px"));var e=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--sal"));e-=10,document.documentElement.style.setProperty("--shiftPercentageLeft","".concat(Math.max(0,e/window.innerWidth)));var t=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--sar"));t-=10,document.documentElement.style.setProperty("--shiftPercentageRight","".concat(Math.max(0,t/window.innerWidth)))}window.addEventListener("resize",l),window.addEventListener("orientationchange",l),l(),window.addEventListener("touchmove",(function(){}),{passive:!1})},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(4),n(118),n(31),n(131),n(117),n(130),n(89),n(19),n(84),n(5),n(66),n(78),n(15),n(91),n(67),n(68),n(25),n(69),n(32),n(22),n(37);var o=n(17),i=n(76),a=n(77),u=n(159),s=(n(54),n(43),document.createElement("div"));function c(e){var t=document.createElement("div");return t.id=e,s.appendChild(t),t}function l(e,t){var n=c(e),r=document.createElement("div");return r.id=t,n.appendChild(r),r}s.id="gameBoard",document.body.appendChild(s);var h=new function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.id=e.id||"compass",this.compass=document.createElement("img"),this.compass.id=e.id,s.appendChild(this.compass),this.setDirectionForUserWind=function(e){this.compass.src="assets/compass-"+e+".svg"}}({id:"compass"});var f=new function(e){if(!document.fullscreenEnabled&&document.webkitFullscreenEnabled&&(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.webkitFullscreenElement}}),document.documentElement.requestFullscreen=function(){document.documentElement.webkitRequestFullScreen()},document.exitFullscreen=function(){document.webkitExitFullscreen()},document.addEventListener("webkitfullscreenchange",(function(){document.dispatchEvent(new Event("fullscreenchange"))}))),void 0!==document.fullscreenElement){this.toggleElement=document.createElement("img"),this.toggleElement.id=e,this.toggleElement.title="Toggle Full Screen",this.toggleElement.addEventListener("click",(function(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()}));var t=function(){document.fullscreenElement?this.toggleElement.src="assets/exit-full-screen.svg":this.toggleElement.src="assets/go-full-screen.svg"}.bind(this);document.addEventListener("fullscreenchange",t),t()}}("fullscreenControls");f.toggleElement&&s.appendChild(f.toggleElement);var p=document.createElement("img");p.src="assets/reload-icon.svg",p.id="syncButton",p.title="Sync (Reload)",s.appendChild(p),p.addEventListener("click",(function(){window.location.reload()})),window.Tile=o,window.Sequence=n(54),window.Match=n(43);var d=function(){var e=document.createElement("div");return e.id="tilePlacemat",e}();s.appendChild(d);var v=document.createElement("button");v.id="revertStateButton",v.innerHTML="Revert",s.appendChild(v),v.addEventListener("click",(function(){var e=prompt("How many moves (4 moves per turn) would you like to revert? You can always revert more if needed, but can't undo a revert. ");null!==e&&confirm("Are you sure you would like to revert the game state? Other players will be notified, so you should clear the revert with them. ")&&window.stateManager.revertState(e)}));var m=document.createElement("button");m.id="swapJokerButton",m.innerHTML="Swap Joker",s.appendChild(m),m.addEventListener("click",(function(){if(1===L.inPlacemat.length){var e,t=document.createElement("div"),n=document.createElement("p");n.innerHTML="Who would you like to try and swap with?",t.appendChild(n),stateManager.lastState.message.clients.forEach((function(n,r){var o=document.createElement("button");o.innerHTML=n.nickname,o.className="swapJokerOptionMenuButton",n.id===window.clientId&&(o.innerHTML+=" (You)"),t.appendChild(o),o.addEventListener("click",(function(){window.stateManager.placeTiles(L.inPlacemat,!1,{swapJoker:n.id}),e.dismiss()}))})),(e=new u.Notification("Swap Tile For Joker",t)).show()}else new u.Notification("Error With Swap","You must have exactly one tile in your placemat to swap - act like you are going to discard the tile, but hit Swap Joker instead of proceed. ").show()}));var g=document.createElement("button");g.id="proceedButton",g.innerHTML="Proceed",s.appendChild(g),g.addEventListener("click",(function(){var e=L.inPlacemat;e.length!==Number(e.some((function(e){return e.evicting})))?(console.log(e),window.stateManager.placeTiles(e)):window.stateManager.placeTiles([])})),window.stateManager.onPlaceTiles=function(e){"error"===e.status&&new u.Notification("Error Placing Tiles",e.message).show()};var y=document.createElement("button");y.id="hintButton",y.innerHTML="Suggested Hands",s.appendChild(y),y.addEventListener("click",(function(){var e;try{var t=stateManager.lastState.message.settings.card;if("Other Card - Bots Use Random Card"===t)e=new u.Notification("Suggested Hands","This card does not support Suggested Hands. ");else if(stateManager.lastState.message.settings.disableHints)e=new u.Notification("Suggested Hands","The host has disabled Suggested Hands. ");else{var r=n(187),o=n(9),i=r[t],a=o.getTileDifferential(i,L.contents);if(0===a.length)e=new u.Notification("No Hands Found"," - Your hand might be dead<br> - You might have selected the wrong card. <br> - Bots might only support a portion of your card");else{var s=document.createElement("div"),c=document.createElement("p");c.innerHTML="(Sorted by Bot - Scroll to see more)",s.appendChild(c);var l=document.createElement("table");a.forEach((function(e,t){if(t<100){var n=document.createElement("tr");l.appendChild(n);var r=document.createElement("td");r.innerHTML="".concat(e.handOption.section," #").concat(e.handOption.cardIndex++," - ").concat(e.diff," Tiles Away (").concat(e.handOption.concealed?"C":"X",")"),n.appendChild(r);var o=document.createElement("tr");l.appendChild(o),e.handOption.tiles.flat().forEach((function(e){var t=document.createElement("img");t.src=e.imageUrl,o.appendChild(t)}))}})),s.appendChild(l),l.className="suggestedHandsTable",console.log(s),e=new u.Notification("Suggested Hands",s)}}}catch(t){console.error(t),e=new u.Notification("Suggested Hands","There was an error displaying suggested hands. Sorry. ")}e.show()})),console.log(y);var w=document.createElement("div");w.id="instructionBubble",w.style.display="none",s.appendChild(w),window.stateManager.addEventListener("onStateUpdate",(function(e){w.style.display="",w.innerHTML=e.message.instructions.split("\n").join("<br>")})),window.stateManager.onGameplayAlert=function(e){var t,n,r=document.createElement("audio"),o=[];e.message.includes("thrown")?r.volume=.5:e.message.includes("mahjong")&&(r.volume=1,o=["tiles-dropping-table.mp3"]),o.length>0&&(r.src="assets/sounds/"+o[Math.floor(Math.random()*o.length)],r.setAttribute("preload","auto"),r.setAttribute("controls","none"),r.style.display="none",document.body.appendChild(r),r.play(),setTimeout((function(){r.remove()}),2e3)),console.log(e),console.log(e.message);var i=new u.BlocklessAlert(e.message,4e3*((null==e||null===(t=e.status)||void 0===t?void 0:t.durationMultiplier)||1),{optional:null==e||null===(n=e.status)||void 0===n?void 0:n.optional});console.log(i),i.onStart.then((function(){var t,n;if(window.voiceChoices[null==e||null===(t=e.status)||void 0===t?void 0:t.clientId]&&null!=e&&null!==(n=e.status)&&void 0!==n&&n.speech){var r=new SpeechSynthesisUtterance(e.status.speech),o=window.voiceChoices[e.status.clientId].get();if(console.log(window.voiceChoices[e.status.clientId]),console.log(window.voiceChoices[e.status.clientId].get()),console.log(o),"string"!=typeof o)try{r.voice=o}catch(e){console.error(e)}"none"!==o&&speechSynthesis.speak(r)}}))};var b=document.createElement("button");b.id="endGameButton",s.appendChild(b);var E=document.createElement("button");E.id="newGameNoLobbyButton",E.innerHTML="New Game",s.appendChild(E);var S=!0;b.addEventListener("click",(function(){"Leave Room"!==b.innerHTML&&S&&!confirm("Are you absolutely sure you want to end the game?")||window.stateManager.endGame()})),E.addEventListener("click",(function(){b.click(),document.getElementById("startGameButton").click()}));var x=document.createElement("button");x.id="goMahjongButton",x.innerHTML="Mahjong",s.appendChild(x),x.addEventListener("click",(function(){var e=L.inPlacemat;console.log(e),window.stateManager.placeTiles(e,{mahjong:!0})}));var T=document.createElement("div");T.id="wallAndDiscardContainer",s.appendChild(T);var O=document.createElement("div");O.id="wall",T.appendChild(O);var C=document.createElement("div");C.id="discardPile",T.appendChild(C);var k=c("userHand"),L=(c("userHandExposed"),new i({handToRender:k,handForExposed:userHandExposed,interactive:!0,tilePlacemat:d}));window.userHand=L;var M=l("rightHand","rightHandContainer"),A=new i({handToRender:M}),P=c("topHand"),I=new i({handToRender:P}),j=l("leftHand","leftHandContainer"),N=new i({handToRender:j}),R=["bottomNametag","rightNametag","topNametag","leftNametag"].map((function(e){var t=document.createElement("p");return t.id=e,s.appendChild(t),t})),D=!0,_=!1;function F(){I.renderTiles(),N.renderTiles(),A.renderTiles(),L.renderTiles()}window.stateManager.addEventListener("onStateUpdate",(function(e){var t,n,c,l,f;window.stateManager.isHost?E.style.display="":E.style.display="none",s.className=null==e||null===(t=e.message)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.gameStyle;var p=e.message;if(S=!p.isGameOver,!p.inGame)return document.body.style.overflow="",void(_=!1);document.body.style.overflow="hidden",void 0!==p.wallTiles&&("object"===r(p.wallTiles)?p.wallTiles=i.convertStringsToTiles(p.wallTiles):p.wallTiles=new Array(p.wallTiles).fill(new o({faceDown:!0})),a.renderWall(O,p.wallTiles)),p.discardPile&&function(e){for(;C.firstChild;)C.firstChild.remove();var t=e.map((function(e){return o.fromJSON(e)}));(t=i.sortTiles(t)).forEach((function(e){var t,n,r,o,i=document.createElement("img");i.src=e.imageUrl,i.title=e.getTileName(null===(t=stateManager)||void 0===t||null===(n=t.lastState)||void 0===n||null===(r=n.message)||void 0===r||null===(o=r.settings)||void 0===o?void 0:o.gameStyle),C.appendChild(i)}))}(p.discardPile);var d,v=p.clients,y=["north","east","south","west"],w=[L,A,I,N];v.forEach((function(e){if(e.hand){var t;console.log("User hand stuff");var n=i.fromString(e.hand);L.syncContents(n.contents,_&&(null==p||null===(t=p.currentTurn)||void 0===t?void 0:t.charleston)),d=n.wind}})),null!=p&&null!==(c=p.currentTurn)&&void 0!==c&&c.charleston&&(_=!0);var T=y.indexOf(d),k=y.slice(T).concat(y.slice(0,T));if(d?(h.setDirectionForUserWind(d),b.innerHTML="End Game"):(h.setDirectionForUserWind(k[0]),b.innerHTML="Leave Room",D&&(new u.MessageBar("You are spectating (message will close automatically)").show(1e4),D=!1)),console.log(k),console.log(w),v.forEach((function(e){var t=0;e.wind&&(t=k.indexOf(e.wind));var n=w[t];e.visibleHand&&e.wind&&(n.syncContents(i.convertStringsToTiles(e.visibleHand)),n.wind=e.wind);var r=R[t];r.innerHTML=e.nickname,r.style.color="",n.handToRender.classList.remove("brightnessPulse"),p.currentTurn&&e.id===p.currentTurn.userTurn&&(n.handToRender.classList.add("brightnessPulse"),r.style.color="red")})),w.forEach((function(e){var t;e.renderTiles(null==p||null===(t=p.currentTurn)||void 0===t?void 0:t.lastDrawn)})),m.disabled="",(null===(l=p.currentTurn)||void 0===l||null===(f=l.playersReady)||void 0===f?void 0:f.length)>0){var M=p.currentTurn.playersReady.includes(window.clientId);g.disabled=M?"disabled":"",x.disabled=M?"disabled":"",m.disabled="disabled",g.innerHTML="Proceed ("+p.currentTurn.playersReady.length+"/4)",p.currentTurn.thrown||p.currentTurn.charleston||p.currentTurn.userTurn!==clientId||(g.disabled=""),p.currentTurn.charleston&&p.currentTurn.userTurn!==clientId&&(x.disabled="disabled"),p.currentTurn.userTurn!==clientId?L.setEvictingThrownTile(o.fromJSON(p.currentTurn.thrown)):L.setEvictingThrownTile(),L.renderPlacemat("")}else g.disabled="",x.disabled="",g.innerHTML="Proceed",L.setEvictingThrownTile(),p.currentTurn.charleston&&(x.disabled="disabled"),p.currentTurn.userTurn===window.clientId?(L.renderPlacemat("pending"),m.disabled=""):(m.disabled="disabled",p.currentTurn.charleston||(g.disabled="disabled",x.disabled="disabled"));g.disabled||p.isGameOver?g.classList.remove("scaleAnimation"):g.classList.add("scaleAnimation"),p.isGameOver&&(g.innerHTML="View Scores")})),g.addEventListener("click",(function(){g.style.animation="none",setTimeout((function(){g.style.animation=""}),100)})),document.addEventListener("keyup",(function(e){var t=["q","w","e","r","t","y","u","i","o","p","a","s","d","f"];if(stateManager.inGame)if("Space"===e.code&&e.shiftKey)x.click();else if("Space"===e.code)g.click();else if(Number(e.key)>0&&Number(e.key)<5){var n=Number(e.key)-1;L.moveTile(L.inPlacemat[n])}else if(t.includes(e.key.toLowerCase())){var r=t.indexOf(e.key.toLowerCase()),i=L.contents.filter((function(e){return e instanceof o}));L.moveTile(i[r])}})),window.addEventListener("resize",F),window.addEventListener("orientationchange",F),window.addEventListener("scroll",(function(e){window.stateManager.inGame&&window.scrollTo(0,0)})),e.exports=s},function(e,t,n){n(122),n(25),n(32),n(22),n(37),n(15),n(155),n(19),n(84),n(4),n(93),n(118),n(78);var r=n(159),o=n(214),i=n(223),a=document.createElement("div");a.id="roomManager",document.body.appendChild(a);var u=document.createElement("div");u.id="heading",a.appendChild(u);var s=document.createElement("h1");s.innerHTML="Mahjong",s.id="mahjongHeading",u.appendChild(s);var c=document.createElement("h1");c.innerHTML="4 Friends",c.id="fourFriendsHeading",u.appendChild(c);var l=document.createElement("div");l.id="notInRoomContainer",a.appendChild(l);var h=document.createElement("input");h.id="roomIdInput",h.placeholder="Enter Room Name...",l.appendChild(h),l.appendChild(document.createElement("br"));var f=document.createElement("input");f.id="nicknameInput",f.placeholder="Choose a Nickname...",l.appendChild(f);var p=new URLSearchParams(window.location.hash.slice(1));p.has("roomId")&&(h.value=p.get("roomId")),p.has("name")&&(f.value=p.get("name")),p.has("fakeNative")&&("android"===p.get("fakeNative")?window.isAndroid=!0:"ios"===p.get("fakeNative")?window.Capacitor=!0:console.error("fakeNative set and invalid"));var d=document.createElement("div");d.id="joinOrCreateRoom",l.appendChild(d);var v=document.createElement("button");v.id="joinRoom",v.innerHTML="Join Room",v.addEventListener("click",(function(){if(0===h.value.trim().length)return new r.Notification("Room Name Invalid",'The room name contains at least one character. Please enter it into the box labeled "Enter Room Name" ').show();window.stateManager.joinRoom(h.value.toLowerCase(),f.value)})),d.appendChild(v);var m=document.createElement("button");m.id="createRoom",m.innerHTML="Create Room",m.addEventListener("click",(function(){if(0===h.value.trim().length)return new r.Notification("Unable to Create Room",'Please pick a 1+ character long name, and enter it into the box labeled "Enter Room Name" ').show();window.stateManager.createRoom(h.value.toLowerCase(),f.value)})),d.appendChild(m),d.appendChild(document.createElement("br"));var g=document.createElement("button");if(g.id="singlePlayerGame",g.innerHTML="Single Player",g.addEventListener("click",(function(){var e=h.value.trim()||"sp-"+Math.floor(1e10*Math.random()),t=f.value||"Player 1";window.stateManager.createRoom(e,t),window.stateManager.addBot("Bot 1"),window.stateManager.addBot("Bot 2"),window.stateManager.addBot("Bot 3")})),d.appendChild(g),window.Capacitor)try{window.screen.orientation.lock("landscape")}catch(e){console.error(e)}var y=document.createElement("p");function w(e){var t,n,r=null===(t=window.screen)||void 0===t||null===(n=t.orientation)||void 0===n?void 0:n.type;(r?r.includes("portrait"):90!==Math.abs(window.orientation))&&screen.width<900?y.style.display="":y.style.display="none"}y.id="screenRotationAlert",y.innerHTML="Rotating your screen to Landscape mode is recommended. ",l.appendChild(y),window.addEventListener("orientationchange",w),w();var b=document.createElement("div");b.id="inRoomContainer",b.style.display="none",a.appendChild(b);var E=document.createElement("h2");E.id="currentRoom",b.appendChild(E);var S=document.createElement("h2");S.id="playerCount",b.appendChild(S);var x=document.createElement("div");x.id="playerView",b.appendChild(x);var T=document.createElement("button");T.innerHTML="Leave Room",T.id="leaveRoomButton",b.appendChild(T),T.addEventListener("click",(function(){confirm("Are you sure you want to leave this room?")&&window.stateManager.leaveRoom(window.stateManager.roomId)}));var O=document.createElement("button");O.innerHTML="Close Room",O.id="closeRoomButton",O.style.display="none",b.appendChild(O),O.addEventListener("click",(function(){confirm("Are you sure you want to close this room?")&&window.stateManager.closeRoom(window.stateManager.roomId)}));var C,k=document.createElement("button");k.innerHTML="Start Game",k.id="startGameButton",k.style.display="none",b.appendChild(k),k.addEventListener("click",(function(){window.stateManager.startGame(C.getChoices())}));var L=document.createElement("button");L.innerHTML="Add Bot",L.id="addBotButton",L.style.display="none",b.appendChild(L),L.addEventListener("click",(function(){var e=prompt("Please enter a name for the bot: ");window.stateManager.addBot(e)}));var M=document.createElement("div");M.id="gameSettingsElem",b.appendChild(M);var A=document.createElement("div");A.id="inviteYourFriendsElem",b.appendChild(A);var P=document.createElement("div");P.id="inviteYourFriendsDiv",A.appendChild(P);var I=document.createElement("h2");I.innerHTML="Invite Players to Join This Game!",P.appendChild(I);var j=document.createElement("p");j.id="joinRoomLinkElem",j.innerHTML="Share the link: <br>";var N=document.createElement("a");N.target="_blank",j.appendChild(N),P.appendChild(j);var R=document.createElement("img");R.id="QRImageElement",A.appendChild(R);var D=document.createElement("a");D.target="_blank",D.href="https://drive.google.com/file/d/1aGyekkldVouVY2Hy7SXTTvhS7I5X6o8O/view",D.id="tutorialLink",D.innerHTML="Mahjong 4 Friends Tutorial",a.appendChild(D),a.appendChild(document.createElement("br"));var _=document.createElement("a");_.target="_blank",_.href="https://docs.google.com/document/d/1sSGxlRHMkWYHjYhxJTLvHoFsVPAgSs7DFRpsZLmgIvc/edit#heading=h.t7shfpx0qwex",_.id="documentationLink",_.innerHTML="See Full Documentation",a.appendChild(_);var F=document.createElement("p");if(F.id="supportInfo",F.innerHTML="Questions, Comments, or Concerns? Contact <a href='mailto:support@mahjong4friends.com'>support@mahjong4friends.com</a>",a.appendChild(F),window.Capacitor||window.isAndroid){var H=document.createElement("p");H.id="supportInfo",window.Capacitor?H.innerHTML='Enjoying Mahjong 4 Friends? Please <a href="https://apps.apple.com/us/app/mahjong-4-friends/id1552704332" target="_blank">rate us in the App Store</a>!':window.isAndroid&&(H.innerHTML='Enjoying Mahjong 4 Friends? Please <a href="https://play.google.com/store/apps/details?id=com.mahjong4friends.twa" target="_blank">leave a review on Google Play</a>!'),a.appendChild(H)}else{var B=function(e,t,n){var r=document.createElement("a");r.href=e,r.target="_blank";var o=document.createElement("img");o.src=t,o.alt=n,r.appendChild(o),U.appendChild(r)},U=document.createElement("div");U.id="externalAppStoresDiv",a.appendChild(U),B("https://apps.apple.com/us/app/mahjong-4-friends/id1552704332","assets/badges/appstore.svg","Get Mahjong 4 Friends on the App Store"),B("https://play.google.com/store/apps/details?id=com.mahjong4friends.twa","assets/badges/googleplay.svg","Get Mahjong 4 Friends on Google Play")}var J=document.createElement("div");setTimeout((function(){stateManager.inRoom.includes("fbtest")&&(J.innerHTML+='<iframe sandbox="allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox" src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FMahjong-4-Friends-103233541852386&tabs=timeline&width=500&height=500&small_header=true&adapt_container_width=true&hide_cover=true&show_facepile=true&appId" width="500" height="500" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>')}),2e3),a.appendChild(J);var G=document.createElement("p");G.innerHTML="Copyright © 2020, All Rights Reserved",G.id="copyrightNotice",a.appendChild(G),speechSynthesis.getVoices();var q={};function V(){var e=document.createElement("select"),t=speechSynthesis.getVoices();console.log(t);var n=document.createElement("option");n.value="none",n.innerHTML="No Voice",n.selected=!0,e.appendChild(n);var r=document.createElement("option");r.value="default",r.innerHTML="Default Voice",e.appendChild(r),t.forEach((function(t,n){var r=document.createElement("option");r.value=n,r.innerHTML=t.lang+"("+t.name+")",e.appendChild(r)})),this.elem=e,this.get=function(){return t[Number(e.value)]||e.value},this.set=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";e.value=n,-1!==t.indexOf(n)&&(e.value=t.indexOf(n))}}function Y(){b.style.display="block",l.style.display="none";var e="#roomId="+stateManager.inRoom;N.href=e,window.isNative&&(N.href="https://mahjong4friends.com"+e),N.innerHTML=N.href;try{var t=i(0,"H");t.addData(N.href),t.make();var n=document.createElement("canvas");n.width=n.height=12*t.getModuleCount();var r=n.getContext("2d");t.renderTo2dContext(r,12);var o=document.createElement("canvas");o.width=o.height=n.width+48;var a=o.getContext("2d");a.fillStyle="white",a.fillRect(0,0,o.width,o.height),a.drawImage(n,24,24);var u=document.createElement("img");u.src="assets/tiles/dragons/green.png",u.addEventListener("load",(function(){var e=.3*o.width,t=u.width,n=u.height,r=Math.max(1,Math.max(t,n)/e);t/=r,n/=r;var i=o.width/2-t/2,s=o.height/2-n/2;a.fillRect(i-12,s-12,t+24,n+24),a.drawImage(u,i,s,t,n),R.src=o.toDataURL("image/png"),R.width=R.height=o.width/4})),R.src=o.toDataURL("image/png"),R.width=R.height=o.width/4}catch(e){console.error(e)}}window.voiceChoices=q;var z=!0;window.stateManager.onJoinRoom=function(e){if("error"===e.status)return new r.Notification("Unable to Join Room",e.message).show();z&&p.has("roomId")&&p.get("roomId")!==e.message&&(new r.Notification("Room Restored","You followed a link to room "+p.get("roomId")+", but were already in room "+e.message+". Your room has been restored - to join a new room, leave your current one. ").show(),z=!1),E.innerHTML="You are in room "+e.message,Y()},window.stateManager.onCreateRoom=function(e){if("error"===e.status)return new r.Notification("Unable to Create Room",e.message).show();E.innerHTML="You are hosting room "+e.message,Y()},window.stateManager.onLeaveRoom=function(e){b.style.display="none",l.style.display="block";var t=n(181);t.setClientId(t.createNewClientId()),"You closed the room. "!==e.message&&"You left the room. "!==e.message&&new r.Notification("Out of Room",e.message).show()},window.stateManager.addEventListener("onStateUpdate",(function(e){var t;S.innerHTML=e.message.clients.length+"/4 Players are Present";var n=null===(t=C)||void 0===t?void 0:t.getChoices();window.stateManager.isHost?(k.style.display="none",L.style.display="",O.style.display="",T.style.display="",(C=new o(M,!0)).setChoices(n),1===e.message.clients.length?T.style.display="none":e.message.clients.length>=4&&(k.style.display="",L.style.display="none")):(L.style.display="none",O.style.display="none",k.style.display="none",T.style.display="",(C=new o(M,!1)).setChoices(n)),window.gameSettings=C,function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;x.firstChild;)x.firstChild.remove();e.forEach((function(e){var n=document.createElement("div");n.classList.add("playerViewRow");var r=document.createElement("span");r.classList.add("playerViewNameSpan"),r.innerHTML=e.nickname,n.appendChild(r);var o=document.createElement("span");o.classList.add("playerViewCard"),n.appendChild(o);var i=document.createElement("span");function a(t,n){t.classList.add("editableName");var o="Enter a new nickname for ".concat(e.nickname,": ");n===window.clientId&&(o="Enter a new nickname: "),r.addEventListener("click",(function(){var t=prompt(o);null!==t&&window.stateManager.setNickname(t,e.id)}))}if(i.classList.add("playerViewVoiceChoice"),n.appendChild(i),e.id===window.clientId)i.innerHTML="N/A",a(r,e.id),window.stateManager.isHost?o.innerHTML="You (Host)":o.innerHTML="You";else if(q[e.id]=q[e.id]||new V,i.appendChild(q[e.id].elem),e.isHost)o.innerHTML="Host";else if(window.stateManager.isHost){a(r,e.id);var u=document.createElement("button");u.innerHTML="Remove "+e.nickname,u.classList.add("playerViewKickButton"),u.addEventListener("click",(function(){confirm("Are you sure you want to remove "+e.nickname)&&t(e.id)})),o.appendChild(u)}else o.innerHTML="Player";x.appendChild(n)}))}(e.message.clients,(function(e){window.stateManager.kickUser(window.stateManager.roomId,e)}))})),window.stateManager.getCurrentRoom(),window.stateManager.addEventListener("onStartGame",(function(){a.style.display="none"})),window.stateManager.addEventListener("onEndGame",(function(e){a.style.display="","State Sync"!==e.message&&new r.Notification("Game Ended",e.message).show()})),e.exports=a},function(e,t,n){function r(e,t){var n=t.americanMahjongInfo,r=t.chineseMahjongInfo,o=document.createElement("div");o.id="gameStyleSelectorDiv",o.style.marginBottom="10px";var i=document.createElement("button");i.innerHTML="Chinese/British/HK Mahjong",i.value="chinese",i.id="selectChineseMahjong",o.appendChild(i);var a=document.createElement("button");a.innerHTML="American Mahjong",a.value="american",a.id="selectAmericanMahjong",o.appendChild(a);var u=[i,a];function s(t){for(var o in u.forEach((function(e){e.disabled=e===t?"disabled":""})),n.style.display="american"===t.value?"":"none",r.style.display="chinese"===t.value?"":"none",e){var i=e[o];!i.displayFor||i.displayFor.includes(t.value)?i.elem.style.display="":i.elem.style.display="none"}}u.forEach((function(e){e.addEventListener("click",(function(){s(e)}))})),this.elem=o,this.get=function(){for(var e=0;e<u.length;e++){var t=u[e];if(t.disabled)return t.value}},this.set=function(e){s("mustbeset"),u.forEach((function(t,n){t.value===e&&s(t)}))},this.isHost=!0}function o(){var e=document.createElement("div");e.id="checkForCallingSelectorDiv";var t=document.createElement("input");t.id="checkForCallingSelectorCheckbox",t.type="checkbox";var n=document.createElement("label");n.for="checkForCallingSelectorCheckbox",n.innerHTML="Check and Alert for Calling/Ready Hands",n.addEventListener("click",(function(){t.click()})),n.style.fontSize="1.4em",t.style.fontSize="1.4em",this.elem=e,e.appendChild(t),e.appendChild(n),this.get=function(){return t.checked},this.set=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.checked=e},this.displayFor=["chinese"],this.isHost=!0}function i(){var e=document.createElement("div");e.id="maximumSequencesSelectorDiv";var t=document.createElement("input");t.id="maximumSequencesSelector",t.type="number";var n=document.createElement("label");n.for="maximumSequencesSelector",n.innerHTML="Maximum Sequences: ",n.style.fontSize="1.4em",t.style.fontSize="1.4em",this.elem=e,e.appendChild(n),e.appendChild(t),this.get=function(){return t.value},this.set=function(e){t.value=null!=e?e:4},this.displayFor=["chinese"],this.isHost=!0}function a(){var e=document.createElement("div");e.id="botSelectorDiv";var t=document.createElement("input");t.id="botSelectorCheckbox",t.type="checkbox";var n=document.createElement("label");n.for="botSelectorCheckbox",n.innerHTML="Allow bot to charleston",n.addEventListener("click",(function(){t.click()})),n.style.fontSize="1.4em",t.style.fontSize="1.4em",this.elem=e,e.appendChild(t),e.appendChild(n),this.get=function(){return{canCharleston:t.checked}},this.set=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.checked=null!==(e=null==n?void 0:n.canCharleston)&&void 0!==e&&e},this.displayFor=["chinese"],this.isHost=!0}function u(){var e=document.createElement("div");e.style.marginBottom="5px";var t=document.createElement("select");t.style.fontSize="1.4em",["2021 National Mahjongg League","2020 National Mahjongg League","Other Card - Bots Use Random Card"].forEach((function(e,n){var r=document.createElement("option");r.value=e,r.innerHTML=e,t.appendChild(r)}));var n=document.createElement("label");n.innerHTML="Select Mahjong Card: ",n.style.fontSize="1.4em",this.elem=e,e.appendChild(n),e.appendChild(t),this.get=function(){return t.value},this.set=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2021 National Mahjongg League";t.value=e},this.displayFor=["american"],this.isHost=!0}function s(){var e=document.createElement("div");e.style.fontSize="1.4em";var t=document.createElement("input");t.type="range",t.min=0,t.max=100;var n=document.createElement("label");n.innerHTML="Bot Difficulty:  Medium";var r=document.createElement("label");r.innerHTML="Superhuman",this.elem=e,e.appendChild(n),e.appendChild(t),e.appendChild(r),this.get=function(){return t.value},this.set=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;t.value=e},this.displayFor=["american"],this.isHost=!0}n(154),n(100),n(4),n(19),n(84),e.exports=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.firstChild;)e.firstChild.remove();var n=document.createElement("h2");n.innerHTML="Game Settings",n.style.marginTop="0",n.style.marginBottom="0.5em",e.appendChild(n);var c=document.createElement("p");c.innerHTML='2021 Card Now Supported! Play with bots or friends (link and/or QR below!) You can play with any card you want - the selected card is only used for automated scoring and bots (which will still run, just on whichever card is selected). <br><br>Not all moves are validated - if you make a mistake, you can use the "Revert" button to undo it. ',c.style.fontSize="1.3em";var l=document.createElement("p");l.innerHTML="Most variants should be supported, although overrides may be needed, and you might need to score your own hands. Can't play your way? Have suggestions? Need different bots? Send an email to support@mahjong4friends.com!",l.style.fontSize="1.3em";var h={};Object.assign(h,{gameStyle:new r(h,{americanMahjongInfo:c,chineseMahjongInfo:l}),maximumSequences:new i,checkForCalling:new o,botSettings:new a,card:new u,americanBotDifficulty:new s});var f=!1;for(var p in h){var d=h[p];!d.isHost||t?(f=!0,e.appendChild(d.elem),d.set()):delete h[p]}e.style.display=f?"":"none",e.appendChild(c),e.appendChild(l),0===Object.keys(h).length&&n.remove(),this.getChoices=function(){var e={};for(var t in h)e[t]=h[t].get();try{localStorage.setItem("gameSettings",JSON.stringify(e))}catch(e){console.error(e)}return e},this.setChoices=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)h[t]&&h[t].set(e[t])},localStorage.getItem("gameSettings")&&this.setChoices(JSON.parse(localStorage.getItem("gameSettings")))}},,,function(e,t,n){"use strict";(function(e){function r(){if(void 0===e){var t="undefined"!=typeof window?window:{},n=Date.now(),r=!1;t.document.addEventListener("deviceready",(function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-n)+" ms"),r=!0})),setTimeout((function(){!r&&t.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")}),5e3)}}n.d(t,"a",(function(){return r}))}).call(this,n(158))},function(e,t,n){!function(e){"use strict";function t(e){return e===document.body||e===document.documentElement}function n(e,n){var r;if(t(e))r=0===n?e.clientLeft:e.clientTop;else{var o=e.getBoundingClientRect();r=0===n?o.left:o.top}return r}function r(e,n){return t(e)?0===n?window.innerWidth:window.innerHeight:0===n?e.clientWidth:e.clientHeight}function o(e,n,r){var o=0===n?"scrollLeft":"scrollTop",i=t(e);if(2===arguments.length)return i?document.body[o]||document.documentElement[o]:e[o];i?(document.documentElement[o]+=r,document.body[o]+=r):e[o]+=r}function i(e){var t=getComputedStyle(e);return e.scrollHeight>e.clientHeight&&("scroll"===t.overflowY||"auto"===t.overflowY)||e.scrollWidth>e.clientWidth&&("scroll"===t.overflowX||"auto"===t.overflowX)}function a(e,t,n){return e<n?-1:t-e<n?1:0}function u(e,t,n,r){return-1===e?Math.abs(t-r):1===e?Math.abs(n-t-r):0}function s(e,t,n){var r=0===e?n.scrollX:n.scrollY;return 1===t?r>=(0===e?n.scrollWidth-n.width:n.scrollHeight-n.height):-1!==t||r<=0}var c,l,h,f,p,d=75,v=function(e,t){var n=e/t;return n*n*n*t},m={horizontal:0,vertical:0},g={x:0,y:0};function y(){c||(c=window.requestAnimationFrame(w))}function w(){var e=0,n=0,r=t(f);0!==m.horizontal&&(e=Math.round(v(g.x,d)*m.horizontal),o(f,0,e)),0!==m.vertical&&(n=Math.round(v(g.y,d)*m.vertical),o(f,1,n)),r?p(e,n):p(0,0),c=null,b(l,f,d,m,g)&&y()}function b(e,t,i,c,l){if(!e||!t)return!1;var h={x:n(t,0),y:n(t,1),width:r(t,0),height:r(t,1),scrollX:o(t,0),scrollY:o(t,1),scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight},f={x:e.x-h.x,y:e.y-h.y};return c.horizontal=a(f.x,h.width,i),c.vertical=a(f.y,h.height,i),c.horizontal&&s(0,c.horizontal,h)?c.horizontal=0:c.horizontal&&(l.x=u(c.horizontal,f.x,h.width,i)),c.vertical&&s(1,c.vertical,h)?c.vertical=0:c.vertical&&(l.y=u(c.vertical,f.y,h.height,i)),!(!c.horizontal&&!c.vertical)}var E=function(e,t,n,r){l=t,p=r,h!==n&&(f=function(e){do{if(!e)return;if(i(e))return e;if(e===document.documentElement)return null}while(e=e.parentNode);return null}(h=n)),b(l,f,d,m,g)?y():c&&(window.cancelAnimationFrame(c),c=null)};e.scrollBehaviourDragImageTranslateOverride=E,Object.defineProperty(e,"__esModule",{value:!0})}(t)},,function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(3),a=n(127),u=RegExp.prototype,s=u.toString,c=i((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),l="toString"!=s.name;(c||l)&&r(RegExp.prototype,"toString",(function(){var e=o(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in u)?a.call(e):n)}),{unsafe:!0})},function(e,t,n){
/*! mobile-drag-drop 2.3.0-rc.1 | Copyright (c) 2019 Tim Ruffles | MIT License */
!function(e){"use strict";var t="dnd-poly-",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],r=["none","copy","move","link"],o=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}();function i(e){return e&&e.tagName}function a(e,t,n){void 0===n&&(n=!0),document.addEventListener(e,t,!!o&&{passive:n})}function u(e,t){document.removeEventListener(e,t)}function s(e,t,n,r){void 0===r&&(r=!1);var i=o?{passive:!0,capture:r}:r;return e.addEventListener(t,n,i),{off:function(){e.removeEventListener(t,n,i)}}}function c(e){return 0===e.length?0:e.reduce((function(e,t){return t+e}),0)/e.length}function l(e,t){for(var n=0;n<e.changedTouches.length;n++)if(e.changedTouches[n].identifier===t)return!0;return!1}function h(e,t,n){for(var r=[],o=[],i=0;i<t.touches.length;i++){var a=t.touches[i];r.push(a[e+"X"]),o.push(a[e+"Y"])}n.x=c(r),n.y=c(o)}var f=["","-webkit-"];function p(e,t,n,r,o){void 0===o&&(o=!0);var i=t.x,a=t.y;r&&(i+=r.x,a+=r.y),o&&(i-=parseInt(e.offsetWidth,10)/2,a-=parseInt(e.offsetHeight,10)/2);for(var u="translate3d("+i+"px,"+a+"px, 0)",s=0;s<f.length;s++){var c=f[s]+"transform";e.style[c]=u+" "+n[s]}}var d=function(){function e(e,t){this.t=e,this.i=t,this.s=r[0]}return Object.defineProperty(e.prototype,"dropEffect",{get:function(){return this.s},set:function(e){0!==this.t.mode&&n.indexOf(e)>-1&&(this.s=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){if(0!==this.t.mode)return Object.freeze(this.t.types)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectAllowed",{get:function(){return this.t.effectAllowed},set:function(e){2===this.t.mode&&n.indexOf(e)>-1&&(this.t.effectAllowed=e)},enumerable:!0,configurable:!0}),e.prototype.setData=function(e,t){if(2===this.t.mode){if(e.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.t.data[e]=t,-1===this.t.types.indexOf(e)&&this.t.types.push(e)}},e.prototype.getData=function(e){if(1===this.t.mode||2===this.t.mode)return this.t.data[e]||""},e.prototype.clearData=function(e){if(2===this.t.mode){if(e&&this.t.data[e]){delete this.t.data[e];var t=this.t.types.indexOf(e);return void(t>-1&&this.t.types.splice(t,1))}this.t.data={},this.t.types=[]}},e.prototype.setDragImage=function(e,t,n){2===this.t.mode&&this.i(e,t,n)},e}();function v(e,t){return e?e===n[0]?r[0]:0===e.indexOf(n[1])||e===n[7]?r[1]:0===e.indexOf(n[4])?r[3]:e===n[6]?r[2]:r[1]:3===t.nodeType&&"A"===t.tagName?r[3]:r[1]}function m(e,t,n,r,o,i,a){void 0===i&&(i=!0),void 0===a&&(a=null);var u=function(e,t,n,r,o,i,a){void 0===a&&(a=null);var u=t.changedTouches[0],s=new Event(n,{bubbles:!0,cancelable:r});s.dataTransfer=i,s.relatedTarget=a,s.screenX=u.screenX,s.screenY=u.screenY,s.clientX=u.clientX,s.clientY=u.clientY,s.pageX=u.pageX,s.pageY=u.pageY;var c=e.getBoundingClientRect();return s.offsetX=s.clientX-c.left,s.offsetY=s.clientY-c.top,s}(t,n,e,i,document.defaultView,o,a),s=!t.dispatchEvent(u);return r.mode=0,s}function g(e,t){if(!e||e===n[7])return t;if(t===r[1]){if(0===e.indexOf(r[1]))return r[1]}else if(t===r[3]){if(0===e.indexOf(r[3])||e.indexOf("Link")>-1)return r[3]}else if(t===r[2]&&(0===e.indexOf(r[2])||e.indexOf("Move")>-1))return r[2];return r[0]}var y,w=function(){function e(e,t,n,r){this.h=e,this.o=t,this.u=n,this.l=r,this.v=0,this.p=null,this.g=null,this.m=e,this.I=e.changedTouches[0],this.j=this.C.bind(this),this.S=this.k.bind(this),a("touchmove",this.j,!1),a("touchend",this.S,!1),a("touchcancel",this.S,!1)}return e.prototype.A=function(){var e=this;this.v=1,this.O=r[0],this.D={data:{},effectAllowed:void 0,mode:3,types:[]},this.M={x:null,y:null},this.F={x:null,y:null};var t=this.u;if(this.N=new d(this.D,(function(n,r,o){t=n,"number"!=typeof r&&"number"!=typeof o||(e.P={x:r||0,y:o||0})})),this.D.mode=2,this.N.dropEffect=r[0],m("dragstart",this.u,this.m,this.D,this.N))return this.v=3,this.T(),!1;h("page",this.m,this.F);var n,o=this.o.dragImageSetup(t);if(this.L=(n=o,f.map((function(e){var t=n.style[e+"transform"];return t&&"none"!==t?t.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""}))),o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style.zIndex="999999",o.classList.add("dnd-poly-drag-image"),o.classList.add("dnd-poly-icon"),this._=o,!this.P)if(this.o.dragImageOffset)this.P={x:this.o.dragImageOffset.x,y:this.o.dragImageOffset.y};else if(this.o.dragImageCenterOnTouch){var i=getComputedStyle(t);this.P={x:0-parseInt(i.marginLeft,10),y:0-parseInt(i.marginTop,10)}}else{var a=t.getBoundingClientRect();i=getComputedStyle(t),this.P={x:a.left-this.I.clientX-parseInt(i.marginLeft,10)+a.width/2,y:a.top-this.I.clientY-parseInt(i.marginTop,10)+a.height/2}}return p(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch),document.body.appendChild(this._),this.V=window.setInterval((function(){e.X||(e.X=!0,e.Y(),e.X=!1)}),this.o.iterationInterval),!0},e.prototype.T=function(){this.V&&(clearInterval(this.V),this.V=null),u("touchmove",this.j),u("touchend",this.S),u("touchcancel",this.S),this._&&(this._.parentNode.removeChild(this._),this._=null),this.l(this.o,this.m,this.v)},e.prototype.C=function(e){var t=this;if(!1!==l(e,this.I.identifier)){if(this.m=e,0===this.v){var n=void 0;if(this.o.dragStartConditionOverride)try{n=this.o.dragStartConditionOverride(e)}catch(e){n=!1}else n=1===e.touches.length;return n?void(!0===this.A()&&(this.h.preventDefault(),e.preventDefault())):void this.T()}if(e.preventDefault(),h("client",e,this.M),h("page",e,this.F),this.o.dragImageTranslateOverride)try{var r=!1;if(this.o.dragImageTranslateOverride(e,{x:this.M.x,y:this.M.y},this.p,(function(e,n){t._&&(r=!0,t.M.x+=e,t.M.y+=n,t.F.x+=e,t.F.y+=n,p(t._,t.F,t.L,t.P,t.o.dragImageCenterOnTouch))})),r)return}catch(e){}p(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch)}},e.prototype.k=function(e){if(!1!==l(e,this.I.identifier)){if(this.o.dragImageTranslateOverride)try{this.o.dragImageTranslateOverride(void 0,void 0,void 0,(function(){}))}catch(e){}0!==this.v?(e.preventDefault(),this.v="touchcancel"===e.type?3:2):this.T()}},e.prototype.Y=function(){var e=this,n=this.O;this.D.mode=3,this.N.dropEffect=r[0];var o=m("drag",this.u,this.m,this.D,this.N);if(o&&(this.O=r[0]),o||2===this.v||3===this.v)return this.q(this.v)?void function(e,t,n,r){var o=getComputedStyle(e);if("hidden"!==o.visibility&&"none"!==o.display){t.classList.add("dnd-poly-snapback");var i=getComputedStyle(t),a=parseFloat(i.transitionDuration);if(isNaN(a)||0===a)r();else{var u=e.getBoundingClientRect(),s={x:u.left,y:u.top};s.x+=document.body.scrollLeft||document.documentElement.scrollLeft,s.y+=document.body.scrollTop||document.documentElement.scrollTop,s.x-=parseInt(o.marginLeft,10),s.y-=parseInt(o.marginTop,10);var c=parseFloat(i.transitionDelay),l=Math.round(1e3*(a+c));p(t,s,n,void 0,!1),setTimeout(r,l)}}else r()}(this.u,this._,this.L,(function(){e.B()})):void this.B();var a=this.o.elementFromPoint(this.M.x,this.M.y),u=this.g;a!==this.p&&a!==this.g&&(this.p=a,null!==this.g&&(this.D.mode=3,this.N.dropEffect=r[0],m("dragexit",this.g,this.m,this.D,this.N,!1)),null===this.p?this.g=this.p:(this.D.mode=3,this.N.dropEffect=v(this.D.effectAllowed,this.u),m("dragenter",this.p,this.m,this.D,this.N)?(this.g=this.p,this.O=g(this.N.effectAllowed,this.N.dropEffect)):this.p!==document.body&&(this.g=document.body))),u!==this.g&&i(u)&&(this.D.mode=3,this.N.dropEffect=r[0],m("dragleave",u,this.m,this.D,this.N,!1,this.g)),i(this.g)&&(this.D.mode=3,this.N.dropEffect=v(this.D.effectAllowed,this.u),!1===m("dragover",this.g,this.m,this.D,this.N)?this.O=r[0]:this.O=g(this.N.effectAllowed,this.N.dropEffect)),n!==this.O&&this._.classList.remove(t+n);var s=t+this.O;this._.classList.add(s)},e.prototype.q=function(e){var t=this.O===r[0]||null===this.g||3===e;return t?i(this.g)&&(this.D.mode=3,this.N.dropEffect=r[0],m("dragleave",this.g,this.m,this.D,this.N,!1)):i(this.g)&&(this.D.mode=1,this.N.dropEffect=this.O,!0===m("drop",this.g,this.m,this.D,this.N)?this.O=this.N.dropEffect:this.O=r[0]),t},e.prototype.B=function(){this.D.mode=3,this.N.dropEffect=this.O,m("dragend",this.u,this.m,this.D,this.N,!1),this.v=2,this.T()},e}(),b={iterationInterval:150,tryFindDraggableTarget:function(e){var t=e.target;do{if(!1!==t.draggable){if(!0===t.draggable)return t;if(t.getAttribute&&"true"===t.getAttribute("draggable"))return t}}while((t=t.parentNode)&&t!==document.body)},dragImageSetup:function(e){var t=e.cloneNode(!0);return function e(t,n){if(1===t.nodeType){for(var r=getComputedStyle(t),o=0;o<r.length;o++){var i=r[o];n.style.setProperty(i,r.getPropertyValue(i),r.getPropertyPriority(i))}if(n.style.pointerEvents="none",n.removeAttribute("id"),n.removeAttribute("class"),n.removeAttribute("draggable"),"CANVAS"===n.nodeName){var a=t,u=n,s=a.getContext("2d").getImageData(0,0,a.width,a.height);u.getContext("2d").putImageData(s,0,0)}}if(t.hasChildNodes())for(o=0;o<t.childNodes.length;o++)e(t.childNodes[o],n.childNodes[o])}(e,t),t},elementFromPoint:function(e,t){return document.elementFromPoint(e,t)}};function E(e){if(!y){var t=b.tryFindDraggableTarget(e);if(t)try{y=new w(e,b,t,x)}catch(t){throw x(b,e,3),t}}}function S(e){var t=e.target,n=function(e){o.off(),i.off(),a.off(),u.off(),t&&t.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(r)};t&&t.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var r=window.setTimeout((function(){o.off(),i.off(),a.off(),u.off(),E(e)}),b.holdToDrag),o=s(t,"touchend",n),i=s(t,"touchcancel",n),a=s(t,"touchmove",n),u=s(window,"scroll",n,!0)}function x(e,t,n){if(0===n&&e.defaultActionOverride)try{e.defaultActionOverride(t),t.defaultPrevented}catch(e){}y=null}e.polyfill=function(e){if(e&&Object.keys(e).forEach((function(t){b[t]=e[t]})),!b.forceApply){var t=(n={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},r=!!window.chrome||/chrome/i.test(navigator.userAgent),n.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||r&&"ontouchstart"in document.documentElement),n);if(t.userAgentSupportingNativeDnD&&t.draggable&&t.dragEvents)return!1}var n,r;return b.holdToDrag?a("touchstart",S,!1):a("touchstart",E,!1),!0},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){var r={"./GameBoard.js":212,"./Hand.js":76,"./Hand/getClearHandDoubles.js":164,"./Hand/isCalling.js":166,"./Hand/isMahjong.js":165,"./Hand/score.js":163,"./Hand/syncContents.js":162,"./Match.js":43,"./Popups.js":159,"./Pretty.js":53,"./RoomManager.js":213,"./RoomManager/SettingsMenu.js":214,"./Sequence.js":54,"./StateManager.js":181,"./Tile.js":17,"./TileContainer.js":99,"./Wall.js":77,"./index.js":211,"./universalLinks.js":160};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=222},function(e,t,n){var r,o,i,a=function(){var e=function(e,t){var n=e,r=s[t],o=null,i=0,a=null,u=[],c={},l=function(e,t){o=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var r=0;r<e;r+=1)t[n][r]=null}return t}(i=4*n+17),h(0,0),h(i-7,0),h(0,i-7),p(),f(),v(e,t),n>=7&&d(e),null==a&&(a=y(n,r,u)),m(a,t)},h=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||i<=e+n))for(var r=-1;r<=7;r+=1)t+r<=-1||i<=t+r||(o[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},f=function(){for(var e=8;e<i-8;e+=1)null==o[e][6]&&(o[e][6]=e%2==0);for(var t=8;t<i-8;t+=1)null==o[6][t]&&(o[6][t]=t%2==0)},p=function(){for(var e=g.getPatternPosition(n),t=0;t<e.length;t+=1)for(var r=0;r<e.length;r+=1){var i=e[t],a=e[r];if(null==o[i][a])for(var u=-2;u<=2;u+=1)for(var s=-2;s<=2;s+=1)o[i+u][a+s]=-2==u||2==u||-2==s||2==s||0==u&&0==s}},d=function(e){for(var t=g.getBCHTypeNumber(n),r=0;r<18;r+=1){var a=!e&&1==(t>>r&1);o[Math.floor(r/3)][r%3+i-8-3]=a}for(r=0;r<18;r+=1){a=!e&&1==(t>>r&1);o[r%3+i-8-3][Math.floor(r/3)]=a}},v=function(e,t){for(var n=r<<3|t,a=g.getBCHTypeInfo(n),u=0;u<15;u+=1){var s=!e&&1==(a>>u&1);u<6?o[u][8]=s:u<8?o[u+1][8]=s:o[i-15+u][8]=s}for(u=0;u<15;u+=1){s=!e&&1==(a>>u&1);u<8?o[8][i-u-1]=s:u<9?o[8][15-u-1+1]=s:o[8][15-u-1]=s}o[i-8][8]=!e},m=function(e,t){for(var n=-1,r=i-1,a=7,u=0,s=g.getMaskFunction(t),c=i-1;c>0;c-=2)for(6==c&&(c-=1);;){for(var l=0;l<2;l+=1)if(null==o[r][c-l]){var h=!1;u<e.length&&(h=1==(e[u]>>>a&1)),s(r,c-l)&&(h=!h),o[r][c-l]=h,-1==(a-=1)&&(u+=1,a=7)}if((r+=n)<0||i<=r){r-=n,n=-n;break}}},y=function(e,t,n){for(var r=b.getRSBlocks(e,t),o=E(),i=0;i<n.length;i+=1){var a=n[i];o.put(a.getMode(),4),o.put(a.getLength(),g.getLengthInBits(a.getMode(),e)),a.write(o)}var u=0;for(i=0;i<r.length;i+=1)u+=r[i].dataCount;if(o.getLengthInBits()>8*u)throw"code length overflow. ("+o.getLengthInBits()+">"+8*u+")";for(o.getLengthInBits()+4<=8*u&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*u||(o.put(236,8),o.getLengthInBits()>=8*u));)o.put(17,8);return function(e,t){for(var n=0,r=0,o=0,i=new Array(t.length),a=new Array(t.length),u=0;u<t.length;u+=1){var s=t[u].dataCount,c=t[u].totalCount-s;r=Math.max(r,s),o=Math.max(o,c),i[u]=new Array(s);for(var l=0;l<i[u].length;l+=1)i[u][l]=255&e.getBuffer()[l+n];n+=s;var h=g.getErrorCorrectPolynomial(c),f=w(i[u],h.getLength()-1).mod(h);a[u]=new Array(h.getLength()-1);for(l=0;l<a[u].length;l+=1){var p=l+f.getLength()-a[u].length;a[u][l]=p>=0?f.getAt(p):0}}var d=0;for(l=0;l<t.length;l+=1)d+=t[l].totalCount;var v=new Array(d),m=0;for(l=0;l<r;l+=1)for(u=0;u<t.length;u+=1)l<i[u].length&&(v[m]=i[u][l],m+=1);for(l=0;l<o;l+=1)for(u=0;u<t.length;u+=1)l<a[u].length&&(v[m]=a[u][l],m+=1);return v}(o,r)};c.addData=function(e,t){var n=null;switch(t=t||"Byte"){case"Numeric":n=S(e);break;case"Alphanumeric":n=x(e);break;case"Byte":n=T(e);break;case"Kanji":n=O(e);break;default:throw"mode:"+t}u.push(n),a=null},c.isDark=function(e,t){if(e<0||i<=e||t<0||i<=t)throw e+","+t;return o[e][t]},c.getModuleCount=function(){return i},c.make=function(){if(n<1){for(var e=1;e<40;e++){for(var t=b.getRSBlocks(e,r),o=E(),i=0;i<u.length;i++){var a=u[i];o.put(a.getMode(),4),o.put(a.getLength(),g.getLengthInBits(a.getMode(),e)),a.write(o)}var s=0;for(i=0;i<t.length;i++)s+=t[i].dataCount;if(o.getLengthInBits()<=8*s)break}n=e}l(!1,function(){for(var e=0,t=0,n=0;n<8;n+=1){l(!0,n);var r=g.getLostPoint(c);(0==n||e>r)&&(e=r,t=n)}return t}())},c.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",n+='">',n+="<tbody>";for(var r=0;r<c.getModuleCount();r+=1){n+="<tr>";for(var o=0;o<c.getModuleCount();o+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=c.isDark(r,o)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},c.createSvgTag=function(e,t,n,r){var o={};"object"==typeof arguments[0]&&(e=(o=arguments[0]).cellSize,t=o.margin,n=o.alt,r=o.title),e=e||2,t=void 0===t?4*e:t,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-title":null;var i,a,u,s,l=c.getModuleCount()*e+2*t,h="";for(s="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",h+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',h+=o.scalable?"":' width="'+l+'px" height="'+l+'px"',h+=' viewBox="0 0 '+l+" "+l+'" ',h+=' preserveAspectRatio="xMinYMin meet"',h+=r.text||n.text?' role="img" aria-labelledby="'+C([r.id,n.id].join(" ").trim())+'"':"",h+=">",h+=r.text?'<title id="'+C(r.id)+'">'+C(r.text)+"</title>":"",h+=n.text?'<description id="'+C(n.id)+'">'+C(n.text)+"</description>":"",h+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',h+='<path d="',a=0;a<c.getModuleCount();a+=1)for(u=a*e+t,i=0;i<c.getModuleCount();i+=1)c.isDark(a,i)&&(h+="M"+(i*e+t)+","+u+s);return h+='" stroke="transparent" fill="black"/>',h+="</svg>"},c.createDataURL=function(e,t){e=e||2,t=void 0===t?4*e:t;var n=c.getModuleCount()*e+2*t,r=t,o=n-t;return L(n,n,(function(t,n){if(r<=t&&t<o&&r<=n&&n<o){var i=Math.floor((t-r)/e),a=Math.floor((n-r)/e);return c.isDark(a,i)?0:1}return 1}))},c.createImgTag=function(e,t,n){e=e||2,t=void 0===t?4*e:t;var r=c.getModuleCount()*e+2*t,o="";return o+="<img",o+=' src="',o+=c.createDataURL(e,t),o+='"',o+=' width="',o+=r,o+='"',o+=' height="',o+=r,o+='"',n&&(o+=' alt="',o+=C(n),o+='"'),o+="/>"};var C=function(e){for(var t="",n=0;n<e.length;n+=1){var r=e.charAt(n);switch(r){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=r}}return t};return c.createASCII=function(e,t){if((e=e||1)<2)return function(e){e=void 0===e?2:e;var t,n,r,o,i,a=1*c.getModuleCount()+2*e,u=e,s=a-e,l={"██":"█","█ ":"▀"," █":"▄","  ":" "},h={"██":"▀","█ ":"▀"," █":" ","  ":" "},f="";for(t=0;t<a;t+=2){for(r=Math.floor((t-u)/1),o=Math.floor((t+1-u)/1),n=0;n<a;n+=1)i="█",u<=n&&n<s&&u<=t&&t<s&&c.isDark(r,Math.floor((n-u)/1))&&(i=" "),u<=n&&n<s&&u<=t+1&&t+1<s&&c.isDark(o,Math.floor((n-u)/1))?i+=" ":i+="█",f+=e<1&&t+1>=s?h[i]:l[i];f+="\n"}return a%2&&e>0?f.substring(0,f.length-a-1)+Array(a+1).join("▀"):f.substring(0,f.length-1)}(t);e-=1,t=void 0===t?2*e:t;var n,r,o,i,a=c.getModuleCount()*e+2*t,u=t,s=a-t,l=Array(e+1).join("██"),h=Array(e+1).join("  "),f="",p="";for(n=0;n<a;n+=1){for(o=Math.floor((n-u)/e),p="",r=0;r<a;r+=1)i=1,u<=r&&r<s&&u<=n&&n<s&&c.isDark(o,Math.floor((r-u)/e))&&(i=0),p+=i?l:h;for(o=0;o<e;o+=1)f+=p+"\n"}return f.substring(0,f.length-1)},c.renderTo2dContext=function(e,t){t=t||2;for(var n=c.getModuleCount(),r=0;r<n;r++)for(var o=0;o<n;o++)e.fillStyle=c.isDark(r,o)?"black":"white",e.fillRect(r*t,o*t,t,t)},c};e.stringToBytes=(e.stringToBytesFuncs={default:function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t.push(255&r)}return t}}).default,e.createStringToBytes=function(e,t){var n=function(){for(var n=k(e),r=function(){var e=n.read();if(-1==e)throw"eof";return e},o=0,i={};;){var a=n.read();if(-1==a)break;var u=r(),s=r()<<8|r();i[String.fromCharCode(a<<8|u)]=s,o+=1}if(o!=t)throw o+" != "+t;return i}(),r="?".charCodeAt(0);return function(e){for(var t=[],o=0;o<e.length;o+=1){var i=e.charCodeAt(o);if(i<128)t.push(i);else{var a=n[e.charAt(o)];"number"==typeof a?(255&a)==a?t.push(a):(t.push(a>>>8),t.push(255&a)):t.push(r)}}return t}};var t,n,r,o=1,i=2,a=4,u=8,s={L:1,M:0,Q:3,H:2},c=0,l=1,h=2,f=3,p=4,d=5,v=6,m=7,g=(t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],r=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t},(n={}).getBCHTypeInfo=function(e){for(var t=e<<10;r(t)-r(1335)>=0;)t^=1335<<r(t)-r(1335);return 21522^(e<<10|t)},n.getBCHTypeNumber=function(e){for(var t=e<<12;r(t)-r(7973)>=0;)t^=7973<<r(t)-r(7973);return e<<12|t},n.getPatternPosition=function(e){return t[e-1]},n.getMaskFunction=function(e){switch(e){case c:return function(e,t){return(e+t)%2==0};case l:return function(e,t){return e%2==0};case h:return function(e,t){return t%3==0};case f:return function(e,t){return(e+t)%3==0};case p:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case d:return function(e,t){return e*t%2+e*t%3==0};case v:return function(e,t){return(e*t%2+e*t%3)%2==0};case m:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},n.getErrorCorrectPolynomial=function(e){for(var t=w([1],0),n=0;n<e;n+=1)t=t.multiply(w([1,y.gexp(n)],0));return t},n.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case o:return 10;case i:return 9;case a:case u:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case o:return 12;case i:return 11;case a:return 16;case u:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case o:return 14;case i:return 13;case a:return 16;case u:return 12;default:throw"mode:"+e}}},n.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r+=1)for(var o=0;o<t;o+=1){for(var i=0,a=e.isDark(r,o),u=-1;u<=1;u+=1)if(!(r+u<0||t<=r+u))for(var s=-1;s<=1;s+=1)o+s<0||t<=o+s||0==u&&0==s||a==e.isDark(r+u,o+s)&&(i+=1);i>5&&(n+=3+i-5)}for(r=0;r<t-1;r+=1)for(o=0;o<t-1;o+=1){var c=0;e.isDark(r,o)&&(c+=1),e.isDark(r+1,o)&&(c+=1),e.isDark(r,o+1)&&(c+=1),e.isDark(r+1,o+1)&&(c+=1),0!=c&&4!=c||(n+=3)}for(r=0;r<t;r+=1)for(o=0;o<t-6;o+=1)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(o=0;o<t;o+=1)for(r=0;r<t-6;r+=1)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);var l=0;for(o=0;o<t;o+=1)for(r=0;r<t;r+=1)e.isDark(r,o)&&(l+=1);return n+=Math.abs(100*l/t/t-50)/5*10},n),y=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;var r={glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}};return r}();function w(e,t){if(void 0===e.length)throw e.length+"/"+t;var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var r=new Array(e.length-n+t),o=0;o<e.length-n;o+=1)r[o]=e[o+n];return r}(),r={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(r.getLength()+e.getLength()-1),n=0;n<r.getLength();n+=1)for(var o=0;o<e.getLength();o+=1)t[n+o]^=y.gexp(y.glog(r.getAt(n))+y.glog(e.getAt(o)));return w(t,0)},mod:function(e){if(r.getLength()-e.getLength()<0)return r;for(var t=y.glog(r.getAt(0))-y.glog(e.getAt(0)),n=new Array(r.getLength()),o=0;o<r.getLength();o+=1)n[o]=r.getAt(o);for(o=0;o<e.getLength();o+=1)n[o]^=y.gexp(y.glog(e.getAt(o))+t);return w(n,0).mod(e)}};return r}var b=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},n={};return n.getRSBlocks=function(n,r){var o=function(t,n){switch(n){case s.L:return e[4*(t-1)+0];case s.M:return e[4*(t-1)+1];case s.Q:return e[4*(t-1)+2];case s.H:return e[4*(t-1)+3];default:return}}(n,r);if(void 0===o)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;for(var i=o.length/3,a=[],u=0;u<i;u+=1)for(var c=o[3*u+0],l=o[3*u+1],h=o[3*u+2],f=0;f<c;f+=1)a.push(t(l,h));return a},n}(),E=function(){var e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var r=0;r<t;r+=1)n.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return t},putBit:function(n){var r=Math.floor(t/8);e.length<=r&&e.push(0),n&&(e[r]|=128>>>t%8),t+=1}};return n},S=function(e){var t=o,n=e,r={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,r=0;r+2<t.length;)e.put(i(t.substring(r,r+3)),10),r+=3;r<t.length&&(t.length-r==1?e.put(i(t.substring(r,r+1)),4):t.length-r==2&&e.put(i(t.substring(r,r+2)),7))}},i=function(e){for(var t=0,n=0;n<e.length;n+=1)t=10*t+a(e.charAt(n));return t},a=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return r},x=function(e){var t=i,n=e,r={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,r=0;r+1<t.length;)e.put(45*o(t.charAt(r))+o(t.charAt(r+1)),11),r+=2;r<t.length&&e.put(o(t.charAt(r)),6)}},o=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return r},T=function(t){var n=a,r=e.stringToBytes(t),o={getMode:function(){return n},getLength:function(e){return r.length},write:function(e){for(var t=0;t<r.length;t+=1)e.put(r[t],8)}};return o},O=function(t){var n=u,r=e.stringToBytesFuncs.SJIS;if(!r)throw"sjis not supported.";!function(e,t){var n=r("友");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported."}();var o=r(t),i={getMode:function(){return n},getLength:function(e){return~~(o.length/2)},write:function(e){for(var t=o,n=0;n+1<t.length;){var r=(255&t[n])<<8|255&t[n+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(n+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}};return i},C=function(){var e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,r){n=n||0,r=r||e.length;for(var o=0;o<r;o+=1)t.writeByte(e[o+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+="]"}};return t},k=function(e){var t=e,n=0,r=0,o=0,i={read:function(){for(;o<8;){if(n>=t.length){if(0==o)return-1;throw"unexpected end of file./"+o}var e=t.charAt(n);if(n+=1,"="==e)return o=0,-1;e.match(/^\s$/)||(r=r<<6|a(e.charCodeAt(0)),o+=6)}var i=r>>>o-8&255;return o-=8,i}},a=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return i},L=function(e,t,n){for(var r=function(e,t){var n=e,r=t,o=new Array(e*t),i={setPixel:function(e,t,r){o[t*n+e]=r},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(r),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(r),e.writeByte(0);var t=a(2);e.writeByte(2);for(var o=0;t.length-o>255;)e.writeByte(255),e.writeBytes(t,o,255),o+=255;e.writeByte(t.length-o),e.writeBytes(t,o,t.length-o),e.writeByte(0),e.writeString(";")}},a=function(e){for(var t=1<<e,n=1+(1<<e),r=e+1,i=u(),a=0;a<t;a+=1)i.add(String.fromCharCode(a));i.add(String.fromCharCode(t)),i.add(String.fromCharCode(n));var s=C(),c=function(e){var t=e,n=0,r=0,o={write:function(e,o){if(e>>>o!=0)throw"length over";for(;n+o>=8;)t.writeByte(255&(e<<n|r)),o-=8-n,e>>>=8-n,r=0,n=0;r|=e<<n,n+=o},flush:function(){n>0&&t.writeByte(r)}};return o}(s);c.write(t,r);var l=0,h=String.fromCharCode(o[l]);for(l+=1;l<o.length;){var f=String.fromCharCode(o[l]);l+=1,i.contains(h+f)?h+=f:(c.write(i.indexOf(h),r),i.size()<4095&&(i.size()==1<<r&&(r+=1),i.add(h+f)),h=f)}return c.write(i.indexOf(h),r),c.write(n,r),c.flush(),s.toByteArray()},u=function(){var e={},t=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;e[r]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return i}(e,t),o=0;o<t;o+=1)for(var i=0;i<e;i+=1)r.setPixel(i,o,n(i,o));var a=C();r.write(a);for(var u=function(){var e=0,t=0,n=0,r="",o={},i=function(e){r+=String.fromCharCode(a(63&e))},a=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return o.writeByte=function(r){for(e=e<<8|255&r,t+=8,n+=1;t>=6;)i(e>>>t-6),t-=6},o.flush=function(){if(t>0&&(i(e<<6-t),e=0,t=0),n%3!=0)for(var o=3-n%3,a=0;a<o;a+=1)r+="="},o.toString=function(){return r},o}(),s=a.toByteArray(),c=0;c<s.length;c+=1)u.writeByte(s[c]);return u.flush(),"data:image/gif;base64,"+u};return e}();a.stringToBytesFuncs["UTF-8"]=function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t}(e)},o=[],void 0===(i="function"==typeof(r=function(){return a})?r.apply(t,o):r)||(e.exports=i)},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"HTTP",(function(){return c}));var r=n(217),o=n(38);var i=function(){function e(){}return e.installed=function(){return!0===Object(o.a)(this.pluginRef)},e.getPlugin=function(){return"undefined"!=typeof window?function(e,t){for(var n=t.split("."),r=e,o=0;o<n.length;o++){if(!r)return null;r=r[n[o]]}return r}(window,this.pluginRef):null},e.getPluginName=function(){return this.pluginName},e.getPluginRef=function(){return this.pluginRef},e.getPluginInstallName=function(){return this.plugin},e.getSupportedPlatforms=function(){return this.platforms},e.pluginName="",e.pluginRef="",e.plugin="",e.repo="",e.platforms=[],e.install="",e}();function a(e,t,n,r){return Object(o.c)(e,t,n).apply(this,r)}n(168);Object(r.a)();var u,s=(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.getBasicAuthHeader=function(e,t){return a(this,"getBasicAuthHeader",{sync:!0},arguments)},t.prototype.useBasicAuth=function(e,t){return a(this,"useBasicAuth",{sync:!0},arguments)},t.prototype.getHeaders=function(e){return a(this,"getHeaders",{sync:!0},arguments)},t.prototype.setHeader=function(e,t,n){return a(this,"setHeader",{sync:!0},arguments)},t.prototype.getDataSerializer=function(){return a(this,"getDataSerializer",{sync:!0},arguments)},t.prototype.setDataSerializer=function(e){return a(this,"setDataSerializer",{sync:!0},arguments)},t.prototype.setCookie=function(e,t){return a(this,"setCookie",{sync:!0},arguments)},t.prototype.clearCookies=function(){return a(this,"clearCookies",{sync:!0},arguments)},t.prototype.removeCookies=function(e,t){return a(this,"removeCookies",{sync:!0},arguments)},t.prototype.getCookieString=function(e){return a(this,"getCookieString",{sync:!0},arguments)},t.prototype.getRequestTimeout=function(){return a(this,"getRequestTimeout",{sync:!0},arguments)},t.prototype.setRequestTimeout=function(e){return a(this,"setRequestTimeout",{sync:!0},arguments)},t.prototype.getFollowRedirect=function(){return a(this,"getFollowRedirect",{sync:!0},arguments)},t.prototype.setFollowRedirect=function(e){return a(this,"setFollowRedirect",{sync:!0},arguments)},t.prototype.setServerTrustMode=function(e){return a(this,"setServerTrustMode",{},arguments)},t.prototype.post=function(e,t,n){return a(this,"post",{},arguments)},t.prototype.postSync=function(e,t,n,r,o){return a(this,"post",{methodName:"post",sync:!0},arguments)},t.prototype.get=function(e,t,n){return a(this,"get",{},arguments)},t.prototype.getSync=function(e,t,n,r,o){return a(this,"get",{methodName:"get",sync:!0},arguments)},t.prototype.put=function(e,t,n){return a(this,"put",{},arguments)},t.prototype.putSync=function(e,t,n,r,o){return a(this,"put",{methodName:"put",sync:!0},arguments)},t.prototype.patch=function(e,t,n){return a(this,"patch",{},arguments)},t.prototype.patchSync=function(e,t,n,r,o){return a(this,"patch",{methodName:"patch",sync:!0},arguments)},t.prototype.delete=function(e,t,n){return a(this,"delete",{},arguments)},t.prototype.deleteSync=function(e,t,n,r,o){return a(this,"delete",{methodName:"delete",sync:!0},arguments)},t.prototype.head=function(e,t,n){return a(this,"head",{},arguments)},t.prototype.headSync=function(e,t,n,r,o){return a(this,"head",{methodName:"head",sync:!0},arguments)},t.prototype.options=function(e,t,n){return a(this,"options",{},arguments)},t.prototype.optionsSync=function(e,t,n,r,o){return a(this,"options",{methodName:"options",sync:!0},arguments)},t.prototype.uploadFile=function(e,t,n,r,o){return a(this,"uploadFile",{},arguments)},t.prototype.uploadFileSync=function(e,t,n,r,o,i,u){return a(this,"uploadFile",{methodName:"uploadFile",sync:!0},arguments)},t.prototype.downloadFile=function(e,t,n,r){return a(this,"downloadFile",{},arguments)},t.prototype.downloadFileSync=function(e,t,n,r,o,i){return a(this,"downloadFile",{methodName:"downloadFile",sync:!0},arguments)},t.prototype.sendRequest=function(e,t){return a(this,"sendRequest",{},arguments)},t.prototype.sendRequestSync=function(e,t,n,r){return a(this,"sendRequest",{methodName:"sendRequest",sync:!0},arguments)},t.prototype.abort=function(e){return a(this,"abort",{},arguments)},Object.defineProperty(t.prototype,"ErrorCode",{get:function(){return e=this,t="ErrorCode",!0===Object(o.a)(e,t)?Object(o.b)(e.constructor.getPluginRef())[t]:null;var e,t},set:function(e){!function(e,t,n){!0===Object(o.a)(e,t)&&(Object(o.b)(e.constructor.getPluginRef())[t]=n)}(this,"ErrorCode",e)},enumerable:!1,configurable:!0}),t.pluginName="HTTP",t.plugin="cordova-plugin-advanced-http",t.pluginRef="cordova.plugin.http",t.repo="https://github.com/silkimen/cordova-plugin-advanced-http",t.platforms=["Android","iOS"],t}(i))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(168),o=n(167),i=n(120),a=n(156),u=n(108);var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.thisArg))},e}(),c=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return a.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(u.a);function l(e,t,n,a){return Object(i.a)(n)&&(a=n,n=void 0),a?l(e,t,n).pipe((u=function(e){return Object(o.a)(e)?a.apply(void 0,e):a(e)},function(e){if("function"!=typeof u)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new s(u,c))})):new r.a((function(r){!function e(t,n,r,o,i){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var u=t;t.addEventListener(n,r,i),a=function(){return u.removeEventListener(n,r,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var s=t;t.on(n,r),a=function(){return s.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,h=t.length;l<h;l++)e(t[l],n,r,o,i)}o.add(a)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}));var u,c}}]);
//# sourceMappingURL=index.js.map