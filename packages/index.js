!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=141)}([function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(83))},function(t,e,n){var r=n(0),o=n(42),i=n(3),a=n(43),s=n(45),c=n(71),u=o("wks"),l=r.Symbol,f=c?l:l&&l.withoutSetter||a;t.exports=function(t){return i(u,t)||(s&&i(l,t)?u[t]=l[t]:u[t]=f("Symbol."+t)),u[t]}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(0),o=n(21).f,i=n(8),a=n(10),s=n(28),c=n(68),u=n(56);t.exports=function(t,e){var n,l,f,h,d,p=t.target,v=t.global,g=t.stat;if(n=v?r:g?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in e){if(h=e[l],f=t.noTargetGet?(d=o(n,l))&&d.value:n[l],!u(v?l:p+(g?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;c(h,f)}(t.sham||f&&f.sham)&&i(h,"sham",!0),a(n,l,h,t)}}},function(t,e,n){var r=n(6);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(2);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(7),o=n(9),i=n(17);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(7),o=n(51),i=n(5),a=n(22),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(0),o=n(8),i=n(3),a=n(28),s=n(35),c=n(15),u=c.get,l=c.enforce,f=String(String).split("String");(t.exports=function(t,e,n,s){var c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),l(n).source=f.join("string"==typeof e?e:"")),t!==r?(c?!h&&t[e]&&(u=!0):delete t[e],u?t[e]=n:o(t,e,n)):u?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(26),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(34),o=n(18);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(69),o=n(0),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r,o,i,a=n(84),s=n(0),c=n(6),u=n(8),l=n(3),f=n(36),h=n(29),d=s.WeakMap;if(a){var p=new d,v=p.get,g=p.has,m=p.set;r=function(t,e){return m.call(p,t,e),e},o=function(t){return v.call(p,t)||{}},i=function(t){return g.call(p,t)}}else{var y=f("state");h[y]=!0,r=function(t,e){return u(t,y,e),e},o=function(t){return l(t,y)?t[y]:{}},i=function(t){return l(t,y)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(18);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e,n){var r=n(7),o=n(50),i=n(17),a=n(13),s=n(22),c=n(3),u=n(51),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var r=n(13),o=n(74),i=n(20),a=n(15),s=n(91),c=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(9).f,o=n(3),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(32),o=n(10),i=n(95);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){var r=n(0),o=n(8);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(4),o=n(142);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(t,e,n){var r=n(23);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r={};r[n(1)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(57).charAt,o=n(15),i=n(91),a=o.set,s=o.getterFor("String Iterator");i(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(2),o=n(11),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(52),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(42),o=n(43),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(7),o=n(2),i=n(3),a=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(i(s,t))return s[t];e||(e={});var n=[][t],u=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:c,f=i(e,1)?e[1]:void 0;return s[t]=!!n&&!o((function(){if(u&&!r)return!0;var t={length:-1};u?a(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,l,f)}))}},function(t,e,n){var r=n(32),o=n(11),i=n(1)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(38),o=n(20),i=n(1)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(64),n(65);var i=function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.type=e.type,this.value=e.value,this.tileName=this.value+" "+this.type,e.faceDown?(this.faceDown=!0,this.imageUrl="assets/tiles/face-down.png",this.value&&this.type?this.tileName="Face Down "+this.tileName:this.tileName="Face Down Tile"):this.imageUrl="assets/tiles/"+this.type+"s/"+this.value+".png",this.matches=function(e){return!this.faceDown&&(e instanceof t&&e.type===this.type&&e.value===this.value)},this.isDouble=function(t){return 0},this.getPoints=function(){return 0},this.toJSON=function(){var t={class:"Tile"};return t.type=this.type,t.value=this.value,this.faceDown&&(t.faceDown=this.faceDown),JSON.stringify(t)}.bind(this),this.isSequence=!1,this.isPongOrKong=!1,this.isPair=!1}var e,n,i;return e=t,i=[{key:"fromJSON",value:function(e){var n=JSON.parse(e);if("Tile"!==n.class)throw"String was not created by Tile.toJSON()";return new t(n)}}],(n=null)&&o(e.prototype,n),i&&o(e,i),t}();t.exports=i},function(t,e,n){var r=n(0),o=n(6),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(19),o=n(52);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(2);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){"use strict";var r=n(4),o=n(62).includes,i=n(74);r({target:"Array",proto:!0,forced:!n(37)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){var r,o=n(5),i=n(89),a=n(44),s=n(29),c=n(75),u=n(41),l=n(36),f=l("IE_PROTO"),h=function(){},d=function(t){return"<script>"+t+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=r?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=o(t),n=new h,h.prototype=null,n[f]=t):n=p(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(0),o=n(105),i=n(24),a=n(8),s=n(1),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var f in o){var h=r[f],d=h&&h.prototype;if(d){if(d[c]!==l)try{a(d,c,l)}catch(t){d[c]=l}if(d[u]||a(d,u,f),o[f])for(var p in i)if(d[p]!==i[p])try{a(d,p,i[p])}catch(t){d[p]=i[p]}}}},function(t,e,n){var r=n(0),o=n(105),i=n(142),a=n(8);for(var s in o){var c=r[s],u=c&&c.prototype;if(u&&u.forEach!==i)try{a(u,"forEach",i)}catch(t){u.forEach=i}}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(7),o=n(2),i=n(41);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(0),o=n(28),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(61),o=n(44).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(26),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(2),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(26),o=n(18),i=function(t){return function(e,n){var i,a,s=String(o(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):i:t?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){"use strict";var r,o,i=n(104),a=n(136),s=RegExp.prototype.exec,c=String.prototype.replace,u=s,l=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(l||h||f)&&(u=function(t){var e,n,r,o,a=this,u=f&&a.sticky,d=i.call(a),p=a.source,v=0,g=t;return u&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),g=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,v++),n=new RegExp("^(?:"+p+")",d)),h&&(n=new RegExp("^"+p+"$(?!\\s)",d)),l&&(e=a.lastIndex),r=s.call(u?n:a,g),u?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),h&&r&&r.length>1&&c.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=u},function(t,e,n){"use strict";var r=n(4),o=n(2),i=n(102),a=n(6),s=n(16),c=n(12),u=n(70),l=n(114),f=n(86),h=n(1),d=n(87),p=h("isConcatSpreadable"),v=d>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=f("concat"),m=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!v||!g},{concat:function(t){var e,n,r,o,i,a=s(this),f=l(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(m(i=-1===e?a:arguments[e])){if(h+(o=c(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,h++)n in i&&u(f,h,i[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(f,h++,i)}return f.length=h,f}})},function(t,e,n){var r=n(3),o=n(13),i=n(62).indexOf,a=n(29);t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~i(u,n)||u.push(n));return u}},function(t,e,n){var r=n(13),o=n(12),i=n(54),a=function(t){return function(e,n,a){var s,c=r(e),u=o(c.length),l=i(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(61),o=n(44);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){"use strict";var r=n(4),o=n(2),i=n(16),a=n(22);r({target:"Date",proto:!0,forced:o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=i(this),n=a(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){"use strict";n(4)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(112),n(46),n(100),n(64),n(65);var i=n(40),a=function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),null==e.exposed)throw"Must specify either true or false for config.exposed. ";if(e.amount<2||e.amount>4)throw"config.mount must be either 2, 3, or 4. ";this.type=e.type,this.value=e.value,this.amount=e.amount,this.exposed=e.exposed,this.getComponentTile=function(){return new i({type:this.type,value:this.value})},this.getPoints=function(t){var e=0;if(["bamboo","character","circle"].includes(this.type)){if(e=2,(1===this.value||9===this.value)&&(e*=2,2===this.amount))return 2;if(2===this.amount)return 0}else if(e=4,2===this.amount)return"wind"===this.type&&this.value!==t?0:2;return 4===this.amount&&(e*=4),this.exposed||(e*=2),e},this.isDouble=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(2===this.amount&&!e)&&("dragon"===this.type||"wind"===this.type&&this.value===t)},Object.defineProperty(this,"tiles",{get:function(){var t=this;return new Array(this.amount).fill().map(function(){return t.getComponentTile()}.bind(this))}.bind(this)}),Object.defineProperty(this,"isPair",{get:function(){return 2===this.amount}}),Object.defineProperty(this,"isPongOrKong",{get:function(){return this.amount>=3}}),this.toJSON=function(){var t={class:"Match"};return t.type=this.type,t.value=this.value,t.amount=this.amount,t.exposed=this.exposed,JSON.stringify(t)}.bind(this),this.isSequence=!1}var e,n,a;return e=t,a=[{key:"isValidMatch",value:function(t){for(var e=0;e<t.length;e++)if(!t[0].matches(t[e]))return!1;return!0}},{key:"fromJSON",value:function(e){var n=JSON.parse(e);if("Match"!==n.class)throw"String was not created by Match.toJSON()";return new t(n)}}],(n=null)&&o(e.prototype,n),a&&o(e,a),t}();t.exports=a},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(46),n(100),n(154),n(64),n(65);var i=n(40),a=function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),void 0===e.exposed)throw"config.exposed must not be undefined. ";if(this.isDouble=function(t){return!1},this.getPoints=function(){return 0},!e.tiles instanceof Array)throw"config.tiles must be an array of Tiles";if(!t.isValidSequence(e.tiles))throw"config.tiles is not a valid sequence. ";this.tiles=e.tiles,this.tiles=this.tiles.sort((function(t,e){return t.value-e.value})),this.exposed=e.exposed,this.isSequence=!0,this.isPongOrKong=!1,this.isPair=!1,this.toJSON=function(){var t={class:"Sequence"};return t.exposed=this.exposed,t.tiles=this.tiles,JSON.stringify(t)}.bind(this)}var e,n,a;return e=t,a=[{key:"isValidSequence",value:function(t){var e=t[0].type;if(!["bamboo","character","circle"].includes(e))return!1;t=t.sort((function(t,e){return t.value-e.value}));for(var n=1;n<t.length;n++){var r=t[n];if(r.type!==e)return!1;if(1!==Math.abs(t[n-1].value-r.value))return!1}return 3===t.length}},{key:"fromJSON",value:function(e){var n=JSON.parse(e);if("Sequence"!==n.class)throw"String was not created by Sequence.toJSON()";return n.tiles=n.tiles.map((function(t){return i.fromJSON(t)})),new t(n)}}],(n=null)&&o(e.prototype,n),a&&o(e,a),t}();t.exports=a},function(t,e,n){var r=n(3),o=n(85),i=n(21),a=n(9);t.exports=function(t,e){for(var n=o(e),s=a.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||s(t,l,c(e,l))}}},function(t,e,n){var r=n(0);t.exports=r},function(t,e,n){"use strict";var r=n(22),o=n(9),i=n(17);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){var r=n(45);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(31),o=n(34),i=n(16),a=n(12),s=n(114),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,f=6==t,h=5==t||f;return function(d,p,v,g){for(var m,y,w=i(d),b=o(w),x=r(p,v,3),S=a(b.length),E=0,T=g||s,C=e?T(d,S):n?T(d,0):void 0;S>E;E++)if((h||E in b)&&(y=x(m=b[E],E,w),t))if(e)C[E]=y;else if(y)switch(t){case 3:return!0;case 5:return m;case 6:return E;case 2:c.call(C,m)}else if(l)return!1;return f?-1:u||l?l:C}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r=n(1),o=n(47),i=n(9),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},function(t,e,n){var r=n(14);t.exports=r("document","documentElement")},function(t,e,n){"use strict";n(33);var r,o=n(4),i=n(7),a=n(96),s=n(0),c=n(89),u=n(10),l=n(58),f=n(3),h=n(118),d=n(106),p=n(57).codeAt,v=n(119),g=n(25),m=n(120),y=n(15),w=s.URL,b=m.URLSearchParams,x=m.getState,S=y.set,E=y.getterFor("URL"),T=Math.floor,C=Math.pow,L=/[A-Za-z]/,k=/[\d+-.A-Za-z]/,O=/\d/,M=/^(0x|0X)/,P=/^[0-7]+$/,A=/^\d+$/,I=/^[\dA-Fa-f]+$/,R=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,N=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,j=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,D=/[\u0009\u000A\u000D]/g,F=function(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=H(e.slice(1,-1))))return"Invalid host";t.host=n}else if(Y(t)){if(e=v(e),R.test(e))return"Invalid host";if(null===(n=B(e)))return"Invalid host";t.host=n}else{if(N.test(e))return"Invalid host";for(n="",r=d(e),o=0;o<r.length;o++)n+=V(r[o],_);t.host=n}},B=function(t){var e,n,r,o,i,a,s,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(o=c[r]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=M.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?A:8==i?P:I).test(o))return t;a=parseInt(o,i)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=C(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*C(256,3-r);return s},H=function(t){var e,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,h=function(){return t.charAt(f)};if(":"==h()){if(":"!=t.charAt(1))return;f+=2,l=++u}for(;h();){if(8==u)return;if(":"!=h()){for(e=n=0;n<4&&I.test(h());)e=16*e+parseInt(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,u>6)return;for(r=0;h();){if(o=null,r>0){if(!("."==h()&&r<4))return;f++}if(!O.test(h()))return;for(;O.test(h());){if(i=parseInt(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;c[u++]=e}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},U=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=T(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e}(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},_={},G=h({},_,{" ":1,'"':1,"<":1,">":1,"`":1}),J=h({},G,{"#":1,"?":1,"{":1,"}":1}),q=h({},J,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(t,e){var n=p(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},W={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(t){return f(W,t.scheme)},z=function(t){return""!=t.username||""!=t.password},X=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},$=function(t,e){var n;return 2==t.length&&L.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},K=function(t){var e;return t.length>1&&$(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Q=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&$(e[0],!0)||e.pop()},Z=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},rt={},ot={},it={},at={},st={},ct={},ut={},lt={},ft={},ht={},dt={},pt={},vt={},gt={},mt={},yt={},wt={},bt={},xt=function(t,e,n,o){var i,a,s,c,u,l=n||tt,h=0,p="",v=!1,g=!1,m=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(j,"")),e=e.replace(D,""),i=d(e);h<=i.length;){switch(a=i[h],l){case tt:if(!a||!L.test(a)){if(n)return"Invalid scheme";l=nt;continue}p+=a.toLowerCase(),l=et;break;case et:if(a&&(k.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";p="",l=nt,h=0;continue}if(n&&(Y(t)!=f(W,p)||"file"==p&&(z(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(Y(t)&&W[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?l=dt:Y(t)&&o&&o.scheme==t.scheme?l=rt:Y(t)?l=st:"/"==i[h+1]?(l=ot,h++):(t.cannotBeABaseURL=!0,t.path.push(""),l=yt)}break;case nt:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,l=bt;break}l="file"==o.scheme?dt:it;continue;case rt:if("/"!=a||"/"!=i[h+1]){l=it;continue}l=ct,h++;break;case ot:if("/"==a){l=ut;break}l=mt;continue;case it:if(t.scheme=o.scheme,a==r)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==a||"\\"==a&&Y(t))l=at;else if("?"==a)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",l=wt;else{if("#"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),l=mt;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=bt}break;case at:if(!Y(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,l=mt;continue}l=ut}else l=ct;break;case st:if(l=ct,"/"!=a||"/"!=p.charAt(h+1))continue;h++;break;case ct:if("/"!=a&&"\\"!=a){l=ut;continue}break;case ut:if("@"==a){v&&(p="%40"+p),v=!0,s=d(p);for(var y=0;y<s.length;y++){var w=s[y];if(":"!=w||m){var b=V(w,q);m?t.password+=b:t.username+=b}else m=!0}p=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)){if(v&&""==p)return"Invalid authority";h-=d(p).length+1,p="",l=lt}else p+=a;break;case lt:case ft:if(n&&"file"==t.scheme){l=vt;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)){if(Y(t)&&""==p)return"Invalid host";if(n&&""==p&&(z(t)||null!==t.port))return;if(c=F(t,p))return c;if(p="",l=gt,n)return;continue}"["==a?g=!0:"]"==a&&(g=!1),p+=a}else{if(""==p)return"Invalid host";if(c=F(t,p))return c;if(p="",l=ht,n==ft)return}break;case ht:if(!O.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)||n){if(""!=p){var x=parseInt(p,10);if(x>65535)return"Invalid port";t.port=Y(t)&&x===W[t.scheme]?null:x,p=""}if(n)return;l=gt;continue}return"Invalid port"}p+=a;break;case dt:if(t.scheme="file","/"==a||"\\"==a)l=pt;else{if(!o||"file"!=o.scheme){l=mt;continue}if(a==r)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==a)t.host=o.host,t.path=o.path.slice(),t.query="",l=wt;else{if("#"!=a){K(i.slice(h).join(""))||(t.host=o.host,t.path=o.path.slice(),Q(t)),l=mt;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=bt}}break;case pt:if("/"==a||"\\"==a){l=vt;break}o&&"file"==o.scheme&&!K(i.slice(h).join(""))&&($(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),l=mt;continue;case vt:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&$(p))l=mt;else if(""==p){if(t.host="",n)return;l=gt}else{if(c=F(t,p))return c;if("localhost"==t.host&&(t.host=""),n)return;p="",l=gt}continue}p+=a;break;case gt:if(Y(t)){if(l=mt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=mt,"/"!=a))continue}else t.fragment="",l=bt;else t.query="",l=wt;break;case mt:if(a==r||"/"==a||"\\"==a&&Y(t)||!n&&("?"==a||"#"==a)){if(".."===(u=(u=p).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(Q(t),"/"==a||"\\"==a&&Y(t)||t.path.push("")):Z(p)?"/"==a||"\\"==a&&Y(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&$(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(a==r||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",l=wt):"#"==a&&(t.fragment="",l=bt)}else p+=V(a,J);break;case yt:"?"==a?(t.query="",l=wt):"#"==a?(t.fragment="",l=bt):a!=r&&(t.path[0]+=V(a,_));break;case wt:n||"#"!=a?a!=r&&("'"==a&&Y(t)?t.query+="%27":t.query+="#"==a?"%23":V(a,_)):(t.fragment="",l=bt);break;case bt:a!=r&&(t.fragment+=V(a,G))}h++}},St=function(t){var e,n,r=l(this,St,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(t),s=S(r,{type:"URL"});if(void 0!==o)if(o instanceof St)e=E(o);else if(n=xt(e={},String(o)))throw TypeError(n);if(n=xt(s,a,null,e))throw TypeError(n);var c=s.searchParams=new b,u=x(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},i||(r.href=Tt.call(r),r.origin=Ct.call(r),r.protocol=Lt.call(r),r.username=kt.call(r),r.password=Ot.call(r),r.host=Mt.call(r),r.hostname=Pt.call(r),r.port=At.call(r),r.pathname=It.call(r),r.search=Rt.call(r),r.searchParams=Nt.call(r),r.hash=jt.call(r))},Et=St.prototype,Tt=function(){var t=E(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,s=t.query,c=t.fragment,u=e+":";return null!==o?(u+="//",z(t)&&(u+=n+(r?":"+r:"")+"@"),u+=U(o),null!==i&&(u+=":"+i)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Ct=function(){var t=E(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Y(t)?e+"://"+U(t.host)+(null!==n?":"+n:""):"null"},Lt=function(){return E(this).scheme+":"},kt=function(){return E(this).username},Ot=function(){return E(this).password},Mt=function(){var t=E(this),e=t.host,n=t.port;return null===e?"":null===n?U(e):U(e)+":"+n},Pt=function(){var t=E(this).host;return null===t?"":U(t)},At=function(){var t=E(this).port;return null===t?"":String(t)},It=function(){var t=E(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Rt=function(){var t=E(this).query;return t?"?"+t:""},Nt=function(){return E(this).searchParams},jt=function(){var t=E(this).fragment;return t?"#"+t:""},Dt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&c(Et,{href:Dt(Tt,(function(t){var e=E(this),n=String(t),r=xt(e,n);if(r)throw TypeError(r);x(e.searchParams).updateSearchParams(e.query)})),origin:Dt(Ct),protocol:Dt(Lt,(function(t){var e=E(this);xt(e,String(t)+":",tt)})),username:Dt(kt,(function(t){var e=E(this),n=d(String(t));if(!X(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=V(n[r],q)}})),password:Dt(Ot,(function(t){var e=E(this),n=d(String(t));if(!X(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=V(n[r],q)}})),host:Dt(Mt,(function(t){var e=E(this);e.cannotBeABaseURL||xt(e,String(t),lt)})),hostname:Dt(Pt,(function(t){var e=E(this);e.cannotBeABaseURL||xt(e,String(t),ft)})),port:Dt(At,(function(t){var e=E(this);X(e)||(""==(t=String(t))?e.port=null:xt(e,t,ht))})),pathname:Dt(It,(function(t){var e=E(this);e.cannotBeABaseURL||(e.path=[],xt(e,t+"",gt))})),search:Dt(Rt,(function(t){var e=E(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",xt(e,t,wt)),x(e.searchParams).updateSearchParams(e.query)})),searchParams:Dt(Nt),hash:Dt(jt,(function(t){var e=E(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",xt(e,t,bt)):e.fragment=null}))}),u(Et,"toJSON",(function(){return Tt.call(this)}),{enumerable:!0}),u(Et,"toString",(function(){return Tt.call(this)}),{enumerable:!0}),w){var Ft=w.createObjectURL,Bt=w.revokeObjectURL;Ft&&u(St,"createObjectURL",(function(t){return Ft.apply(w,arguments)})),Bt&&u(St,"revokeObjectURL",(function(t){return Bt.apply(w,arguments)}))}g(St,"URL"),o({global:!0,forced:!a,sham:!i},{URL:St})},function(t,e,n){var r=n(5);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(1),o=n(20),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(10);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(4),o=n(6),i=n(102),a=n(54),s=n(12),c=n(13),u=n(70),l=n(1),f=n(86),h=n(37),d=f("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),g=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var n,r,l,f=c(this),h=s(f.length),d=a(t,h),p=a(void 0===e?h:e,h);if(i(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[v])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(f,d,p);for(r=new(void 0===n?Array:n)(m(p-d,0)),l=0;d<p;d++,l++)d in f&&u(r,l,f[d]);return r.length=l,r}})},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(46),n(64),n(65);var i=function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),!["season","flower"].includes(e.seasonOrFlower))throw"config.seasorOrFlower must either be 'season' or 'flower'";this.type="pretty",this.value=e.value,this.seasonOrFlower=e.seasonOrFlower,this.exposed=!0,this.tileName="Pretty";var n=["east","south","west","north"];this.isDouble=function(t){return t===n[this.value-1]},this.getPoints=function(){return 4},this.imageUrl="assets/tiles/"+e.seasonOrFlower+"s/"+e.value+".png",this.toJSON=function(){var t={class:"Pretty"};return t.value=this.value,t.seasonOrFlower=this.seasonOrFlower,JSON.stringify(t)}.bind(this),this.isSequence=!1,this.isPongOrKong=!1,this.isPair=!1}var e,n,i;return e=t,i=[{key:"fromJSON",value:function(e){var n=JSON.parse(e);if("Pretty"!==n.class)throw"String was not created by Pretty.toJSON()";return new t(n)}}],(n=null)&&o(e.prototype,n),i&&o(e,i),t}();t.exports=i},function(t,e,n){"use strict";var r=n(4),o=n(59);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(0),o=n(35),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(14),o=n(53),i=n(55),a=n(5);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(2),o=n(1),i=n(87),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var r,o,i=n(0),a=n(88),s=i.process,c=s&&s.versions,u=c&&c.v8;u?o=(r=u.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){var r=n(14);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(7),o=n(9),i=n(5),a=n(63);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,c=0;s>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){"use strict";var r=n(4),o=n(62).indexOf,i=n(73),a=n(37),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,u=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(t){return c?s.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(4),o=n(92),i=n(94),a=n(103),s=n(25),c=n(8),u=n(10),l=n(1),f=n(19),h=n(20),d=n(93),p=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,g=l("iterator"),m=function(){return this};t.exports=function(t,e,n,l,d,y,w){o(n,e,l);var b,x,S,E=function(t){if(t===d&&O)return O;if(!v&&t in L)return L[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",C=!1,L=t.prototype,k=L[g]||L["@@iterator"]||d&&L[d],O=!v&&k||E(d),M="Array"==e&&L.entries||k;if(M&&(b=i(M.call(new t)),p!==Object.prototype&&b.next&&(f||i(b)===p||(a?a(b,p):"function"!=typeof b[g]&&c(b,g,m)),s(b,T,!0,!0),f&&(h[T]=m))),"values"==d&&k&&"values"!==k.name&&(C=!0,O=function(){return k.call(this)}),f&&!w||L[g]===O||c(L,g,O),h[e]=O,d)if(x={values:E("values"),keys:y?O:E("keys"),entries:E("entries")},w)for(S in x)(v||C||!(S in L))&&u(L,S,x[S]);else r({target:e,proto:!0,forced:v||C},x);return x}},function(t,e,n){"use strict";var r=n(93).IteratorPrototype,o=n(47),i=n(17),a=n(25),s=n(20),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,u,!1,!0),s[u]=c,t}},function(t,e,n){"use strict";var r,o,i,a=n(94),s=n(8),c=n(3),u=n(1),l=n(19),f=u("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):h=!0),null==r&&(r={}),l||c(r,f)||s(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(3),o=n(16),i=n(36),a=n(115),s=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){"use strict";var r=n(32),o=n(38);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){var r=n(2),o=n(1),i=n(19),a=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){var r,o,i,a=n(0),s=n(2),c=n(11),u=n(31),l=n(75),f=n(41),h=n(98),d=a.location,p=a.setImmediate,v=a.clearImmediate,g=a.process,m=a.MessageChannel,y=a.Dispatch,w=0,b={},x=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},S=function(t){return function(){x(t)}},E=function(t){x(t.data)},T=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};p&&v||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++w]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(w),w},v=function(t){delete b[t]},"process"==c(g)?r=function(t){g.nextTick(S(t))}:y&&y.now?r=function(t){y.now(S(t))}:m&&!h?(i=(o=new m).port2,o.port1.onmessage=E,r=u(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(T)||"file:"===d.protocol?r="onreadystatechange"in f("script")?function(t){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),x(t)}}:function(t){setTimeout(S(t),0)}:(r=T,a.addEventListener("message",E,!1))),t.exports={set:p,clear:v}},function(t,e,n){var r=n(88);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){"use strict";var r=n(23),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(4),o=n(72).map,i=n(86),a=n(37),s=i("map"),c=a("map");r({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(60),n(30),n(100),n(64),n(82),n(155),n(49),n(65);var o=n(40),i=n(81),a=function(){"use strict";function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.drawFirst=function(){return this.tiles.pop()},this.drawLast=function(){return this.tiles.shift()},e?this.tiles=e:(this.tiles=[],this.tiles=this.tiles.concat(t.getNonPrettyTiles()),[!1,!0].forEach((function(t){for(var e=1;e<=4;e++)n.tiles.push(new i({value:e,seasonOrFlower:t?"season":"flower"}))})),t.shuffleArray(this.tiles)),this.toJSON=function(){return JSON.stringify(this.tiles)}.bind(this)}var e,n,a;return e=t,a=[{key:"getNonPrettyTiles",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e=[],n=function(n){for(var r=0;r<t;r++)["bamboo","character","circle"].forEach((function(t){e.push(new o({type:t,value:n}))}))},r=1;r<=9;r++)n(r);return["red","green","white"].forEach((function(n){for(var r=0;r<t;r++)e.push(new o({type:"dragon",value:n}))})),["north","south","east","west"].forEach((function(n){for(var r=0;r<t;r++)e.push(new o({type:"wind",value:n}))})),e}},{key:"shuffleArray",value:function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}}},{key:"renderWall",value:function(t,e){for(;t.firstChild;)t.firstChild.remove();for(var n=0;n<e.length;n++){var r=e[n],o=document.createElement("img");o.src=r.imageUrl,o.title=r.tileName,t.appendChild(o)}0!==e.length&&String(e.length).split("").forEach((function(e){var n=document.createElement("p");n.innerHTML=e,t.appendChild(n)}))}},{key:"fromJSON",value:function(e){var n=JSON.parse(e);return new t(n=n.map((function(t){var e=JSON.parse(t);if("Pretty"===e.class)return i.fromJSON(t);if("Tile"===e.class)return o.fromJSON(t);throw"Unable to identify tileString "+t})))}}],(n=null)&&r(e.prototype,n),a&&r(e,a),t}();t.exports=a},function(t,e,n){var r=n(11);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(5),o=n(116);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){"use strict";var r=n(5);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r=n(31),o=n(16),i=n(77),a=n(78),s=n(12),c=n(70),u=n(39);t.exports=function(t){var e,n,l,f,h,d,p=o(t),v="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,y=void 0!==m,w=u(p),b=0;if(y&&(m=r(m,g>2?arguments[2]:void 0,2)),null==w||v==Array&&a(w))for(n=new v(e=s(p.length));e>b;b++)d=y?m(p[b],b):p[b],c(n,b,d);else for(h=(f=w.call(p)).next,n=new v;!(l=h.call(f)).done;b++)d=y?i(f,m,[l.value,b],!0):l.value,c(n,b,d);return n.length=b,n}},function(t,e,n){n(24),n(27),n(33),n(48),n(76);try{if(window.Capacitor){var r=function(t){console.log("Current URL: "+window.location.href);var e=new URL(t);e.hash===window.location.hash&&e.pathname===window.location.pathname?console.log("Same URLs. Skipping"):e.pathname===window.location.pathname?(console.log("Same pathname. Setting and reloading. "),window.location.hash=e.hash,window.location.reload()):(console.log("Different pathname. Setting"),window.location.hash=e.hash,window.location.pathname=e.pathname)};Capacitor.Plugins.App.addListener("appUrlOpen",(function(t){console.log("App opened with URL: "+t.url),r(t.url)})),Capacitor.Plugins.App.getLaunchUrl().then((function(t){t&&t.url&&(console.log("Launch url: ",t.url),r(t.url))}))}}catch(t){console.error(t)}},function(t,e,n){"use strict";var r,o,i,a,s=n(4),c=n(19),u=n(0),l=n(14),f=n(123),h=n(10),d=n(79),p=n(25),v=n(124),g=n(6),m=n(23),y=n(58),w=n(11),b=n(35),x=n(125),S=n(109),E=n(110),T=n(97).set,C=n(126),L=n(127),k=n(128),O=n(99),M=n(129),P=n(15),A=n(56),I=n(1),R=n(87),N=I("species"),j="Promise",D=P.get,F=P.set,B=P.getterFor(j),H=f,U=u.TypeError,_=u.document,G=u.process,J=l("fetch"),q=O.f,V=q,W="process"==w(G),Y=!!(_&&_.createEvent&&u.dispatchEvent),z=A(j,(function(){if(!(b(H)!==String(H))){if(66===R)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!H.prototype.finally)return!0;if(R>=51&&/native code/.test(H))return!1;var t=H.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[N]=e,!(t.then((function(){}))instanceof e)})),X=z||!S((function(t){H.all(t).catch((function(){}))})),$=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},K=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;C((function(){for(var o=e.value,i=1==e.state,a=0;r.length>a;){var s,c,u,l=r[a++],f=i?l.ok:l.fail,h=l.resolve,d=l.reject,p=l.domain;try{f?(i||(2===e.rejection&&et(t,e),e.rejection=1),!0===f?s=o:(p&&p.enter(),s=f(o),p&&(p.exit(),u=!0)),s===l.promise?d(U("Promise-chain cycle")):(c=$(s))?c.call(s,h,d):h(s)):d(o)}catch(t){p&&!u&&p.exit(),d(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Z(t,e)}))}},Q=function(t,e,n){var r,o;Y?((r=_.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},(o=u["on"+t])?o(r):"unhandledrejection"===t&&k("Unhandled promise rejection",n)},Z=function(t,e){T.call(u,(function(){var n,r=e.value;if(tt(e)&&(n=M((function(){W?G.emit("unhandledRejection",r,t):Q("unhandledrejection",t,r)})),e.rejection=W||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){T.call(u,(function(){W?G.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(o){t(e,n,o,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,K(t,e,!0))},ot=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw U("Promise can't be resolved itself");var o=$(n);o?C((function(){var r={done:!1};try{o.call(n,nt(ot,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,K(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};z&&(H=function(t){y(this,H,j),m(t),r.call(this);var e=D(this);try{t(nt(ot,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){F(this,{type:j,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(H.prototype,{then:function(t,e){var n=B(this),r=q(E(this,H));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=W?G.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&K(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=D(t);this.promise=t,this.resolve=nt(ot,t,e),this.reject=nt(rt,t,e)},O.f=q=function(t){return t===H||t===i?new o(t):V(t)},c||"function"!=typeof f||(a=f.prototype.then,h(f.prototype,"then",(function(t,e){var n=this;return new H((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof J&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return L(H,J.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:z},{Promise:H}),p(H,j,!1,!0),v(j),i=l(j),s({target:j,stat:!0,forced:z},{reject:function(t){var e=q(this);return e.reject.call(void 0,t),e.promise}}),s({target:j,stat:!0,forced:c||z},{resolve:function(t){return L(c&&this===i?H:this,t)}}),s({target:j,stat:!0,forced:X},{all:function(t){var e=this,n=q(e),r=n.resolve,o=n.reject,i=M((function(){var n=m(e.resolve),i=[],a=0,s=1;x(t,(function(t){var c=a++,u=!1;i.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,i[c]=t,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=q(e),r=n.reject,o=M((function(){var o=m(e.resolve);x(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(1)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r=n(5),o=n(23),i=n(1)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p={};p[o]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==e&&n.call(g,o)&&(p=g);var m=d.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=m.constructor=d,d.constructor=h,h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(w.prototype),w.prototype[i]=function(){return this},t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(m),s(m,a,"Generator"),m[o]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){var r=n(4),o=n(169),i=n(74);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(60),n(112),n(133),n(171),n(30),n(46),n(90),n(100),n(134),n(154),n(148),n(64),n(49),n(65);var i=n(40),a=n(66),s=n(67),c=n(81),u=(n(101),function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function o(t){t.preventDefault()}function u(t){var e="randomClassForTransfer"+Math.pow(2,53)*Math.random();t.target.classList.add(e),t.dataTransfer.setData("randomClass",e)}r(this,t),this.handToRender=e.handToRender,this.handForExposed=e.handForExposed,this.tilePlacemat=e.tilePlacemat,this.interactive=e.interactive||!1,this.wind=e.wind,this.contents=[],this.inPlacemat=[],this.syncContents=n(156).bind(this),this.score=n(157).bind(this),this.getClearHandDoubles=n(158).bind(this),this.isMahjong=n(160).bind(this),this.isCalling=n(162).bind(this),this.add=function(e){var n;n=e instanceof s?t.getTileValue(e.tiles[0]):t.getTileValue(e);for(var r=0;r<this.contents.length;r++){var o=this.contents[r];if(o instanceof s&&(o=o.tiles[2]),n<t.getTileValue(o))return void this.contents.splice(r,0,e)}this.contents.push(e)}.bind(this),this.remove=function(t){var e=this.contents.indexOf(t),n=this.inPlacemat.indexOf(t);if(-1!==e)this.contents.splice(e,1);else{if(-1===n)throw t+" does not exist in hand. ";this.inPlacemat.splice(n,1)}}.bind(this),this.moveTile=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.inPlacemat.indexOf(t),o=this.contents.indexOf(t);if(console.log(n),r+o!==-2){this.inPlacemat,this.contents;if(e)if(-1===r){if(this.inPlacemat.length>=4)return void alert("Placemat is already full. ");this.inPlacemat.push(this.contents.splice(o,1)[0])}else{if(0===r&&this.inPlacemat[0].evicting)return void alert("This tile was discarded. To claim it, select the tiles you would like to match with it, then hit proceed. ");var i=this.inPlacemat.splice(r,1)[0];isNaN(n)?this.add(i):this.contents.splice(n,0,i)}else if(isNaN(n))console.error("Unable to determine how this tile should be moved. ");else if(-1===o)console.error("Reordering in placemat is not supported. Must be in hand.");else{console.log(o),console.log(n);n>o&&n--,console.log(n),this.contents.splice(n,0,this.contents.splice(o,1)[0])}this.renderTiles(),this.renderPlacemat()}else console.error("Tile does not exist. ")}.bind(this),this.removeMatchingTile=function(t){var e=this;if(!t instanceof i)throw"removeMatchingTile only supports Tiles";return this.inPlacemat.length>0&&console.warn("Hand.removeMatchingTile is intended for server side use only. "),!!this.contents.some(function(n,r){return!!t.matches(n)&&(e.contents.splice(r,1),!0)}.bind(this))},this.getExposedTiles=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[];return this.contents.forEach((function(n){n.exposed||n instanceof a&&4===n.amount?e.push(n):t&&e.push(new i({faceDown:!0}))})),e}.bind(this);var l=function(t){t.preventDefault();var e=t.dataTransfer.getData("randomClass"),n=document.getElementsByClassName(e)[0];n.classList.remove(e);for(var r=0,o=0;o<this.handToRender.children.length;o++){var i=this.handToRender.children[o].getBoundingClientRect();if(r++,t.x<i.left+i.width/2){r--;break}}void 0!==n.placematIndex?this.moveTile(this.inPlacemat[n.placematIndex],!0,r):this.moveTile(this.contents[n.tileIndex],!1,r)}.bind(this),f=function(t){t.preventDefault();var e=t.dataTransfer.getData("randomClass"),n=document.getElementsByClassName(e)[0];n.classList.remove(e),this.moveTile(this.contents[n.tileIndex])}.bind(this);this.interactive&&(this.handToRender.addEventListener("dragover",o),this.handToRender.addEventListener("dragenter",o),this.handToRender.addEventListener("drop",l),this.tilePlacemat&&(this.tilePlacemat.addEventListener("dragover",o),this.tilePlacemat.addEventListener("dragenter",o),this.tilePlacemat.addEventListener("drop",f),this.tilePlacemat.addEventListener("dragover",(function(){this.style.backgroundColor="lightblue"})),this.tilePlacemat.addEventListener("dragleave",(function(){this.style.backgroundColor=""})),this.tilePlacemat.addEventListener("drop",(function(){this.style.backgroundColor=""})))),this.removeMatchingTilesFromHand=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t instanceof i)throw"You must send a tile. ";return this.removeTilesFromHand(new Array(e).fill(t),n)}.bind(this),this.removeTilesFromHand=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t instanceof s&&(t=t.tiles),t instanceof i)t=[t];else if(!t instanceof Array)throw"Must send a Sequence, Tile, or Array. ";var r=[];t.forEach((function(t,n){if(!(t instanceof i))throw"Your Sequence or Array contains non-tiles. ";for(var o=e.contents.length-1;o>=0;o--)if(t.matches(e.contents[o])&&!r.includes(o))return void(r[n]=o)}));for(var o=!0,a=0;a<t.length;a++)void 0===r[a]&&(o=!1);return!!o&&(n||r.sort((function(t,e){return e-t})).forEach((function(t){e.contents.splice(t,1)})),!0)}.bind(this),this.renderPlacemat=function(t){for(var e=this;this.tilePlacemat.firstChild;)this.tilePlacemat.firstChild.remove();for(var n=function(n){var r=e.inPlacemat[n],o=document.createElement("img");0===n&&t&&(o.className=t),r?(o.src=r.imageUrl,o.title=r.tileName,o.draggable=!0,o.placematIndex=n,o.addEventListener("dragstart",u),o.addEventListener("click",function(){this.moveTile(r)}.bind(e))):o.src="assets/tiles/tile-outline.png",e.tilePlacemat.appendChild(o)},r=0;r<4;r++)n(r)}.bind(this),this.setEvictingThrownTile=function(t){for(var e=this.inPlacemat.length-1;e>=0;e--){this.inPlacemat[e].evicting&&this.inPlacemat.splice(e,1)}t&&(this.inPlacemat.length>=4&&this.contents.push(this.inPlacemat.pop()),this.inPlacemat.unshift(t),t.evicting=!0)}.bind(this),this.renderTiles=function(){if(!this.handToRender)throw"Unable to render hand. You must pass config.handToRender to the constructor. ";for(;this.handToRender.firstChild;)this.handToRender.firstChild.remove();if(this.handForExposed)for(;this.handForExposed.firstChild;)this.handForExposed.firstChild.remove();for(var t=[],e=[],n=0;n<this.contents.length;n++){var r=this.contents[n];if(r instanceof i)t.push(r);else if(r instanceof c)e.push(r);else if(r instanceof a||r instanceof s){var o=r.tiles;r instanceof a&&4===r.amount&&(o[0].faceDown=!0,o[0]=i.fromJSON(o[0].toJSON())),r.exposed?e=e.concat(o):r instanceof a&&4===r.amount?(o[3].faceDown=!0,o[3]=i.fromJSON(o[3].toJSON()),e=e.concat(o)):(console.log(o),t=t.concat(o))}else console.error("Unknown item "+r)}var l=function(t,e){for(var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(o){var i=t[o],a=document.createElement("img");a.src=i.imageUrl,a.title=i.tileName,"exposed"===e&&n.handForExposed?n.handForExposed.appendChild(a):"exposed"===e?(r&&(a.style.filter="brightness(1.2)"),n.handToRender.appendChild(a)):"unexposed"===e&&(!n.handForExposed&&r&&(a.style.filter="brightness(0.8)"),n.interactive&&(a.draggable=!0,a.addEventListener("click",function(){this.moveTile(i)}.bind(n)),a.addEventListener("dragstart",u),a.tileIndex=n.contents.findIndex((function(t){return t===i}))),n.handToRender.appendChild(a))},i=0;i<t.length;i++)o(i);function a(t){if(t.children.length>14){var e=parseFloat(document.documentElement.style.getPropertyValue("--vh"));e/=t.children.length/14;var n=parseFloat(document.documentElement.style.getPropertyValue("--vw"));n/=t.children.length/14,t.children.forEach((function(t){t.style.setProperty("--vh",e+"px"),t.style.setProperty("--vw",n+"px")}))}}a(this.handToRender),this.handForExposed&&a(this.handForExposed)}.bind(this);console.log(e),console.log(t);var f=!1;(t.some((function(t){return!t.faceDown}))||0===t.length)&&(f=!0),l(e,"exposed",f),l(t,"unexposed",f),this.tilePlacemat&&this.renderPlacemat()}.bind(this),this.getStringContents=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"contents";return this[t].map((function(t){return t.toJSON()}))}.bind(this),this.toJSON=function(){return JSON.stringify({wind:this.wind,contents:this.contents})}.bind(this)}var e,u,l;return e=t,l=[{key:"getTileValue",value:function(t){var e=0;return e+=100*["pretty","circle","bamboo","character","wind","dragon"].findIndex((function(e){return t.type===e})),"number"==typeof t.value?e+=t.value:"wind"===t.type?e+=10*["north","east","south","west"].findIndex((function(e){return t.value===e})):"dragon"===t.type?e+=10*["red","green","white"].findIndex((function(e){return t.value===e})):t.faceDown||console.error("Couldn't fully calculate value for "+t),e}},{key:"sortTiles",value:function(e){return e.sort((function(e,n){return t.getTileValue(e)-t.getTileValue(n)}))}},{key:"convertStringsToTiles",value:function(t){return t.map((function(t){var e=JSON.parse(t);if("Pretty"===e.class)return c.fromJSON(t);if("Tile"===e.class)return i.fromJSON(t);if("Sequence"===e.class)return s.fromJSON(t);if("Match"===e.class)return a.fromJSON(t);throw"Unable to identify itemString "+t}))}},{key:"fromString",value:function(e){var n=JSON.parse(e),r=(n.wind,new t({wind:n.wind}));return r.contents=t.convertStringsToTiles(n.contents),r}}],(u=null)&&o(e.prototype,u),l&&o(e,l),t}());t.exports=u},function(t,e,n){var r=n(6),o=n(102),i=n(1)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(2);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(6);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var r=n(4),o=n(144),i=n(18);r({target:"String",proto:!0,forced:!n(146)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(7),o=n(2),i=n(63),a=n(55),s=n(50),c=n(16),u=n(34),l=Object.assign,f=Object.defineProperty;t.exports=!l||o((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=i(l({},e)).join("")}))?function(t,e){for(var n=c(t),o=arguments.length,l=1,f=a.f,h=s.f;o>l;)for(var d,p=u(arguments[l++]),v=f?i(p).concat(f(p)):i(p),g=v.length,m=0;g>m;)d=v[m++],r&&!h.call(p,d)||(n[d]=p[d]);return n}:l},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,c=function(t){return t+22+75*(t<26)},u=function(t,e,n){var r=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;r+=36)t=a(t/35);return a(r+36*t/(t+38))},l=function(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e}(t)).length,l=128,f=0,h=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(s(n));var d=r.length,p=d;for(d&&r.push("-");p<o;){var v=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=l&&n<v&&(v=n);var g=p+1;if(v-l>a((2147483647-f)/g))throw RangeError(i);for(f+=(v-l)*g,l=v,e=0;e<t.length;e++){if((n=t[e])<l&&++f>2147483647)throw RangeError(i);if(n==l){for(var m=f,y=36;;y+=36){var w=y<=h?1:y>=h+26?26:y-h;if(m<w)break;var b=m-w,x=36-w;r.push(s(c(w+b%x))),m=a(b/x)}r.push(s(c(m))),h=u(f,g,p==d),f=0,++p}}++f,++l}return r.join("")};t.exports=function(t){var e,n,i=[],a=t.toLowerCase().replace(o,".").split(".");for(e=0;e<a.length;e++)n=a[e],i.push(r.test(n)?"xn--"+l(n):n);return i.join(".")}},function(t,e,n){"use strict";n(24);var r=n(4),o=n(14),i=n(96),a=n(10),s=n(79),c=n(25),u=n(92),l=n(15),f=n(58),h=n(3),d=n(31),p=n(38),v=n(5),g=n(6),m=n(47),y=n(17),w=n(121),b=n(39),x=n(1),S=o("fetch"),E=o("Headers"),T=x("iterator"),C=l.set,L=l.getterFor("URLSearchParams"),k=l.getterFor("URLSearchParamsIterator"),O=/\+/g,M=Array(4),P=function(t){return M[t-1]||(M[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},A=function(t){try{return decodeURIComponent(t)}catch(e){return t}},I=function(t){var e=t.replace(O," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(P(n--),A);return e}},R=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},j=function(t){return N[t]},D=function(t){return encodeURIComponent(t).replace(R,j)},F=function(t,e){if(e)for(var n,r,o=e.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),t.push({key:I(r.shift()),value:I(r.join("="))}))},B=function(t){this.entries.length=0,F(this.entries,t)},H=function(t,e){if(t<e)throw TypeError("Not enough arguments")},U=u((function(t,e){C(this,{type:"URLSearchParamsIterator",iterator:w(L(t).entries),kind:e})}),"Iterator",(function(){var t=k(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),_=function(){f(this,_,"URLSearchParams");var t,e,n,r,o,i,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,d=[];if(C(l,{type:"URLSearchParams",entries:d,updateURL:function(){},updateSearchParams:B}),void 0!==u)if(g(u))if("function"==typeof(t=b(u)))for(n=(e=t.call(u)).next;!(r=n.call(e)).done;){if((a=(i=(o=w(v(r.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}else for(c in u)h(u,c)&&d.push({key:c,value:u[c]+""});else F(d,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},G=_.prototype;s(G,{append:function(t,e){H(arguments.length,2);var n=L(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){H(arguments.length,1);for(var e=L(this),n=e.entries,r=t+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;e.updateURL()},get:function(t){H(arguments.length,1);for(var e=L(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){H(arguments.length,1);for(var e=L(this).entries,n=t+"",r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){H(arguments.length,1);for(var e=L(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){H(arguments.length,1);for(var n,r=L(this),o=r.entries,i=!1,a=t+"",s=e+"",c=0;c<o.length;c++)(n=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=L(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===n&&o.push(t)}r.updateURL()},forEach:function(t){for(var e,n=L(this).entries,r=d(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),a(G,T,G.entries),a(G,"toString",(function(){for(var t,e=L(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(D(t.key)+"="+D(t.value));return n.join("&")}),{enumerable:!0}),c(_,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:_}),i||"function"!=typeof S||"function"!=typeof E||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,o=[t];return arguments.length>1&&(g(e=arguments[1])&&(n=e.body,"URLSearchParams"===p(n)&&((r=e.headers?new E(e.headers):new E).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=m(e,{body:y(0,String(n)),headers:y(0,r)}))),o.push(e)),S.apply(this,o)}}),t.exports={URLSearchParams:_,getState:L}},function(t,e,n){var r=n(5),o=n(39);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){function r(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,c,"next",t)}function c(t){r(a,o,i,s,c,"throw",t)}s(void 0)}))}}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(30),n(24),n(80),n(148),n(27),n(108),n(33),n(49),n(48),n(76),n(111);var a=function(){"use strict";function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(t){var e=JSON.parse(t.data);console.log(e),"joinRoom"===e.type?i(e):"createRoom"===e.type?r(e):"roomActionState"===e.type?l(e):"roomActionKickFromRoom"===e.type||("roomActionLeaveRoom"===e.type?a(e):"getCurrentRoom"===e.type?f(e):"roomActionStartGame"===e.type?c(e):"roomActionEndGame"===e.type?u(e):"roomActionMahjong"===e.type?this.onGameMahjong instanceof Function&&this.onGameMahjong(e):"roomActionWallEmpty"===e.type?this.onGameMahjong instanceof Function&&this.onWallEmpty(e):"roomActionPlaceTiles"===e.type?this.onPlaceTiles instanceof Function&&this.onPlaceTiles(e):"roomActionGameplayAlert"===e.type?this.onGameplayAlert instanceof Function&&this.onGameplayAlert(e):console.log("Unknown Type "+e.type))}.bind(this);this.createWebsocket=function(){var t=o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.websocket=new WebSocket(e),this.websocket.addEventListener("message",n),this.websocket.addEventListener("error",function(){var t=o(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.error(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}().bind(this)),this.websocket.addEventListener("close",function(){var t=o(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.warn(e),1e3===e.code){t.next=6;break}return t.next=4,new Promise((function(t,e){setTimeout(t,1e3)}));case 4:this.createWebsocket(),this.getCurrentRoom();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}().bind(this)),this.sendMessage=function(){var t=o(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.websocket.readyState){t.next=3;break}return t.next=3,new Promise((function(t,e){n.websocket.onopen=t,n.websocket.onerror=e}));case 3:console.log(e),this.websocket.send(e);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}().bind(this),this.createWebsocket(),this.inRoom=!1,this.isHost=!1,this.inGame=!1,this.joinRoom=function(t,e){this.sendMessage(JSON.stringify({type:"joinRoom",clientId:window.clientId,roomId:t,nickname:e}))},this.createRoom=function(t,e){this.sendMessage(JSON.stringify({type:"createRoom",clientId:window.clientId,roomId:t,nickname:e}))},this.kickUser=function(t,e){this.sendMessage(JSON.stringify({type:"roomActionKickFromRoom",clientId:window.clientId,id:e}))},this.leaveRoom=function(t){this.sendMessage(JSON.stringify({type:"roomActionLeaveRoom",clientId:window.clientId}))},this.closeRoom=function(t){this.sendMessage(JSON.stringify({type:"roomActionCloseRoom",clientId:window.clientId}))},this.startGame=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessage(JSON.stringify({type:"roomActionStartGame",clientId:window.clientId,settings:t}))},this.endGame=function(){this.sendMessage(JSON.stringify({type:"roomActionEndGame",clientId:window.clientId}))},this.placeTiles=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.sendMessage(JSON.stringify({type:"roomActionPlaceTiles",clientId:window.clientId,mahjong:e,message:t}))},this.addBot=function(t){this.sendMessage(JSON.stringify({type:"roomActionAddBot",clientId:window.clientId,botName:t}))},this.setNickname=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.clientId;this.sendMessage(JSON.stringify({type:"roomActionChangeNickname",clientId:window.clientId,nickname:t,targetId:e}))},this.getCurrentRoom=function(){this.sendMessage(JSON.stringify({type:"getCurrentRoom",clientId:window.clientId}))}.bind(this),this.revertState=function(t){this.sendMessage(JSON.stringify({type:"roomActionRevertState",message:t,clientId:window.clientId}))}.bind(this),this.createRoomFromState=function(t){this.sendMessage(JSON.stringify({type:"createRoomFromState",saveId:t,clientId:window.clientId}))}.bind(this),this.getState=function(t){console.log("Getting state..."),this.sendMessage(JSON.stringify({type:"roomActionState",clientId:window.clientId}))};var r=function(t){"success"===t.status&&(this.inRoom=t.message,this.isHost=!0),this.onCreateRoom instanceof Function&&this.onCreateRoom(t)}.bind(this),i=function(t){"success"===t.status&&(this.inRoom=t.message),this.onJoinRoom instanceof Function&&this.onJoinRoom(t)}.bind(this),a=function(t){"success"===t.status&&(this.inRoom=!1,this.isHost=!1),this.onLeaveRoom instanceof Function&&this.onLeaveRoom(t)}.bind(this),s={onStartGame:[],onEndGame:[],onStateUpdate:[]};this.addEventListener=function(t,e){if(!s[t])throw t+" is not supported by this addEventListener";s[t].push(e)}.bind(this),this.removeEventListener=function(t,e){if(!s[t])throw t+" is not supported by this addEventListener";if(-1===s.indexOf(e))throw"Unable to find listener";s[t].splice(s.indexOf(e),1)}.bind(this);var c=function(t){"success"===t.status&&(this.inGame=!0),this.onStartGame instanceof Function&&this.onStartGame(t),s.onStartGame.forEach((function(e){e(t)}))}.bind(this),u=function(t){"success"===t.status&&(this.inGame=!1),this.onEndGame instanceof Function&&this.onEndGame(t),s.onEndGame.forEach((function(e){e(t)}))}.bind(this),l=function(t){console.log(t),this.isHost=t.message.isHost,!1===this.inGame&&!0===t.message.inGame?c({status:"success",message:"State Sync"}):!0===this.inGame&&!1===t.message.inGame&&u({status:"success",message:"State Sync"}),this.currentTurn=t.message.currentTurn,this.onStateUpdate instanceof Function&&this.onStateUpdate(t),s.onStateUpdate.forEach((function(e){e(t)}))}.bind(this),f=function(t){this.inRoom=t.message||!1,this.inRoom&&(i(t),this.getState(this.inRoom))}.bind(this)}var e,n,r;return e=t,r=[{key:"setClientId",value:function(t){window.clientId=t,localStorage.setItem("clientId",window.clientId);var e=new URLSearchParams("?"+window.location.hash.slice(1));e.has("clientId")&&(window.clientId=e.get("clientId"))}},{key:"createNewClientId",value:function(){return"user"+Math.random()*Math.pow(2,53)}},{key:"getClientId",value:function(){var e=localStorage.getItem("clientId");return null===e&&(e=t.createNewClientId()),e}}],(n=null)&&i(e.prototype,n),r&&i(e,r),t}();a.setClientId(a.getClientId()),t.exports=a},function(t,e,n){var r=n(0);t.exports=r.Promise},function(t,e,n){"use strict";var r=n(14),o=n(9),i=n(1),a=n(7),s=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(5),o=n(78),i=n(12),a=n(31),s=n(39),c=n(77),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,l,f){var h,d,p,v,g,m,y,w=a(e,n,l?2:1);if(f)h=t;else{if("function"!=typeof(d=s(t)))throw TypeError("Target is not iterable");if(o(d)){for(p=0,v=i(t.length);v>p;p++)if((g=l?w(r(y=t[p])[0],y[1]):w(t[p]))&&g instanceof u)return g;return new u(!1)}h=d.call(t)}for(m=h.next;!(y=m.call(h)).done;)if("object"==typeof(g=c(h,w,y.value,l))&&g&&g instanceof u)return g;return new u(!1)}).stop=function(t){return new u(!0,t)}},function(t,e,n){var r,o,i,a,s,c,u,l,f=n(0),h=n(21).f,d=n(11),p=n(97).set,v=n(98),g=f.MutationObserver||f.WebKitMutationObserver,m=f.process,y=f.Promise,w="process"==d(m),b=h(f,"queueMicrotask"),x=b&&b.value;x||(r=function(){var t,e;for(w&&(t=m.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},w?a=function(){m.nextTick(r)}:g&&!v?(s=!0,c=document.createTextNode(""),new g(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s}):y&&y.resolve?(u=y.resolve(void 0),l=u.then,a=function(){l.call(u,r)}):a=function(){p.call(f,r)}),t.exports=x||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(5),o=n(6),i=n(99);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";var r=n(4),o=n(0),i=n(14),a=n(19),s=n(7),c=n(45),u=n(71),l=n(2),f=n(3),h=n(102),d=n(6),p=n(5),v=n(16),g=n(13),m=n(22),y=n(17),w=n(47),b=n(63),x=n(53),S=n(168),E=n(55),T=n(21),C=n(9),L=n(50),k=n(8),O=n(10),M=n(42),P=n(36),A=n(29),I=n(43),R=n(1),N=n(150),j=n(151),D=n(25),F=n(15),B=n(72).forEach,H=P("hidden"),U=R("toPrimitive"),_=F.set,G=F.getterFor("Symbol"),J=Object.prototype,q=o.Symbol,V=i("JSON","stringify"),W=T.f,Y=C.f,z=S.f,X=L.f,$=M("symbols"),K=M("op-symbols"),Q=M("string-to-symbol-registry"),Z=M("symbol-to-string-registry"),tt=M("wks"),et=o.QObject,nt=!et||!et.prototype||!et.prototype.findChild,rt=s&&l((function(){return 7!=w(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=W(J,e);r&&delete J[e],Y(t,e,n),r&&t!==J&&Y(J,e,r)}:Y,ot=function(t,e){var n=$[t]=w(q.prototype);return _(n,{type:"Symbol",tag:t,description:e}),s||(n.description=e),n},it=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},at=function(t,e,n){t===J&&at(K,e,n),p(t);var r=m(e,!0);return p(n),f($,r)?(n.enumerable?(f(t,H)&&t[H][r]&&(t[H][r]=!1),n=w(n,{enumerable:y(0,!1)})):(f(t,H)||Y(t,H,y(1,{})),t[H][r]=!0),rt(t,r,n)):Y(t,r,n)},st=function(t,e){p(t);var n=g(e),r=b(n).concat(ft(n));return B(r,(function(e){s&&!ct.call(n,e)||at(t,e,n[e])})),t},ct=function(t){var e=m(t,!0),n=X.call(this,e);return!(this===J&&f($,e)&&!f(K,e))&&(!(n||!f(this,e)||!f($,e)||f(this,H)&&this[H][e])||n)},ut=function(t,e){var n=g(t),r=m(e,!0);if(n!==J||!f($,r)||f(K,r)){var o=W(n,r);return!o||!f($,r)||f(n,H)&&n[H][r]||(o.enumerable=!0),o}},lt=function(t){var e=z(g(t)),n=[];return B(e,(function(t){f($,t)||f(A,t)||n.push(t)})),n},ft=function(t){var e=t===J,n=z(e?K:g(t)),r=[];return B(n,(function(t){!f($,t)||e&&!f(J,t)||r.push($[t])})),r};(c||(O((q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),n=function(t){this===J&&n.call(K,t),f(this,H)&&f(this[H],e)&&(this[H][e]=!1),rt(this,e,y(1,t))};return s&&nt&&rt(J,e,{configurable:!0,set:n}),ot(e,t)}).prototype,"toString",(function(){return G(this).tag})),O(q,"withoutSetter",(function(t){return ot(I(t),t)})),L.f=ct,C.f=at,T.f=ut,x.f=S.f=lt,E.f=ft,N.f=function(t){return ot(R(t),t)},s&&(Y(q.prototype,"description",{configurable:!0,get:function(){return G(this).description}}),a||O(J,"propertyIsEnumerable",ct,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),B(b(tt),(function(t){j(t)})),r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=String(t);if(f(Q,e))return Q[e];var n=q(e);return Q[e]=n,Z[n]=e,n},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(f(Z,t))return Z[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(t,e){return void 0===e?w(t):st(w(t),e)},defineProperty:at,defineProperties:st,getOwnPropertyDescriptor:ut}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:lt,getOwnPropertySymbols:ft}),r({target:"Object",stat:!0,forced:l((function(){E.f(1)}))},{getOwnPropertySymbols:function(t){return E.f(v(t))}}),V)&&r({target:"JSON",stat:!0,forced:!c||l((function(){var t=q();return"[null]"!=V([t])||"{}"!=V({a:t})||"{}"!=V(Object(t))}))},{stringify:function(t,e,n){for(var r,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=e,(d(e)||void 0!==t)&&!it(t))return h(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!it(e))return e}),o[1]=e,V.apply(null,o)}});q.prototype[U]||k(q.prototype,U,q.prototype.valueOf),D(q,"Symbol"),A[H]=!0},function(t,e,n){"use strict";var r=n(4),o=n(7),i=n(0),a=n(3),s=n(6),c=n(9).f,u=n(68),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};u(h,l);var d=h.prototype=l.prototype;d.constructor=h;var p=d.toString,v="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(f,t))return"";var n=v?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(151)("iterator")},function(t,e,n){"use strict";var r=n(4),o=n(72).filter,i=n(86),a=n(37),s=i("filter"),c=a("filter");r({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(4),o=n(72).some,i=n(73),a=n(37),s=i("some"),c=a("some");r({target:"Array",proto:!0,forced:!s||!c},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(7),o=n(0),i=n(56),a=n(10),s=n(3),c=n(11),u=n(170),l=n(22),f=n(2),h=n(47),d=n(53).f,p=n(21).f,v=n(9).f,g=n(152).trim,m=o.Number,y=m.prototype,w="Number"==c(h(y)),b=function(t){var e,n,r,o,i,a,s,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=g(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(a=(i=u.slice(2)).length,s=0;s<a;s++)if((c=i.charCodeAt(s))<48||c>o)return NaN;return parseInt(i,r)}return+u};if(i("Number",!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var x,S=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof S&&(w?f((function(){y.valueOf.call(n)})):"Number"!=c(n))?u(new m(b(e)),n,S):b(e)},E=r?d(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;E.length>T;T++)s(m,x=E[T])&&!s(S,x)&&v(S,x,p(m,x));S.prototype=y,y.constructor=S,a(o,"Number",S)}},function(t,e,n){"use strict";var r=n(2);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){"use strict";n(82);var r=n(10),o=n(2),i=n(1),a=n(59),s=n(8),c=i("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=i("replace"),h=!!/./[f]&&""===/./[f]("a","$0"),d=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var p=i(t),v=!o((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=v&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!v||!g||"replace"===t&&(!u||!l||h)||"split"===t&&!d){var m=/./[p],y=n(p,""[t],(function(t,e,n,r,o){return e.exec===a?v&&!o?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),w=y[0],b=y[1];r(String.prototype,t,w),r(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}f&&s(RegExp.prototype[p],"sham",!0)}},function(t,e,n){"use strict";var r=n(57).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(11),o=n(59);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(60),n(175),n(27),n(108),n(82),n(155);var o=new Promise((function(t){t()})),i=0,a=function(){"use strict";return function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3200;r(this,t);var a=document.createElement("div");a.classList.add("blocklessAlertCover"),a.style.display="none",document.body.appendChild(a);var s=document.createElement("p");s.innerHTML=e,a.appendChild(s);var c=o;return o=new Promise((function(t){i++,o.then((function(){console.log(i+" messages remaining to be posted. ");var e=n/(Math.max(1,Math.pow(i,.8))||1);e=Math.max(800,e),console.log("Adjusting duration from ".concat(n," to ").concat(e)),n=e,a.style.animation="fadeInAndOut "+n+"ms ease-in",a.style.display="",setTimeout((function(){a.remove(),i--,t()}),n)}))})),{onStart:c,onEnd:o}}}();t.exports={Notification:function t(e,n){"use strict";r(this,t),n=n.split("\n").join("<br>");var o=document.createElement("div");o.id="errorPopupCover",o.style.display="none",document.body.appendChild(o);var i=document.createElement("div");i.id="errorPopup",o.appendChild(i);var a=document.createElement("p");a.innerHTML=e,a.id="errorText",i.appendChild(a);var s=document.createElement("p");s.innerHTML=n,s.id="messageText",i.appendChild(s);var c=document.createElement("button");c.id="dismissButton",c.innerHTML="Dismiss",i.appendChild(c);var u=function(t){this.ondismissed&&this.ondismissed(),o.remove()}.bind(this);setTimeout((function(){c.addEventListener("click",u),o.addEventListener("click",(function(t){t.target===o&&u()}))}),500),this.show=function(){o.style.display=""}},MessageBar:function t(e){"use strict";r(this,t);var n=document.createElement("div");n.id="notificationBar";var o=document.createElement("p");o.innerHTML=e,n.appendChild(o),this.show=function(t){document.body.appendChild(n),setTimeout((function(){n.remove()}),t)}},BlocklessAlert:a}},function(t,e,n){"use strict";n.r(e);n(60),n(30),n(46),n(90),n(24),n(27),n(143),n(117),n(33),n(147),n(48),n(76);var r=n(165);try{if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)||navigator.userAgent.indexOf("Trident/")>-1){var o=document.createElement("h2");o.innerHTML="Internet Explorer is NOT Supported. Choose a different browser (Chrome, Firefox, Edge, Safari, Opera, and most other browsers should work)",document.body.insertBefore(o,document.body.firstChild)}}catch(t){console.error(t)}if("serviceWorker"in navigator)try{navigator.serviceWorker.register("packagedsw.js")}catch(t){console.error(t)}document.title="Mahjong 4 Friends - Free Multiplayer Mahjong",window.isAndroid=!1,document.referrer&&document.referrer.includes("android-app://com.mahjong4friends.twa")&&(window.isAndroid=!0),n(107);[16,24,32,64,96,160,196].forEach((function(t){var e=document.createElement("link");e.rel="shortcut icon",e.type="image/png",e.sizes=t+"x"+t,e.href="assets/icons/".concat(t,"x").concat(t,"-green-dragon.png"),document.head.appendChild(e)}));var i=n(122);(0,n(166).polyfill)({dragImageTranslateOverride:r.scrollBehaviourDragImageTranslateOverride});var a=new URL(window.location.origin+window.location.pathname);a.pathname="/node","https:"===window.location.protocol?a.protocol="wss:":a.protocol="ws:",("127.0.0.1"===window.location.hostname||window.location.hostname.startsWith("192.168.1"))&&(a.port=7591);var s=a.toString();window.isNative&&(s="wss://mahjong4friends.com/node"),window.stateManager=new i(s),["Hand","Tile","Sequence","Pretty","Match","Wall","Popups"].forEach((function(t){window[t]=n(167)("./"+t+".js")}));n(163),n(149);function c(){document.documentElement.style.setProperty("--vh","".concat(window.innerHeight/100,"px")),document.documentElement.style.setProperty("--vw","".concat(window.innerWidth/100,"px"));var t=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--sal"));t-=10,document.documentElement.style.setProperty("--shiftPercentageLeft","".concat(Math.max(0,t/window.innerWidth)));var e=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--sar"));e-=10,document.documentElement.style.setProperty("--shiftPercentageRight","".concat(Math.max(0,e/window.innerWidth)))}window.addEventListener("resize",c),window.addEventListener("orientationchange",c),c(),window.addEventListener("touchmove",(function(){}),{passive:!1})},function(t,e,n){"use strict";var r=n(72).forEach,o=n(73),i=n(37),a=o("forEach"),s=i("forEach");t.exports=a&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){"use strict";var r=n(10),o=n(5),i=n(2),a=n(104),s=RegExp.prototype,c=s.toString,u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),l="toString"!=c.name;(u||l)&&r(RegExp.prototype,"toString",(function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?a.call(t):n)}),{unsafe:!0})},function(t,e,n){var r=n(145);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(6),o=n(11),i=n(1)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(1)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r,o=n(4),i=n(21).f,a=n(12),s=n(144),c=n(18),u=n(146),l=n(19),f="".startsWith,h=Math.min,d=u("startsWith");o({target:"String",proto:!0,forced:!!(l||d||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!d},{startsWith:function(t){var e=String(c(this));s(t);var n=a(h(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return f?f.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";var r=n(4),o=n(54),i=n(26),a=n(12),s=n(16),c=n(114),u=n(70),l=n(86),f=n(37),h=l("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!h||!d},{splice:function(t,e){var n,r,l,f,h,d,g=s(this),m=a(g.length),y=o(t,m),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=m-y):(n=w-2,r=v(p(i(e),0),m-y)),m+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=c(g,r),f=0;f<r;f++)(h=y+f)in g&&u(l,f,g[h]);if(l.length=r,n<r){for(f=y;f<m-r;f++)d=f+n,(h=f+r)in g?g[d]=g[h]:delete g[d];for(f=m;f>m-r+n;f--)delete g[f-1]}else if(n>r)for(f=m-r;f>y;f--)d=f+n-1,(h=f+r-1)in g?g[d]=g[h]:delete g[d];for(f=0;f<n;f++)g[f+y]=arguments[f+2];return g.length=m-r+n,l}})},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(130),n(131),n(132),n(60),n(112),n(133),n(30),n(46),n(90),n(24),n(100),n(80),n(134),n(135),n(27),n(117),n(33),n(49),n(48);var o=n(40),i=n(113),a=n(101),s=n(140),c=(n(67),n(66),document.createElement("div"));function u(t){var e=document.createElement("div");return e.id=t,c.appendChild(e),e}function l(t,e){var n=u(t),r=document.createElement("div");return r.id=e,n.appendChild(r),r}c.id="gameBoard",document.body.appendChild(c);var f=new function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.id=t.id||"compass",this.compass=document.createElement("img"),this.compass.id=t.id,c.appendChild(this.compass),this.setDirectionForUserWind=function(t){this.compass.src="assets/compass-"+t+".svg"}}({id:"compass"});var h=new function(t){if(!document.fullscreenEnabled&&document.webkitFullscreenEnabled&&(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.webkitFullscreenElement}}),document.documentElement.requestFullscreen=function(){document.documentElement.webkitRequestFullScreen()},document.exitFullscreen=function(){document.webkitExitFullscreen()},document.addEventListener("webkitfullscreenchange",(function(){document.dispatchEvent(new Event("fullscreenchange"))}))),void 0!==document.fullscreenElement){this.toggleElement=document.createElement("img"),this.toggleElement.id=t,this.toggleElement.title="Toggle Full Screen",this.toggleElement.addEventListener("click",(function(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()}));var e=function(){document.fullscreenElement?this.toggleElement.src="assets/exit-full-screen.svg":this.toggleElement.src="assets/go-full-screen.svg"}.bind(this);document.addEventListener("fullscreenchange",e),e()}}("fullscreenControls");h.toggleElement&&c.appendChild(h.toggleElement),window.Tile=o,window.Sequence=n(67),window.Match=n(66);var d=function(){var t=document.createElement("div");return t.id="tilePlacemat",t}();c.appendChild(d);var p=document.createElement("button");p.id="revertStateButton",p.innerHTML="Revert",c.appendChild(p),p.addEventListener("click",(function(){var t=prompt("How many moves (4 moves per turn) would you like to revert? You can always revert more if needed, but can't undo a revert. ");null!==t&&confirm("Are you sure you would like to revert the game state? Other players will be notified, so you should clear the revert with them. ")&&window.stateManager.revertState(t)}));var v=document.createElement("button");v.id="placeTilesButton",v.innerHTML="Proceed",c.appendChild(v),v.addEventListener("click",(function(){var t=E.inPlacemat;t.length!==Number(t.some((function(t){return t.evicting})))?(console.log(t),window.stateManager.placeTiles(t)):window.stateManager.placeTiles([])})),window.stateManager.onPlaceTiles=function(t){"error"===t.status&&new s.Notification("Error Placing Tiles",t.message).show()},window.stateManager.onGameplayAlert=function(t){var e,n=document.createElement("audio"),r=[];t.message.includes("thrown")?n.volume=.5:t.message.includes("mahjong")&&(n.volume=1.2,r=["tiles-dropping-table.mp3"]),r.length>0&&(n.src="assets/sounds/"+r[Math.floor(Math.random()*r.length)],n.setAttribute("preload","auto"),n.setAttribute("controls","none"),n.style.display="none",document.body.appendChild(n),n.play(),setTimeout((function(){n.remove()}),2e3)),console.log(t),console.log(t.message);var o=new s.BlocklessAlert(t.message,4e3*((null==t||null===(e=t.status)||void 0===e?void 0:e.durationMultiplier)||1));console.log(o),o.onStart.then((function(){var e,n;if(window.voiceChoices[null==t||null===(e=t.status)||void 0===e?void 0:e.clientId]&&(null==t||null===(n=t.status)||void 0===n?void 0:n.speech)){var r=new SpeechSynthesisUtterance(t.status.speech),o=window.voiceChoices[t.status.clientId].get();if(console.log(window.voiceChoices[t.status.clientId]),console.log(window.voiceChoices[t.status.clientId].get()),console.log(o),"string"!=typeof o)try{r.voice=o}catch(t){console.error(t)}"none"!==o&&speechSynthesis.speak(r)}}))};var g=document.createElement("button");g.id="endGameButton",g.innerHTML="End Game",c.appendChild(g);var m=!0;function y(t,e){m=!1,new s.Notification(t,e.message).show()}window.stateManager.addEventListener("onStartGame",(function(){m=!0})),g.addEventListener("click",(function(){m&&!confirm("Are you absolutely sure you want to end the game?")||window.stateManager.endGame()})),window.stateManager.onGameMahjong=function(t){y("Mahjong!",t)},window.stateManager.onWallEmpty=function(t){y("Game Over - Wall Empty",t)};var w=document.createElement("button");w.id="goMahjongButton",w.innerHTML="Mahjong",c.appendChild(w),w.addEventListener("click",(function(){var t=E.inPlacemat;console.log(t),window.stateManager.placeTiles(t,{mahjong:!0})}));var b=document.createElement("div");b.id="wall",c.appendChild(b);var x=document.createElement("div");x.id="discardPile",c.appendChild(x);var S=u("userHand"),E=(u("userHandExposed"),new i({handToRender:S,handForExposed:userHandExposed,interactive:!0,tilePlacemat:d}));window.userHand=E;var T=l("rightHand","rightHandContainer"),C=new i({handToRender:T}),L=u("topHand"),k=new i({handToRender:L}),O=l("leftHand","leftHandContainer"),M=new i({handToRender:O}),P=["bottomNametag","rightNametag","topNametag","leftNametag"].map((function(t){var e=document.createElement("p");return e.id=t,c.appendChild(e),e}));function A(){k.renderTiles(),M.renderTiles(),C.renderTiles(),E.renderTiles()}window.stateManager.addEventListener("onStateUpdate",(function(t){var e,n,s=t.message;if(s.inGame){document.body.style.overflow="hidden",void 0!==s.wallTiles&&(console.log(s.wallTiles),"object"===r(s.wallTiles)?s.wallTiles=i.convertStringsToTiles(s.wallTiles):s.wallTiles=new Array(s.wallTiles).fill(new o({faceDown:!0})),console.log(s.wallTiles),a.renderWall(b,s.wallTiles)),s.discardPile&&function(t){for(;x.firstChild;)x.firstChild.remove();var e=t.map((function(t){return o.fromJSON(t)}));(e=i.sortTiles(e)).forEach((function(t){var e=document.createElement("img");e.src=t.imageUrl,e.title=t.tileName,x.appendChild(e)}))}(s.discardPile);var c,u=s.clients,l=["north","east","south","west"],h=[E,C,k,M];u.forEach((function(t){if(t.hand){var e;console.log("User hand stuff");var n=i.fromString(t.hand);E.syncContents(n.contents,null==s||null===(e=s.currentTurn)||void 0===e?void 0:e.charleston),c=n.wind}}));var d=l.indexOf(c);f.setDirectionForUserWind(c);var p=l.slice(d).concat(l.slice(0,d));console.log(p),console.log(h),u.forEach((function(t){var e=0;t.wind&&(e=p.indexOf(t.wind));var n=h[e];t.visibleHand&&t.wind&&(console.log("Client hand stuff"),console.log(t),console.log(t.wind),n.syncContents(i.convertStringsToTiles(t.visibleHand)),n.wind=t.wind);var r=P[e];r.innerHTML=t.nickname,r.style.color="",n.handToRender.classList.remove("brightnessPulse"),s.currentTurn&&t.id===s.currentTurn.userTurn&&(n.handToRender.classList.add("brightnessPulse"),r.style.color="red")})),h.forEach((function(t){t.renderTiles()})),(null===(e=s.currentTurn)||void 0===e||null===(n=e.playersReady)||void 0===n?void 0:n.length)>0?(v.disabled=s.currentTurn.playersReady.includes(window.clientId)?"disabled":"",w.disabled=s.currentTurn.playersReady.includes(window.clientId)?"disabled":"",v.innerHTML="Proceed ("+s.currentTurn.playersReady.length+"/4)",s.currentTurn.thrown||s.currentTurn.charleston||s.currentTurn.userTurn!==clientId||(v.disabled=""),s.currentTurn.charleston&&s.currentTurn.userTurn!==clientId&&(w.disabled="disabled"),s.currentTurn.userTurn!==clientId?E.setEvictingThrownTile(o.fromJSON(s.currentTurn.thrown)):E.setEvictingThrownTile(),E.renderPlacemat()):(v.disabled="",w.disabled="",v.innerHTML="Proceed",E.setEvictingThrownTile(),s.currentTurn.charleston&&(w.disabled="disabled"),s.currentTurn.userTurn===window.clientId?E.renderPlacemat("pending"):s.currentTurn.charleston||(v.disabled="disabled",w.disabled="disabled"))}else document.body.style.overflow=""})),document.addEventListener("keyup",(function(t){var e=["q","w","e","r","t","y","u","i","o","p","a","s","d","f"];if(stateManager.inGame)if("Space"===t.code&&t.shiftKey)w.click();else if("Space"===t.code)v.click();else if(Number(t.key)>0&&Number(t.key)<5){var n=Number(t.key)-1;E.moveTile(E.inPlacemat[n])}else if(e.includes(t.key.toLowerCase())){var r=e.indexOf(t.key.toLowerCase()),i=E.contents.filter((function(t){return t instanceof o}));E.moveTile(i[r])}})),window.addEventListener("resize",A),window.addEventListener("orientationchange",A),window.addEventListener("scroll",(function(t){window.stateManager.inGame&&window.scrollTo(0,0)})),t.exports=c},function(t,e,n){var r=n(1);e.f=r},function(t,e,n){var r=n(69),o=n(3),i=n(150),a=n(9).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){var r=n(18),o="["+n(153)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e){t.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(4),o=n(23),i=n(16),a=n(2),s=n(73),c=[],u=c.sort,l=a((function(){c.sort(void 0)})),f=a((function(){c.sort(null)})),h=s("sort");r({target:"Array",proto:!0,forced:l||!f||!h},{sort:function(t){return void 0===t?u.call(i(this)):u.call(i(this),o(t))}})},function(t,e,n){"use strict";var r=n(137),o=n(145),i=n(5),a=n(18),s=n(110),c=n(138),u=n(12),l=n(139),f=n(59),h=n(2),d=[].push,p=Math.min,v=!h((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var s,c,u,l=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=new RegExp(t.source,h+"g");(s=f.call(v,r))&&!((c=v.lastIndex)>p&&(l.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&d.apply(l,s.slice(1)),u=s[0].length,p=c,l.length>=i));)v.lastIndex===s.index&&v.lastIndex++;return p===r.length?!u&&v.test("")||l.push(""):l.push(r.slice(p)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var a=n(r,t,this,o,r!==e);if(a.done)return a.value;var f=i(t),h=String(this),d=s(f,RegExp),g=f.unicode,m=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(v?"y":"g"),y=new d(v?f:"^(?:"+f.source+")",m),w=void 0===o?4294967295:o>>>0;if(0===w)return[];if(0===h.length)return null===l(y,h)?[h]:[];for(var b=0,x=0,S=[];x<h.length;){y.lastIndex=v?x:0;var E,T=l(y,v?h:h.slice(x));if(null===T||(E=p(u(y.lastIndex+(v?0:x)),h.length))===b)x=c(h,x,g);else{if(S.push(h.slice(b,x)),S.length===w)return S;for(var C=1;C<=T.length-1;C++)if(S.push(T[C]),S.length===w)return S;x=b=E}}return S.push(h.slice(b)),S}]}),!v)},function(t,e,n){n(60),n(30),n(46),n(90),n(80),n(64),n(49),n(65);var r=n(40);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],o=[];console.log(this.contents.length),this.contents.forEach((function(t){n.push(t.toJSON())})),console.log(this.inPlacemat.length),this.inPlacemat.forEach((function(t){t.evicting||n.push(t.toJSON())})),t.forEach((function(t){o.push(t.toJSON())}));for(var i=0;i<n.length;i++){var a=n[i];a&&o.includes(a)&&(n[i]=null,o[o.indexOf(a)]=null)}var s=this.contents.slice(0);s=this.inPlacemat[0]&&this.inPlacemat[0].evicting?s.concat(this.inPlacemat.slice(1)):s.concat(this.inPlacemat.slice(0));for(var c=0;c<n.length;c++){var u=n[c];u&&this.remove(s[c])}for(var l=0;l<o.length;l++){var f=o[l];f&&(e&&this.inPlacemat.length<3&&t[l]instanceof r?this.inPlacemat.push(t[l]):this.add(t[l]))}}},function(t,e,n){n(30),n(80);var r=n(66),o=n(40);t.exports=function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=0,i=0,a=!1,s=this.contents.slice(0),c=function(e){var s=t.contents[e];s instanceof o&&[4,3,2].forEach(function(n){s instanceof o?t.removeMatchingTilesFromHand(s,n)&&(e--,s=new r({amount:n,type:s.type,value:s.value,exposed:!1})):u=e}.bind(t)),n+=s.isDouble(t.wind),i+=s.getPoints(t.wind),a=a||s.isSequence,u=e},u=0;u<this.contents.length;u++)c(u);return e.isMahjong&&(i+=20,e.drewOwnTile&&(i+=10),a||(i+=10)),this.contents=s,n+=this.getClearHandDoubles(),i*Math.pow(2,n)}},function(t,e,n){n(30),n(46),n(159),n(49);var r=n(67),o=n(81);t.exports=function(){var t={},e=!1,n=!0;return this.contents.forEach((function(e){e instanceof r?(t[e.tiles[0].type]=!0,n=!1):e instanceof o||(t[e.type]=!0,["wind","dragon"].includes(e.type)||1===e.value||9===e.value||(n=!1))})),(t.wind||t.dragon)&&(delete t.wind,delete t.dragon,e=!0),0===(t=Object.keys(t).length)?3:1!==t||e?1===t&&e?1:n&&!e?3:n&&e?1:0:3}},function(t,e,n){var r=n(4),o=n(16),i=n(63);r({target:"Object",stat:!0,forced:n(2)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,n){function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(130),n(131),n(132),n(60),n(133),n(30),n(172),n(24),n(173),n(80),n(161),n(135),n(27),n(143),n(33),n(49),n(48),n(111);var i=n(67),a=n(81),s=n(101),c=n(66),u=n(40),l=n(113);t.exports=function(t){for(var e=regeneratorRuntime.mark(b),n=0,o=0,f=0,h=[],d=[],p=0;p<this.contents.length;p++){var v=this.contents[p];v.isPongOrKong?(n++,d.push(v)):v.isPair?(o++,d.push(v)):v.isSequence?(f++,d.push(v)):v instanceof a?d.push(v):h.push(v)}if(1===o)if(t){if(f+n===4)return 2}else if(Math.min(f,1)+n===4)return 2;var g=l.sortTiles(s.getNonPrettyTiles(1)),m=[],y=[],w=new l;function b(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,i){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.length!=n){r.next=5;break}return r.next=3,i;case 3:r.next=11;break;case 5:a=e;case 6:if(!(a<t.length)){r.next=11;break}return r.delegateYield(o(a+1,i.concat(t[a])),"t0",8);case 8:a++,r.next=6;break;case 11:case"end":return r.stop()}}),r)},r=regeneratorRuntime.mark(o),e.delegateYield(o(0,[]),"t0",3);case 3:case"end":return e.stop()}}),e)}w.contents=h.slice(0),g.forEach((function(t){w.removeMatchingTilesFromHand(t,3,!0)&&m.push(t)})),g.forEach((function(t,e){if(i.isValidSequence(g.slice(e,e+3))){var n=new i({exposed:!1,tiles:g.slice(e,e+3)});w.removeTilesFromHand(n,!0)&&y.push(n)}}));var x=[],S=m,E=4;t||0===f?(S=S.concat(y),E-=f):E-=Math.min(f,1);var T,C=r(b(S,E-=n));try{for(C.s();!(T=C.n()).done;){var L=T.value,k=L.reduce((function(t,e){return t+Number(e instanceof i)}),0),O=E-k;k+=f,!t&&4-n-O>Math.min(1,k)||x.push(L)}}catch(t){C.e(t)}finally{C.f()}t:for(var M=0;M<x.length;M++){var P=x[M],A=new l;A.contents=w.contents.slice(0);for(var I=0;I<P.length;I++){var R=P[I];if(R instanceof u){if(!A.removeMatchingTilesFromHand(R,3))continue t;A.add(new c({type:R.type,value:R.value,exposed:!1,amount:3}))}else if(R instanceof i){if(!A.removeTilesFromHand(R))continue t;A.add(R)}}var N=A.contents.filter((function(t){return t instanceof u}))[0];if(0!==o||A.removeMatchingTilesFromHand(N,2,!0))return 0===o&&(A.add(new c({type:N.type,value:N.value,exposed:!1,amount:2})),A.removeMatchingTilesFromHand(N,2)),A.contents=A.contents.concat(d.slice(0)),A}return 0}},function(t,e,n){var r=n(7),o=n(9).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(130),n(131),n(132),n(112),n(30),n(24),n(134),n(27),n(33),n(49),n(48);var o=n(67),i=(n(81),n(101)),a=n(66),s=n(40),c=n(113);t.exports=function(t,e){var n=this,u=new c;u.contents=i.getNonPrettyTiles(),t.forEach((function(t){u.removeMatchingTile(t)})),this.contents.forEach((function(t){t instanceof s?u.removeMatchingTile(t):t instanceof o?t.tiles.forEach((function(t){u.removeMatchingTile(t)})):t instanceof a&&new Array(t.amount).fill().forEach((function(){u.removeMatchingTile(t.getComponentTile())}))}));for(var l=function(){for(var t=u.contents[0];u.removeMatchingTile(t););var r=n.contents.some((function(e,n){return t.matches(e)}));if(!r&&!isNaN(t.value)){var o=[,,!0,,,];n.contents.forEach((function(e){e.type===t.type&&Math.abs(e.value-t.value)<=2&&(o[2-(e.value-t.value)]=!0)})),(o[0]&&o[1]||o[1]&&o[3]||o[3]&&o[4])&&(r=!0)}return r?(n.add(t),n.isMahjong(e)?(n.remove(t),{v:!0}):void n.remove(t)):"continue"};u.contents.length;){var f=l();if("continue"!==f&&"object"===r(f))return f.v}return!1}},function(t,e,n){n(30),n(46),n(90),n(24),n(80),n(161),n(135),n(27),n(117),n(33),n(147),n(176),n(49),n(48),n(76);var r=n(140),o=n(164),i=n(178),a=document.createElement("div");a.id="roomManager",document.body.appendChild(a);var s=document.createElement("div");s.id="heading",a.appendChild(s);var c=document.createElement("h1");c.innerHTML="Mahjong",c.id="mahjongHeading",s.appendChild(c);var u=document.createElement("h1");u.innerHTML="4 Friends",u.id="fourFriendsHeading",s.appendChild(u);var l=document.createElement("div");l.id="notInRoomContainer",a.appendChild(l);var f=document.createElement("input");f.id="roomIdInput",f.placeholder="Enter Room Name...",l.appendChild(f),l.appendChild(document.createElement("br"));var h=document.createElement("input");h.id="nicknameInput",h.placeholder="Choose a Nickname...",l.appendChild(h);var d=document.createElement("div");d.id="joinOrCreateRoom",l.appendChild(d);var p=document.createElement("button");p.id="joinRoom",p.innerHTML="Join Room",p.addEventListener("click",(function(){if(0===f.value.trim().length)return new r.Notification("Room Name Invalid",'The room name contains at least one character. Please enter it into the box labeled "Enter Room Name" ').show();h.value.length>11&&!confirm("Long names may cause visual display problems. Proceed?")||window.stateManager.joinRoom(f.value.toLowerCase(),h.value)})),d.appendChild(p);var v=document.createElement("button");v.id="createRoom",v.innerHTML="Create Room",v.addEventListener("click",(function(){if(0===f.value.trim().length)return new r.Notification("Unable to Create Room",'Please pick a 1+ character long name, and enter it into the box labeled "Enter Room Name" ').show();h.value.length>11&&!confirm("Long names may cause visual display problems. Proceed?")||window.stateManager.createRoom(f.value.toLowerCase(),h.value)})),d.appendChild(v),d.appendChild(document.createElement("br"));var g=document.createElement("button");if(g.id="singlePlayerGame",g.innerHTML="Single Player",g.addEventListener("click",(function(){var t="sp-"+Math.floor(1e10*Math.random());window.stateManager.createRoom(t,"You"),window.stateManager.addBot("Bot 1"),window.stateManager.addBot("Bot 2"),window.stateManager.addBot("Bot 3")})),d.appendChild(g),window.isNative)try{window.screen.orientation.lock("landscape")}catch(t){console.error(t)}var m=document.createElement("p");function y(t){var e,n,r=null===(e=window.screen)||void 0===e||null===(n=e.orientation)||void 0===n?void 0:n.type;(r?r.includes("portrait"):90!==Math.abs(window.orientation))&&screen.width<900?m.style.display="":m.style.display="none"}m.id="screenRotationAlert",m.innerHTML="Rotating your screen to Landscape mode is recommended. ",l.appendChild(m),window.addEventListener("orientationchange",y),y();var w=document.createElement("div");w.id="inRoomContainer",w.style.display="none",a.appendChild(w);var b=document.createElement("h2");b.id="currentRoom",w.appendChild(b);var x=document.createElement("h2");x.id="playerCount",w.appendChild(x);var S=document.createElement("div");S.id="playerView",w.appendChild(S);var E=document.createElement("button");E.innerHTML="Leave Room",E.id="leaveRoomButton",w.appendChild(E),E.addEventListener("click",(function(){confirm("Are you sure you want to leave this room?")&&window.stateManager.leaveRoom(window.stateManager.roomId)}));var T=document.createElement("button");T.innerHTML="Close Room",T.id="closeRoomButton",T.style.display="none",w.appendChild(T),T.addEventListener("click",(function(){confirm("Are you sure you want to close this room?")&&window.stateManager.closeRoom(window.stateManager.roomId)}));var C,L=document.createElement("button");L.innerHTML="Start Game",L.id="startGameButton",L.style.display="none",w.appendChild(L),L.addEventListener("click",(function(){window.stateManager.startGame(C.getChoices())}));var k=document.createElement("button");k.innerHTML="Add Bot",k.id="addBotButton",k.style.display="none",w.appendChild(k),k.addEventListener("click",(function(){var t=prompt("Please enter a name for the bot: ");t.length>11&&!confirm("Long names may cause visual display problems. Proceed?")||window.stateManager.addBot(t)}));var O=document.createElement("div");O.id="inviteYourFriendsElem",w.appendChild(O);var M=document.createElement("div");M.id="inviteYourFriendsDiv",O.appendChild(M);var P=document.createElement("h2");P.innerHTML="Invite Players to Join This Game!",M.appendChild(P);var A=document.createElement("p");A.id="joinRoomLinkElem",A.innerHTML="Share the link: <br>";var I=document.createElement("a");I.target="_blank",A.appendChild(I),M.appendChild(A);var R=document.createElement("img");R.id="QRImageElement",O.appendChild(R);var N=document.createElement("div");N.id="gameSettingsElem",w.appendChild(N);var j=document.createElement("a");j.target="_blank",j.href="https://drive.google.com/file/d/1aGyekkldVouVY2Hy7SXTTvhS7I5X6o8O/view",j.id="tutorialLink",j.innerHTML="Mahjong 4 Friends Tutorial",a.appendChild(j),a.appendChild(document.createElement("br"));var D=document.createElement("a");D.target="_blank",D.href="https://docs.google.com/document/d/1sSGxlRHMkWYHjYhxJTLvHoFsVPAgSs7DFRpsZLmgIvc/edit#heading=h.t7shfpx0qwex",D.id="documentationLink",D.innerHTML="See Full Documentation",a.appendChild(D);var F=document.createElement("p");if(F.id="supportInfo",F.innerHTML="Questions, Comments, or Concerns? Contact <a href='mailto:support@mahjong4friends.com'>support@mahjong4friends.com</a>",a.appendChild(F),window.Capacitor||window.isAndroid){var B=document.createElement("p");B.id="supportInfo",window.Capacitor?B.innerHTML='Enjoying Mahjong 4 Friends? Please <a href="https://apps.apple.com/us/app/mahjong-4-friends/id1552704332" target="_blank">rate us in the App Store</a>!':window.isAndroid&&(B.innerHTML='Enjoying Mahjong 4 Friends? Please <a href="https://play.google.com/store/apps/details?id=com.mahjong4friends.twa" target="_blank">leave a review on Google Play</a>!'),a.appendChild(B)}else{var H=function(t,e,n){var r=document.createElement("a");r.href=t,r.target="_blank";var o=document.createElement("img");o.src=e,o.alt=n,r.appendChild(o),U.appendChild(r)},U=document.createElement("div");U.id="externalAppStoresDiv",a.appendChild(U),H("https://apps.apple.com/us/app/mahjong-4-friends/id1552704332","assets/badges/appstore.svg","Get Mahjong 4 Friends on the App Store"),H("https://play.google.com/store/apps/details?id=com.mahjong4friends.twa","assets/badges/googleplay.svg","Get Mahjong 4 Friends on Google Play")}var _=document.createElement("p");_.innerHTML="Copyright Â© 2020, All Rights Reserved",_.id="copyrightNotice",a.appendChild(_),speechSynthesis.getVoices();var G={};function J(){var t=document.createElement("select"),e=speechSynthesis.getVoices();console.log(e);var n=document.createElement("option");n.value="none",n.innerHTML="No Voice",n.selected=!0,t.appendChild(n);var r=document.createElement("option");r.value="default",r.innerHTML="Default Voice",t.appendChild(r),e.forEach((function(e,n){var r=document.createElement("option");r.value=n,r.innerHTML=e.lang+"("+e.name+")",t.appendChild(r)})),this.elem=t,this.get=function(){return e[Number(t.value)]||t.value},this.set=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";t.value=n,-1!==e.indexOf(n)&&(t.value=e.indexOf(n))}}function q(){w.style.display="block",l.style.display="none";var t="#roomId="+stateManager.inRoom;I.href=t,window.isNative&&(I.href="https://mahjong4friends.com"+t),I.innerHTML=I.href;try{var e=i(0,"H");e.addData(I.href),e.make(),R.src=e.createDataURL(3,9)}catch(t){console.error(t)}}window.voiceChoices=G,window.stateManager.onJoinRoom=function(t){if("error"===t.status)return new r.Notification("Unable to Join Room",t.message).show();b.innerHTML="You are in room "+t.message,q()},window.stateManager.onCreateRoom=function(t){if("error"===t.status)return new r.Notification("Unable to Create Room",t.message).show();b.innerHTML="You are hosting room "+t.message,q()},window.stateManager.onLeaveRoom=function(t){w.style.display="none",l.style.display="block";var e=n(122);e.setClientId(e.createNewClientId()),"You closed the room. "!==t.message&&"You left the room. "!==t.message&&new r.Notification("Out of Room",t.message).show()},window.stateManager.addEventListener("onStateUpdate",(function(t){var e;console.log(t),x.innerHTML=t.message.clients.length+"/4 Players are Present";var n=null===(e=C)||void 0===e?void 0:e.getChoices();window.stateManager.isHost?(L.style.display="none",k.style.display="",T.style.display="",E.style.display="",(C=new o(N,!0)).setChoices(n),1===t.message.clients.length?E.style.display="none":4===t.message.clients.length&&(L.style.display="",k.style.display="none")):(k.style.display="none",T.style.display="none",L.style.display="none",E.style.display="",(C=new o(N,!1)).setChoices(n)),window.gameSettings=C,function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;S.firstChild;)S.firstChild.remove();t.forEach((function(t){var n=document.createElement("div");n.classList.add("playerViewRow");var r=document.createElement("span");r.classList.add("playerViewNameSpan"),r.innerHTML=t.nickname,n.appendChild(r);var o=document.createElement("span");o.classList.add("playerViewCard"),n.appendChild(o);var i=document.createElement("span");function a(e,n){e.classList.add("editableName");var o="Enter a new nickname for ".concat(t.nickname,": ");n===window.clientId&&(o="Enter a new nickname: "),r.addEventListener("click",(function(){var e=prompt(o);null!==e&&window.stateManager.setNickname(e,t.id)}))}if(i.classList.add("playerViewVoiceChoice"),n.appendChild(i),t.id===window.clientId)i.innerHTML="N/A",a(r,t.id),window.stateManager.isHost?o.innerHTML="You (Host)":o.innerHTML="You";else if(G[t.id]=G[t.id]||new J,i.appendChild(G[t.id].elem),t.isHost)o.innerHTML="Host";else if(window.stateManager.isHost){a(r,t.id);var s=document.createElement("button");s.innerHTML="Remove "+t.nickname,s.classList.add("playerViewKickButton"),s.addEventListener("click",(function(){confirm("Are you sure you want to remove "+t.nickname)&&e(t.id)})),o.appendChild(s)}else o.innerHTML="Player";S.appendChild(n)}))}(t.message.clients,(function(t){window.stateManager.kickUser(window.stateManager.roomId,t)}))})),window.stateManager.getCurrentRoom(),window.stateManager.addEventListener("onStartGame",(function(){a.style.display="none"})),window.stateManager.addEventListener("onEndGame",(function(t){a.style.display="","State Sync"!==t.message?new r.Notification("Game Ended",t.message).show():console.log("Game Ended due to state sync. Popup suppressed in dev mode. ")}));var V=new URLSearchParams("?"+window.location.hash.slice(1));V.has("roomId")&&(f.value=V.get("roomId")),V.has("name")&&(h.value=V.get("name")),V.has("clientId")&&!V.get("clientId").startsWith("bot")&&(!0,new r.MessageBar("This page is in development mode due to the clientId parameter. ").show(8e3)),t.exports=a},function(t,e,n){function r(){var t=document.createElement("div");t.id="randomizeWindsSelectorDiv";var e=document.createElement("input");e.id="randomizeWindsSelectorCheckbox",e.type="checkbox";var n=document.createElement("label");n.for="randomizeWindsSelectorCheckbox",n.innerHTML="Randomize Winds (Except East)",n.addEventListener("click",(function(){e.click()})),this.elem=t,t.appendChild(e),t.appendChild(n),this.get=function(){return e.checked},this.set=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.checked=t},this.isHost=!0}function o(){var t=document.createElement("div");t.id="unlimitedSequencesSelectorDiv";var e=document.createElement("input");e.id="unlimitedSequencesSelectorCheckbox",e.type="checkbox";var n=document.createElement("label");n.for="unlimitedSequencesSelectorCheckbox",n.innerHTML="Allow Unlimited Sequences (WARNING: Some minor bugs)",n.addEventListener("click",(function(){e.click()})),this.elem=t,t.appendChild(e),t.appendChild(n),this.get=function(){return e.checked},this.set=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.checked=t},this.isHost=!0}function i(){var t=document.createElement("div");t.id="botSelectorDiv";var e=document.createElement("input");e.id="botSelectorCheckbox",e.type="checkbox";var n=document.createElement("label");n.for="botSelectorCheckbox",n.innerHTML="Allow bot to charleston",n.addEventListener("click",(function(){e.click()})),this.elem=t,t.appendChild(e),t.appendChild(n),this.get=function(){return{canCharleston:e.checked}},this.set=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.checked=null!==(t=null==n?void 0:n.canCharleston)&&void 0!==t&&t},this.isHost=!0}n(159),t.exports=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.firstChild;)t.firstChild.remove();var n=document.createElement("h2");n.innerHTML="Game Settings",t.appendChild(n);var a={unlimitedSequences:new o,randomizeWinds:new r,botSettings:new i};for(var s in a){var c=a[s];!c.isHost||e?(t.appendChild(c.elem),c.set()):delete a[s]}0===Object.keys(a).length&&n.remove(),this.getChoices=function(){var t={};for(var e in a)t[e]=a[e].get();return t},this.setChoices=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in t)a[e]&&a[e].set(t[e])}}},function(t,e,n){!function(t){"use strict";function e(t){return t===document.body||t===document.documentElement}function n(t,n){var r;if(e(t))r=0===n?t.clientLeft:t.clientTop;else{var o=t.getBoundingClientRect();r=0===n?o.left:o.top}return r}function r(t,n){return e(t)?0===n?window.innerWidth:window.innerHeight:0===n?t.clientWidth:t.clientHeight}function o(t,n,r){var o=0===n?"scrollLeft":"scrollTop",i=e(t);if(2===arguments.length)return i?document.body[o]||document.documentElement[o]:t[o];i?(document.documentElement[o]+=r,document.body[o]+=r):t[o]+=r}function i(t){var e=getComputedStyle(t);return t.scrollHeight>t.clientHeight&&("scroll"===e.overflowY||"auto"===e.overflowY)||t.scrollWidth>t.clientWidth&&("scroll"===e.overflowX||"auto"===e.overflowX)}function a(t,e,n){return t<n?-1:e-t<n?1:0}function s(t,e,n,r){return-1===t?Math.abs(e-r):1===t?Math.abs(n-e-r):0}function c(t,e,n){var r=0===t?n.scrollX:n.scrollY;return 1===e?r>=(0===t?n.scrollWidth-n.width:n.scrollHeight-n.height):-1!==e||r<=0}var u,l,f,h,d,p=75,v=function(t,e){var n=t/e;return n*n*n*e},g={horizontal:0,vertical:0},m={x:0,y:0};function y(){u||(u=window.requestAnimationFrame(w))}function w(){var t=0,n=0,r=e(h);0!==g.horizontal&&(t=Math.round(v(m.x,p)*g.horizontal),o(h,0,t)),0!==g.vertical&&(n=Math.round(v(m.y,p)*g.vertical),o(h,1,n)),r?d(t,n):d(0,0),u=null,b(l,h,p,g,m)&&y()}function b(t,e,i,u,l){if(!t||!e)return!1;var f={x:n(e,0),y:n(e,1),width:r(e,0),height:r(e,1),scrollX:o(e,0),scrollY:o(e,1),scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight},h={x:t.x-f.x,y:t.y-f.y};return u.horizontal=a(h.x,f.width,i),u.vertical=a(h.y,f.height,i),u.horizontal&&c(0,u.horizontal,f)?u.horizontal=0:u.horizontal&&(l.x=s(u.horizontal,h.x,f.width,i)),u.vertical&&c(1,u.vertical,f)?u.vertical=0:u.vertical&&(l.y=s(u.vertical,h.y,f.height,i)),!(!u.horizontal&&!u.vertical)}var x=function(t,e,n,r){l=e,d=r,f!==n&&(h=function(t){do{if(!t)return;if(i(t))return t;if(t===document.documentElement)return null}while(t=t.parentNode);return null}(f=n)),b(l,h,p,g,m)?y():u&&(window.cancelAnimationFrame(u),u=null)};t.scrollBehaviourDragImageTranslateOverride=x,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){
/*! mobile-drag-drop 2.3.0-rc.1 | Copyright (c) 2019 Tim Ruffles | MIT License */
!function(t){"use strict";var e="dnd-poly-",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],r=["none","copy","move","link"],o=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}();function i(t){return t&&t.tagName}function a(t,e,n){void 0===n&&(n=!0),document.addEventListener(t,e,!!o&&{passive:n})}function s(t,e){document.removeEventListener(t,e)}function c(t,e,n,r){void 0===r&&(r=!1);var i=o?{passive:!0,capture:r}:r;return t.addEventListener(e,n,i),{off:function(){t.removeEventListener(e,n,i)}}}function u(t){return 0===t.length?0:t.reduce((function(t,e){return e+t}),0)/t.length}function l(t,e){for(var n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return!0;return!1}function f(t,e,n){for(var r=[],o=[],i=0;i<e.touches.length;i++){var a=e.touches[i];r.push(a[t+"X"]),o.push(a[t+"Y"])}n.x=u(r),n.y=u(o)}var h=["","-webkit-"];function d(t,e,n,r,o){void 0===o&&(o=!0);var i=e.x,a=e.y;r&&(i+=r.x,a+=r.y),o&&(i-=parseInt(t.offsetWidth,10)/2,a-=parseInt(t.offsetHeight,10)/2);for(var s="translate3d("+i+"px,"+a+"px, 0)",c=0;c<h.length;c++){var u=h[c]+"transform";t.style[u]=s+" "+n[c]}}var p=function(){function t(t,e){this.t=t,this.i=e,this.s=r[0]}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this.s},set:function(t){0!==this.t.mode&&n.indexOf(t)>-1&&(this.s=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this.t.mode)return Object.freeze(this.t.types)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this.t.effectAllowed},set:function(t){2===this.t.mode&&n.indexOf(t)>-1&&(this.t.effectAllowed=t)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this.t.mode){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.t.data[t]=e,-1===this.t.types.indexOf(t)&&this.t.types.push(t)}},t.prototype.getData=function(t){if(1===this.t.mode||2===this.t.mode)return this.t.data[t]||""},t.prototype.clearData=function(t){if(2===this.t.mode){if(t&&this.t.data[t]){delete this.t.data[t];var e=this.t.types.indexOf(t);return void(e>-1&&this.t.types.splice(e,1))}this.t.data={},this.t.types=[]}},t.prototype.setDragImage=function(t,e,n){2===this.t.mode&&this.i(t,e,n)},t}();function v(t,e){return t?t===n[0]?r[0]:0===t.indexOf(n[1])||t===n[7]?r[1]:0===t.indexOf(n[4])?r[3]:t===n[6]?r[2]:r[1]:3===e.nodeType&&"A"===e.tagName?r[3]:r[1]}function g(t,e,n,r,o,i,a){void 0===i&&(i=!0),void 0===a&&(a=null);var s=function(t,e,n,r,o,i,a){void 0===a&&(a=null);var s=e.changedTouches[0],c=new Event(n,{bubbles:!0,cancelable:r});c.dataTransfer=i,c.relatedTarget=a,c.screenX=s.screenX,c.screenY=s.screenY,c.clientX=s.clientX,c.clientY=s.clientY,c.pageX=s.pageX,c.pageY=s.pageY;var u=t.getBoundingClientRect();return c.offsetX=c.clientX-u.left,c.offsetY=c.clientY-u.top,c}(e,n,t,i,document.defaultView,o,a),c=!e.dispatchEvent(s);return r.mode=0,c}function m(t,e){if(!t||t===n[7])return e;if(e===r[1]){if(0===t.indexOf(r[1]))return r[1]}else if(e===r[3]){if(0===t.indexOf(r[3])||t.indexOf("Link")>-1)return r[3]}else if(e===r[2]&&(0===t.indexOf(r[2])||t.indexOf("Move")>-1))return r[2];return r[0]}var y,w=function(){function t(t,e,n,r){this.h=t,this.o=e,this.u=n,this.l=r,this.v=0,this.p=null,this.g=null,this.m=t,this.I=t.changedTouches[0],this.j=this.C.bind(this),this.S=this.k.bind(this),a("touchmove",this.j,!1),a("touchend",this.S,!1),a("touchcancel",this.S,!1)}return t.prototype.A=function(){var t=this;this.v=1,this.O=r[0],this.D={data:{},effectAllowed:void 0,mode:3,types:[]},this.M={x:null,y:null},this.F={x:null,y:null};var e=this.u;if(this.N=new p(this.D,(function(n,r,o){e=n,"number"!=typeof r&&"number"!=typeof o||(t.P={x:r||0,y:o||0})})),this.D.mode=2,this.N.dropEffect=r[0],g("dragstart",this.u,this.m,this.D,this.N))return this.v=3,this.T(),!1;f("page",this.m,this.F);var n,o=this.o.dragImageSetup(e);if(this.L=(n=o,h.map((function(t){var e=n.style[t+"transform"];return e&&"none"!==e?e.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""}))),o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style.zIndex="999999",o.classList.add("dnd-poly-drag-image"),o.classList.add("dnd-poly-icon"),this._=o,!this.P)if(this.o.dragImageOffset)this.P={x:this.o.dragImageOffset.x,y:this.o.dragImageOffset.y};else if(this.o.dragImageCenterOnTouch){var i=getComputedStyle(e);this.P={x:0-parseInt(i.marginLeft,10),y:0-parseInt(i.marginTop,10)}}else{var a=e.getBoundingClientRect();i=getComputedStyle(e),this.P={x:a.left-this.I.clientX-parseInt(i.marginLeft,10)+a.width/2,y:a.top-this.I.clientY-parseInt(i.marginTop,10)+a.height/2}}return d(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch),document.body.appendChild(this._),this.V=window.setInterval((function(){t.X||(t.X=!0,t.Y(),t.X=!1)}),this.o.iterationInterval),!0},t.prototype.T=function(){this.V&&(clearInterval(this.V),this.V=null),s("touchmove",this.j),s("touchend",this.S),s("touchcancel",this.S),this._&&(this._.parentNode.removeChild(this._),this._=null),this.l(this.o,this.m,this.v)},t.prototype.C=function(t){var e=this;if(!1!==l(t,this.I.identifier)){if(this.m=t,0===this.v){var n=void 0;if(this.o.dragStartConditionOverride)try{n=this.o.dragStartConditionOverride(t)}catch(t){n=!1}else n=1===t.touches.length;return n?void(!0===this.A()&&(this.h.preventDefault(),t.preventDefault())):void this.T()}if(t.preventDefault(),f("client",t,this.M),f("page",t,this.F),this.o.dragImageTranslateOverride)try{var r=!1;if(this.o.dragImageTranslateOverride(t,{x:this.M.x,y:this.M.y},this.p,(function(t,n){e._&&(r=!0,e.M.x+=t,e.M.y+=n,e.F.x+=t,e.F.y+=n,d(e._,e.F,e.L,e.P,e.o.dragImageCenterOnTouch))})),r)return}catch(t){}d(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch)}},t.prototype.k=function(t){if(!1!==l(t,this.I.identifier)){if(this.o.dragImageTranslateOverride)try{this.o.dragImageTranslateOverride(void 0,void 0,void 0,(function(){}))}catch(t){}0!==this.v?(t.preventDefault(),this.v="touchcancel"===t.type?3:2):this.T()}},t.prototype.Y=function(){var t=this,n=this.O;this.D.mode=3,this.N.dropEffect=r[0];var o=g("drag",this.u,this.m,this.D,this.N);if(o&&(this.O=r[0]),o||2===this.v||3===this.v)return this.q(this.v)?void function(t,e,n,r){var o=getComputedStyle(t);if("hidden"!==o.visibility&&"none"!==o.display){e.classList.add("dnd-poly-snapback");var i=getComputedStyle(e),a=parseFloat(i.transitionDuration);if(isNaN(a)||0===a)r();else{var s=t.getBoundingClientRect(),c={x:s.left,y:s.top};c.x+=document.body.scrollLeft||document.documentElement.scrollLeft,c.y+=document.body.scrollTop||document.documentElement.scrollTop,c.x-=parseInt(o.marginLeft,10),c.y-=parseInt(o.marginTop,10);var u=parseFloat(i.transitionDelay),l=Math.round(1e3*(a+u));d(e,c,n,void 0,!1),setTimeout(r,l)}}else r()}(this.u,this._,this.L,(function(){t.B()})):void this.B();var a=this.o.elementFromPoint(this.M.x,this.M.y),s=this.g;a!==this.p&&a!==this.g&&(this.p=a,null!==this.g&&(this.D.mode=3,this.N.dropEffect=r[0],g("dragexit",this.g,this.m,this.D,this.N,!1)),null===this.p?this.g=this.p:(this.D.mode=3,this.N.dropEffect=v(this.D.effectAllowed,this.u),g("dragenter",this.p,this.m,this.D,this.N)?(this.g=this.p,this.O=m(this.N.effectAllowed,this.N.dropEffect)):this.p!==document.body&&(this.g=document.body))),s!==this.g&&i(s)&&(this.D.mode=3,this.N.dropEffect=r[0],g("dragleave",s,this.m,this.D,this.N,!1,this.g)),i(this.g)&&(this.D.mode=3,this.N.dropEffect=v(this.D.effectAllowed,this.u),!1===g("dragover",this.g,this.m,this.D,this.N)?this.O=r[0]:this.O=m(this.N.effectAllowed,this.N.dropEffect)),n!==this.O&&this._.classList.remove(e+n);var c=e+this.O;this._.classList.add(c)},t.prototype.q=function(t){var e=this.O===r[0]||null===this.g||3===t;return e?i(this.g)&&(this.D.mode=3,this.N.dropEffect=r[0],g("dragleave",this.g,this.m,this.D,this.N,!1)):i(this.g)&&(this.D.mode=1,this.N.dropEffect=this.O,!0===g("drop",this.g,this.m,this.D,this.N)?this.O=this.N.dropEffect:this.O=r[0]),e},t.prototype.B=function(){this.D.mode=3,this.N.dropEffect=this.O,g("dragend",this.u,this.m,this.D,this.N,!1),this.v=2,this.T()},t}(),b={iterationInterval:150,tryFindDraggableTarget:function(t){var e=t.target;do{if(!1!==e.draggable){if(!0===e.draggable)return e;if(e.getAttribute&&"true"===e.getAttribute("draggable"))return e}}while((e=e.parentNode)&&e!==document.body)},dragImageSetup:function(t){var e=t.cloneNode(!0);return function t(e,n){if(1===e.nodeType){for(var r=getComputedStyle(e),o=0;o<r.length;o++){var i=r[o];n.style.setProperty(i,r.getPropertyValue(i),r.getPropertyPriority(i))}if(n.style.pointerEvents="none",n.removeAttribute("id"),n.removeAttribute("class"),n.removeAttribute("draggable"),"CANVAS"===n.nodeName){var a=e,s=n,c=a.getContext("2d").getImageData(0,0,a.width,a.height);s.getContext("2d").putImageData(c,0,0)}}if(e.hasChildNodes())for(o=0;o<e.childNodes.length;o++)t(e.childNodes[o],n.childNodes[o])}(t,e),e},elementFromPoint:function(t,e){return document.elementFromPoint(t,e)}};function x(t){if(!y){var e=b.tryFindDraggableTarget(t);if(e)try{y=new w(t,b,e,E)}catch(e){throw E(b,t,3),e}}}function S(t){var e=t.target,n=function(t){o.off(),i.off(),a.off(),s.off(),e&&e.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(r)};e&&e.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var r=window.setTimeout((function(){o.off(),i.off(),a.off(),s.off(),x(t)}),b.holdToDrag),o=c(e,"touchend",n),i=c(e,"touchcancel",n),a=c(e,"touchmove",n),s=c(window,"scroll",n,!0)}function E(t,e,n){if(0===n&&t.defaultActionOverride)try{t.defaultActionOverride(e),e.defaultPrevented}catch(t){}y=null}t.polyfill=function(t){if(t&&Object.keys(t).forEach((function(e){b[e]=t[e]})),!b.forceApply){var e=(n={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},r=!!window.chrome||/chrome/i.test(navigator.userAgent),n.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||r&&"ontouchstart"in document.documentElement),n);if(e.userAgentSupportingNativeDnD&&e.draggable&&e.dragEvents)return!1}var n,r;return b.holdToDrag?a("touchstart",S,!1):a("touchstart",x,!1),!0},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){var r={"./GameBoard.js":149,"./Hand.js":113,"./Hand/getClearHandDoubles.js":158,"./Hand/isCalling.js":162,"./Hand/isMahjong.js":160,"./Hand/score.js":157,"./Hand/syncContents.js":156,"./Match.js":66,"./Popups.js":140,"./Pretty.js":81,"./RoomManager.js":163,"./RoomManager/SettingsMenu.js":164,"./Sequence.js":67,"./StateManager.js":122,"./Tile.js":40,"./Wall.js":101,"./index.js":141,"./universalLinks.js":107};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=167},function(t,e,n){var r=n(13),o=n(53).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){"use strict";var r=n(16),o=n(54),i=n(12);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>s;)e[s++]=t;return e}},function(t,e,n){var r=n(6),o=n(103);t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},function(t,e,n){"use strict";var r=n(4),o=n(72).findIndex,i=n(74),a=n(37),s=!0,c=a("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!c},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(t,e,n){var r=n(4),o=n(106);r({target:"Array",stat:!0,forced:!n(109)((function(t){Array.from(t)}))},{from:o})},function(t,e,n){"use strict";var r=n(4),o=n(174).left,i=n(73),a=n(37),s=i("reduce"),c=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!c},{reduce:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(23),o=n(16),i=n(34),a=n(12),s=function(t){return function(e,n,s,c){r(n);var u=o(e),l=i(u),f=a(u.length),h=t?f-1:0,d=t?-1:1;if(s<2)for(;;){if(h in l){c=l[h],h+=d;break}if(h+=d,t?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:f>h;h+=d)h in l&&(c=n(c,l[h],h,u));return c}};t.exports={left:s(!1),right:s(!0)}},function(t,e,n){"use strict";var r=n(4),o=n(34),i=n(13),a=n(73),s=[].join,c=o!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(4),o=n(152).trim;r({target:"String",proto:!0,forced:n(177)("trim")},{trim:function(){return o(this)}})},function(t,e,n){var r=n(2),o=n(153);t.exports=function(t){return r((function(){return!!o[t]()||"âÂá "!="âÂá "[t]()||o[t].name!==t}))}},function(t,e,n){var r,o,i,a=function(){var t=function(t,e){var n=t,r=c[e],o=null,i=0,a=null,s=[],u={},l=function(t,e){o=function(t){for(var e=new Array(t),n=0;n<t;n+=1){e[n]=new Array(t);for(var r=0;r<t;r+=1)e[n][r]=null}return e}(i=4*n+17),f(0,0),f(i-7,0),f(0,i-7),d(),h(),v(t,e),n>=7&&p(t),null==a&&(a=y(n,r,s)),g(a,e)},f=function(t,e){for(var n=-1;n<=7;n+=1)if(!(t+n<=-1||i<=t+n))for(var r=-1;r<=7;r+=1)e+r<=-1||i<=e+r||(o[t+n][e+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},h=function(){for(var t=8;t<i-8;t+=1)null==o[t][6]&&(o[t][6]=t%2==0);for(var e=8;e<i-8;e+=1)null==o[6][e]&&(o[6][e]=e%2==0)},d=function(){for(var t=m.getPatternPosition(n),e=0;e<t.length;e+=1)for(var r=0;r<t.length;r+=1){var i=t[e],a=t[r];if(null==o[i][a])for(var s=-2;s<=2;s+=1)for(var c=-2;c<=2;c+=1)o[i+s][a+c]=-2==s||2==s||-2==c||2==c||0==s&&0==c}},p=function(t){for(var e=m.getBCHTypeNumber(n),r=0;r<18;r+=1){var a=!t&&1==(e>>r&1);o[Math.floor(r/3)][r%3+i-8-3]=a}for(r=0;r<18;r+=1){a=!t&&1==(e>>r&1);o[r%3+i-8-3][Math.floor(r/3)]=a}},v=function(t,e){for(var n=r<<3|e,a=m.getBCHTypeInfo(n),s=0;s<15;s+=1){var c=!t&&1==(a>>s&1);s<6?o[s][8]=c:s<8?o[s+1][8]=c:o[i-15+s][8]=c}for(s=0;s<15;s+=1){c=!t&&1==(a>>s&1);s<8?o[8][i-s-1]=c:s<9?o[8][15-s-1+1]=c:o[8][15-s-1]=c}o[i-8][8]=!t},g=function(t,e){for(var n=-1,r=i-1,a=7,s=0,c=m.getMaskFunction(e),u=i-1;u>0;u-=2)for(6==u&&(u-=1);;){for(var l=0;l<2;l+=1)if(null==o[r][u-l]){var f=!1;s<t.length&&(f=1==(t[s]>>>a&1)),c(r,u-l)&&(f=!f),o[r][u-l]=f,-1==(a-=1)&&(s+=1,a=7)}if((r+=n)<0||i<=r){r-=n,n=-n;break}}},y=function(t,e,n){for(var r=b.getRSBlocks(t,e),o=x(),i=0;i<n.length;i+=1){var a=n[i];o.put(a.getMode(),4),o.put(a.getLength(),m.getLengthInBits(a.getMode(),t)),a.write(o)}var s=0;for(i=0;i<r.length;i+=1)s+=r[i].dataCount;if(o.getLengthInBits()>8*s)throw"code length overflow. ("+o.getLengthInBits()+">"+8*s+")";for(o.getLengthInBits()+4<=8*s&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*s||(o.put(236,8),o.getLengthInBits()>=8*s));)o.put(17,8);return function(t,e){for(var n=0,r=0,o=0,i=new Array(e.length),a=new Array(e.length),s=0;s<e.length;s+=1){var c=e[s].dataCount,u=e[s].totalCount-c;r=Math.max(r,c),o=Math.max(o,u),i[s]=new Array(c);for(var l=0;l<i[s].length;l+=1)i[s][l]=255&t.getBuffer()[l+n];n+=c;var f=m.getErrorCorrectPolynomial(u),h=w(i[s],f.getLength()-1).mod(f);a[s]=new Array(f.getLength()-1);for(l=0;l<a[s].length;l+=1){var d=l+h.getLength()-a[s].length;a[s][l]=d>=0?h.getAt(d):0}}var p=0;for(l=0;l<e.length;l+=1)p+=e[l].totalCount;var v=new Array(p),g=0;for(l=0;l<r;l+=1)for(s=0;s<e.length;s+=1)l<i[s].length&&(v[g]=i[s][l],g+=1);for(l=0;l<o;l+=1)for(s=0;s<e.length;s+=1)l<a[s].length&&(v[g]=a[s][l],g+=1);return v}(o,r)};u.addData=function(t,e){var n=null;switch(e=e||"Byte"){case"Numeric":n=S(t);break;case"Alphanumeric":n=E(t);break;case"Byte":n=T(t);break;case"Kanji":n=C(t);break;default:throw"mode:"+e}s.push(n),a=null},u.isDark=function(t,e){if(t<0||i<=t||e<0||i<=e)throw t+","+e;return o[t][e]},u.getModuleCount=function(){return i},u.make=function(){if(n<1){for(var t=1;t<40;t++){for(var e=b.getRSBlocks(t,r),o=x(),i=0;i<s.length;i++){var a=s[i];o.put(a.getMode(),4),o.put(a.getLength(),m.getLengthInBits(a.getMode(),t)),a.write(o)}var c=0;for(i=0;i<e.length;i++)c+=e[i].dataCount;if(o.getLengthInBits()<=8*c)break}n=t}l(!1,function(){for(var t=0,e=0,n=0;n<8;n+=1){l(!0,n);var r=m.getLostPoint(u);(0==n||t>r)&&(t=r,e=n)}return e}())},u.createTableTag=function(t,e){t=t||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",n+='">',n+="<tbody>";for(var r=0;r<u.getModuleCount();r+=1){n+="<tr>";for(var o=0;o<u.getModuleCount();o+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+t+"px;",n+=" height: "+t+"px;",n+=" background-color: ",n+=u.isDark(r,o)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},u.createSvgTag=function(t,e,n,r){var o={};"object"==typeof arguments[0]&&(t=(o=arguments[0]).cellSize,e=o.margin,n=o.alt,r=o.title),t=t||2,e=void 0===e?4*t:e,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-title":null;var i,a,s,c,l=u.getModuleCount()*t+2*e,f="";for(c="l"+t+",0 0,"+t+" -"+t+",0 0,-"+t+"z ",f+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',f+=o.scalable?"":' width="'+l+'px" height="'+l+'px"',f+=' viewBox="0 0 '+l+" "+l+'" ',f+=' preserveAspectRatio="xMinYMin meet"',f+=r.text||n.text?' role="img" aria-labelledby="'+L([r.id,n.id].join(" ").trim())+'"':"",f+=">",f+=r.text?'<title id="'+L(r.id)+'">'+L(r.text)+"</title>":"",f+=n.text?'<description id="'+L(n.id)+'">'+L(n.text)+"</description>":"",f+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',f+='<path d="',a=0;a<u.getModuleCount();a+=1)for(s=a*t+e,i=0;i<u.getModuleCount();i+=1)u.isDark(a,i)&&(f+="M"+(i*t+e)+","+s+c);return f+='" stroke="transparent" fill="black"/>',f+="</svg>"},u.createDataURL=function(t,e){t=t||2,e=void 0===e?4*t:e;var n=u.getModuleCount()*t+2*e,r=e,o=n-e;return O(n,n,(function(e,n){if(r<=e&&e<o&&r<=n&&n<o){var i=Math.floor((e-r)/t),a=Math.floor((n-r)/t);return u.isDark(a,i)?0:1}return 1}))},u.createImgTag=function(t,e,n){t=t||2,e=void 0===e?4*t:e;var r=u.getModuleCount()*t+2*e,o="";return o+="<img",o+=' src="',o+=u.createDataURL(t,e),o+='"',o+=' width="',o+=r,o+='"',o+=' height="',o+=r,o+='"',n&&(o+=' alt="',o+=L(n),o+='"'),o+="/>"};var L=function(t){for(var e="",n=0;n<t.length;n+=1){var r=t.charAt(n);switch(r){case"<":e+="&lt;";break;case">":e+="&gt;";break;case"&":e+="&amp;";break;case'"':e+="&quot;";break;default:e+=r}}return e};return u.createASCII=function(t,e){if((t=t||1)<2)return function(t){t=void 0===t?2:t;var e,n,r,o,i,a=1*u.getModuleCount()+2*t,s=t,c=a-t,l={"ââ":"â","â ":"â"," â":"â","  ":" "},f={"ââ":"â","â ":"â"," â":" ","  ":" "},h="";for(e=0;e<a;e+=2){for(r=Math.floor((e-s)/1),o=Math.floor((e+1-s)/1),n=0;n<a;n+=1)i="â",s<=n&&n<c&&s<=e&&e<c&&u.isDark(r,Math.floor((n-s)/1))&&(i=" "),s<=n&&n<c&&s<=e+1&&e+1<c&&u.isDark(o,Math.floor((n-s)/1))?i+=" ":i+="â",h+=t<1&&e+1>=c?f[i]:l[i];h+="\n"}return a%2&&t>0?h.substring(0,h.length-a-1)+Array(a+1).join("â"):h.substring(0,h.length-1)}(e);t-=1,e=void 0===e?2*t:e;var n,r,o,i,a=u.getModuleCount()*t+2*e,s=e,c=a-e,l=Array(t+1).join("ââ"),f=Array(t+1).join("  "),h="",d="";for(n=0;n<a;n+=1){for(o=Math.floor((n-s)/t),d="",r=0;r<a;r+=1)i=1,s<=r&&r<c&&s<=n&&n<c&&u.isDark(o,Math.floor((r-s)/t))&&(i=0),d+=i?l:f;for(o=0;o<t;o+=1)h+=d+"\n"}return h.substring(0,h.length-1)},u.renderTo2dContext=function(t,e){e=e||2;for(var n=u.getModuleCount(),r=0;r<n;r++)for(var o=0;o<n;o++)t.fillStyle=u.isDark(r,o)?"black":"white",t.fillRect(r*e,o*e,e,e)},u};t.stringToBytes=(t.stringToBytesFuncs={default:function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e.push(255&r)}return e}}).default,t.createStringToBytes=function(t,e){var n=function(){for(var n=k(t),r=function(){var t=n.read();if(-1==t)throw"eof";return t},o=0,i={};;){var a=n.read();if(-1==a)break;var s=r(),c=r()<<8|r();i[String.fromCharCode(a<<8|s)]=c,o+=1}if(o!=e)throw o+" != "+e;return i}(),r="?".charCodeAt(0);return function(t){for(var e=[],o=0;o<t.length;o+=1){var i=t.charCodeAt(o);if(i<128)e.push(i);else{var a=n[t.charAt(o)];"number"==typeof a?(255&a)==a?e.push(a):(e.push(a>>>8),e.push(255&a)):e.push(r)}}return e}};var e,n,r,o=1,i=2,a=4,s=8,c={L:1,M:0,Q:3,H:2},u=0,l=1,f=2,h=3,d=4,p=5,v=6,g=7,m=(e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],r=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e},(n={}).getBCHTypeInfo=function(t){for(var e=t<<10;r(e)-r(1335)>=0;)e^=1335<<r(e)-r(1335);return 21522^(t<<10|e)},n.getBCHTypeNumber=function(t){for(var e=t<<12;r(e)-r(7973)>=0;)e^=7973<<r(e)-r(7973);return t<<12|e},n.getPatternPosition=function(t){return e[t-1]},n.getMaskFunction=function(t){switch(t){case u:return function(t,e){return(t+e)%2==0};case l:return function(t,e){return t%2==0};case f:return function(t,e){return e%3==0};case h:return function(t,e){return(t+e)%3==0};case d:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case p:return function(t,e){return t*e%2+t*e%3==0};case v:return function(t,e){return(t*e%2+t*e%3)%2==0};case g:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw"bad maskPattern:"+t}},n.getErrorCorrectPolynomial=function(t){for(var e=w([1],0),n=0;n<t;n+=1)e=e.multiply(w([1,y.gexp(n)],0));return e},n.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case o:return 10;case i:return 9;case a:case s:return 8;default:throw"mode:"+t}else if(e<27)switch(t){case o:return 12;case i:return 11;case a:return 16;case s:return 10;default:throw"mode:"+t}else{if(!(e<41))throw"type:"+e;switch(t){case o:return 14;case i:return 13;case a:return 16;case s:return 12;default:throw"mode:"+t}}},n.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r+=1)for(var o=0;o<e;o+=1){for(var i=0,a=t.isDark(r,o),s=-1;s<=1;s+=1)if(!(r+s<0||e<=r+s))for(var c=-1;c<=1;c+=1)o+c<0||e<=o+c||0==s&&0==c||a==t.isDark(r+s,o+c)&&(i+=1);i>5&&(n+=3+i-5)}for(r=0;r<e-1;r+=1)for(o=0;o<e-1;o+=1){var u=0;t.isDark(r,o)&&(u+=1),t.isDark(r+1,o)&&(u+=1),t.isDark(r,o+1)&&(u+=1),t.isDark(r+1,o+1)&&(u+=1),0!=u&&4!=u||(n+=3)}for(r=0;r<e;r+=1)for(o=0;o<e-6;o+=1)t.isDark(r,o)&&!t.isDark(r,o+1)&&t.isDark(r,o+2)&&t.isDark(r,o+3)&&t.isDark(r,o+4)&&!t.isDark(r,o+5)&&t.isDark(r,o+6)&&(n+=40);for(o=0;o<e;o+=1)for(r=0;r<e-6;r+=1)t.isDark(r,o)&&!t.isDark(r+1,o)&&t.isDark(r+2,o)&&t.isDark(r+3,o)&&t.isDark(r+4,o)&&!t.isDark(r+5,o)&&t.isDark(r+6,o)&&(n+=40);var l=0;for(o=0;o<e;o+=1)for(r=0;r<e;r+=1)t.isDark(r,o)&&(l+=1);return n+=Math.abs(100*l/e/e-50)/5*10},n),y=function(){for(var t=new Array(256),e=new Array(256),n=0;n<8;n+=1)t[n]=1<<n;for(n=8;n<256;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(n=0;n<255;n+=1)e[t[n]]=n;var r={glog:function(t){if(t<1)throw"glog("+t+")";return e[t]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]}};return r}();function w(t,e){if(void 0===t.length)throw t.length+"/"+e;var n=function(){for(var n=0;n<t.length&&0==t[n];)n+=1;for(var r=new Array(t.length-n+e),o=0;o<t.length-n;o+=1)r[o]=t[o+n];return r}(),r={getAt:function(t){return n[t]},getLength:function(){return n.length},multiply:function(t){for(var e=new Array(r.getLength()+t.getLength()-1),n=0;n<r.getLength();n+=1)for(var o=0;o<t.getLength();o+=1)e[n+o]^=y.gexp(y.glog(r.getAt(n))+y.glog(t.getAt(o)));return w(e,0)},mod:function(t){if(r.getLength()-t.getLength()<0)return r;for(var e=y.glog(r.getAt(0))-y.glog(t.getAt(0)),n=new Array(r.getLength()),o=0;o<r.getLength();o+=1)n[o]=r.getAt(o);for(o=0;o<t.getLength();o+=1)n[o]^=y.gexp(y.glog(t.getAt(o))+e);return w(n,0).mod(t)}};return r}var b=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var n={};return n.totalCount=t,n.dataCount=e,n},n={};return n.getRSBlocks=function(n,r){var o=function(e,n){switch(n){case c.L:return t[4*(e-1)+0];case c.M:return t[4*(e-1)+1];case c.Q:return t[4*(e-1)+2];case c.H:return t[4*(e-1)+3];default:return}}(n,r);if(void 0===o)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;for(var i=o.length/3,a=[],s=0;s<i;s+=1)for(var u=o[3*s+0],l=o[3*s+1],f=o[3*s+2],h=0;h<u;h+=1)a.push(e(l,f));return a},n}(),x=function(){var t=[],e=0,n={getBuffer:function(){return t},getAt:function(e){var n=Math.floor(e/8);return 1==(t[n]>>>7-e%8&1)},put:function(t,e){for(var r=0;r<e;r+=1)n.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return e},putBit:function(n){var r=Math.floor(e/8);t.length<=r&&t.push(0),n&&(t[r]|=128>>>e%8),e+=1}};return n},S=function(t){var e=o,n=t,r={getMode:function(){return e},getLength:function(t){return n.length},write:function(t){for(var e=n,r=0;r+2<e.length;)t.put(i(e.substring(r,r+3)),10),r+=3;r<e.length&&(e.length-r==1?t.put(i(e.substring(r,r+1)),4):e.length-r==2&&t.put(i(e.substring(r,r+2)),7))}},i=function(t){for(var e=0,n=0;n<t.length;n+=1)e=10*e+a(t.charAt(n));return e},a=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+t};return r},E=function(t){var e=i,n=t,r={getMode:function(){return e},getLength:function(t){return n.length},write:function(t){for(var e=n,r=0;r+1<e.length;)t.put(45*o(e.charAt(r))+o(e.charAt(r+1)),11),r+=2;r<e.length&&t.put(o(e.charAt(r)),6)}},o=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if("A"<=t&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return r},T=function(e){var n=a,r=t.stringToBytes(e),o={getMode:function(){return n},getLength:function(t){return r.length},write:function(t){for(var e=0;e<r.length;e+=1)t.put(r[e],8)}};return o},C=function(e){var n=s,r=t.stringToBytesFuncs.SJIS;if(!r)throw"sjis not supported.";!function(t,e){var n=r("å");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported."}();var o=r(e),i={getMode:function(){return n},getLength:function(t){return~~(o.length/2)},write:function(t){for(var e=o,n=0;n+1<e.length;){var r=(255&e[n])<<8|255&e[n+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(n+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13),n+=2}if(n<e.length)throw"illegal char at "+(n+1)}};return i},L=function(){var t=[],e={writeByte:function(e){t.push(255&e)},writeShort:function(t){e.writeByte(t),e.writeByte(t>>>8)},writeBytes:function(t,n,r){n=n||0,r=r||t.length;for(var o=0;o<r;o+=1)e.writeByte(t[o+n])},writeString:function(t){for(var n=0;n<t.length;n+=1)e.writeByte(t.charCodeAt(n))},toByteArray:function(){return t},toString:function(){var e="";e+="[";for(var n=0;n<t.length;n+=1)n>0&&(e+=","),e+=t[n];return e+="]"}};return e},k=function(t){var e=t,n=0,r=0,o=0,i={read:function(){for(;o<8;){if(n>=e.length){if(0==o)return-1;throw"unexpected end of file./"+o}var t=e.charAt(n);if(n+=1,"="==t)return o=0,-1;t.match(/^\s$/)||(r=r<<6|a(t.charCodeAt(0)),o+=6)}var i=r>>>o-8&255;return o-=8,i}},a=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw"c:"+t};return i},O=function(t,e,n){for(var r=function(t,e){var n=t,r=e,o=new Array(t*e),i={setPixel:function(t,e,r){o[e*n+t]=r},write:function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(r),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(r),t.writeByte(0);var e=a(2);t.writeByte(2);for(var o=0;e.length-o>255;)t.writeByte(255),t.writeBytes(e,o,255),o+=255;t.writeByte(e.length-o),t.writeBytes(e,o,e.length-o),t.writeByte(0),t.writeString(";")}},a=function(t){for(var e=1<<t,n=1+(1<<t),r=t+1,i=s(),a=0;a<e;a+=1)i.add(String.fromCharCode(a));i.add(String.fromCharCode(e)),i.add(String.fromCharCode(n));var c=L(),u=function(t){var e=t,n=0,r=0,o={write:function(t,o){if(t>>>o!=0)throw"length over";for(;n+o>=8;)e.writeByte(255&(t<<n|r)),o-=8-n,t>>>=8-n,r=0,n=0;r|=t<<n,n+=o},flush:function(){n>0&&e.writeByte(r)}};return o}(c);u.write(e,r);var l=0,f=String.fromCharCode(o[l]);for(l+=1;l<o.length;){var h=String.fromCharCode(o[l]);l+=1,i.contains(f+h)?f+=h:(u.write(i.indexOf(f),r),i.size()<4095&&(i.size()==1<<r&&(r+=1),i.add(f+h)),f=h)}return u.write(i.indexOf(f),r),u.write(n,r),u.flush(),c.toByteArray()},s=function(){var t={},e=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;t[r]=e,e+=1},size:function(){return e},indexOf:function(e){return t[e]},contains:function(e){return void 0!==t[e]}};return n};return i}(t,e),o=0;o<e;o+=1)for(var i=0;i<t;i+=1)r.setPixel(i,o,n(i,o));var a=L();r.write(a);for(var s=function(){var t=0,e=0,n=0,r="",o={},i=function(t){r+=String.fromCharCode(a(63&t))},a=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw"n:"+t};return o.writeByte=function(r){for(t=t<<8|255&r,e+=8,n+=1;e>=6;)i(t>>>e-6),e-=6},o.flush=function(){if(e>0&&(i(t<<6-e),t=0,e=0),n%3!=0)for(var o=3-n%3,a=0;a<o;a+=1)r+="="},o.toString=function(){return r},o}(),c=a.toByteArray(),u=0;u<c.length;u+=1)s.writeByte(c[u]);return s.flush(),"data:image/gif;base64,"+s};return t}();a.stringToBytesFuncs["UTF-8"]=function(t){return function(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||r>=57344?e.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e}(t)},o=[],void 0===(i="function"==typeof(r=function(){return a})?r.apply(e,o):r)||(t.exports=i)}]);
//# sourceMappingURL=index.js.map